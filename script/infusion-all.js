!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(_,e){"use strict";function m(e,t){var n=(t=t||W).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function s(e){var t=!!e&&"length"in e&&e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,n,r){if(ie.isFunction(n))return ie.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return ie.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(he.test(n))return ie.filter(n,e,r);n=ie.filter(n,e)}return ie.grep(e,function(e){return-1<Y.call(n,e)!==r&&1===e.nodeType})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e){return e}function c(e){throw e}function l(e,t,n){var r;try{e&&ie.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&ie.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function r(){W.removeEventListener("DOMContentLoaded",r),_.removeEventListener("load",r),ie.ready()}function i(){this.expando=ie.expando+i.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Pe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?JSON.parse(n):n)}catch(e){}Se.set(e,t,n)}else n=void 0;return n}function p(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ie.css(e,t,"")},l=s(),u=n&&n[3]||(ie.cssNumber[t]?"":"px"),d=(ie.cssNumber[t]||"px"!==u&&+l)&&Le.exec(ie.css(e,t));if(d&&d[3]!==u)for(u=u||d[3],n=n||[],d=+l||1;d/=o=o||".5",ie.style(e,t,d+u),o!==(o=s()/l)&&1!==o&&--a;);return n&&(d=+d||+l||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=d,r.end=i)),i}function v(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=we.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Re(r)&&(i[o]=(c=u=l=void 0,u=(s=r).ownerDocument,d=s.nodeName,(c=Me[d])||(l=u.body.appendChild(u.createElement(d)),c=ie.css(l,"display"),l.parentNode.removeChild(l),"none"===c&&(c="block"),Me[d]=c)))):"none"!==n&&(i[o]="none",we.set(r,"display",n)));var s,l,u,d,c;for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function g(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],n):n}function y(e,t){for(var n=0,r=e.length;n<r;n++)we.set(e[n],"globalEval",!t||we.get(t[n],"globalEval"))}function b(e,t,n,r,i){for(var o,a,s,l,u,d,c=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||c.appendChild(t.createElement("div")),s=(Ae.exec(o)||["",""])[1].toLowerCase(),l=Oe[s]||Oe._default,a.innerHTML=l[1]+ie.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;ie.merge(p,a.childNodes),(a=c.firstChild).textContent=""}else p.push(t.createTextNode(o));for(c.textContent="",f=0;o=p[f++];)if(r&&-1<ie.inArray(o,r))i&&i.push(o);else if(u=ie.contains(o.ownerDocument,o),a=g(c.appendChild(o),"script"),u&&y(a),n)for(d=0;o=a[d++];)Fe.test(o.type||"")&&n.push(o);return c}function o(){return!0}function f(){return!1}function a(){try{return W.activeElement}catch(e){}}function h(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)h(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=f;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ie().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ie.guid++)),e.each(function(){ie.event.add(this,t,i,r,n)})}function x(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function C(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(we.hasData(e)&&(o=we.access(e),a=we.set(t,o),u=o.events))for(i in delete a.handle,a.events={},u)for(n=0,r=u[i].length;n<r;n++)ie.event.add(t,i,u[i][n]);Se.hasData(e)&&(s=Se.access(e),l=ie.extend({},s),Se.set(t,l))}}function S(n,r,i,o){r=K.apply([],r);var e,t,a,s,l,u,d=0,c=n.length,p=c-1,f=r[0],h=ie.isFunction(f);if(h||1<c&&"string"==typeof f&&!re.checkClone&&Qe.test(f))return n.each(function(e){var t=n.eq(e);h&&(r[0]=f.call(this,e,t.html())),S(t,r,i,o)});if(c&&(t=(e=b(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ie.map(g(e,"script"),C)).length;d<c;d++)l=e,d!==p&&(l=ie.clone(l,!0,!0),s&&ie.merge(a,g(l,"script"))),i.call(n[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,ie.map(a,E),d=0;d<s;d++)l=a[d],Fe.test(l.type||"")&&!we.access(l,"globalEval")&&ie.contains(u,l)&&(l.src?ie._evalUrl&&ie._evalUrl(l.src):m(l.textContent.replace(Ke,""),u))}return n}function T(e,t,n){for(var r,i=t?ie.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ie.cleanData(g(r)),r.parentNode&&(n&&ie.contains(r.ownerDocument,r)&&y(g(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,a,s=e.style;return(n=n||Je(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),!re.pixelMarginRight()&&Ye.test(a)&&$e.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function L(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if((e=nt[n]+t)in rt)return e}function N(e,t,n){var r=Le.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function R(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ie.css(e,n+Ne[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Ne[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Ne[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Ne[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Ne[o]+"Width",!0,i)));return a}function I(e,t,n){var r,i=!0,o=Je(e),a="border-box"===ie.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(((r=P(e,t,o))<0||null==r)&&(r=e.style[t]),Ye.test(r))return r;i=a&&(re.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+R(e,t,n||(a?"border":"content"),i,o)+"px"}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function D(){ot&&(_.requestAnimationFrame(D),ie.fx.tick())}function A(){return _.setTimeout(function(){it=void 0}),it=ie.now()}function F(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var r,i=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function B(o,e,t){var n,a,r=0,i=B.prefilters.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=it||A(),t=Math.max(0,u.startTime+u.duration-e),n=1-(t/u.duration||0),r=0,i=u.tweens.length;r<i;r++)u.tweens[r].run(n);return s.notifyWith(o,[u,n,t]),n<1&&i?t:(s.resolveWith(o,[u]),!1)},u=s.promise({elem:o,props:ie.extend({},e),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},t),originalProperties:e,originalOptions:t,startTime:it||A(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ie.Tween(o,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var t=0,n=e?u.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)u.tweens[t].run(1);return e?(s.notifyWith(o,[u,1,0]),s.resolveWith(o,[u,e])):s.rejectWith(o,[u,e]),this}}),d=u.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=ie.camelCase(n)],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ie.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(d,u.opts.specialEasing);r<i;r++)if(n=B.prefilters[r].call(u,o,d,u.opts))return ie.isFunction(n.stop)&&(ie._queueHooks(u.elem,u.opts.queue).stop=ie.proxy(n.stop,n)),n;return ie.map(d,O,u),ie.isFunction(u.opts.start)&&u.opts.start.call(o,u),ie.fx.timer(ie.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function V(n,e,r,i){var t;if(ie.isArray(e))ie.each(e,function(e,t){r||Ct.test(n)?i(n,t):V(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==ie.type(e))i(n,e);else for(t in e)V(n+"["+t+"]",e[t],r,i)}function z(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(be)||[];if(ie.isFunction(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function j(t,i,o,a){function s(e){var r;return l[e]=!0,ie.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||l[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),s(n),!1)}),r}var l={},u=t===It;return s(i.dataTypes[0])||!l["*"]&&s("*")}function U(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ie.extend(!0,e,r),e}function q(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],W=_.document,Q=Object.getPrototypeOf,X=G.slice,K=G.concat,$=G.push,Y=G.indexOf,J={},Z=J.toString,ee=J.hasOwnProperty,te=ee.toString,ne=te.call(Object),re={},ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([a-z])/g,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:"3.1.0",constructor:ie,length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ie.each(this,e)},map:function(n){return this.pushStack(ie.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:G.sort,splice:G.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(ie.isPlainObject(r)||(i=ie.isArray(r)))?(i?(i=!1,o=n&&ie.isArray(n)?n:[]):o=n&&ie.isPlainObject(n)?n:{},a[t]=ie.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},ie.extend({expando:"jQuery"+("3.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ie.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==Z.call(e)||(t=Q(e))&&("function"!=typeof(n=ee.call(t,"constructor")&&t.constructor)||te.call(n)!==ne))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[Z.call(e)]||"object":typeof e},globalEval:function(e){m(e)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?ie.merge(n,"string"==typeof e?[e]:e):$.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Y.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(s(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return K.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),ie.isFunction(e))return r=X.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(X.call(arguments)))}).guid=e.guid=e.guid||ie.guid++,i},now:Date.now,support:re}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=G[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ue=function(n){function x(e,t,n,r){var i,o,a,s,l,u,d,c=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:H)!==R&&N(t),t=t||R,M)){if(11!==p&&(l=me.exec(e)))if(i=l[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(c&&(a=c.getElementById(i))&&O(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return $.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&v.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(i)),n}if(v.qsa&&!q[e+" "]&&(!D||!D.test(e))){if(1!==p)c=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,xe):t.setAttribute("id",s=B),o=(u=w(e)).length;o--;)u[o]="#"+s+" "+h(u[o]);d=u.join(","),c=ge.test(e)&&f(t.parentNode)||t}if(d)try{return $.apply(n,c.querySelectorAll(d)),n}catch(e){}finally{s===B&&t.removeAttribute("id")}}}return T(e.replace(oe,"$1"),t,n,r)}function e(){var r=[];return function e(t,n){return r.push(t+" ")>E.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function l(e){return e[B]=!0,e}function i(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),r=n.length;r--;)E.attrHandle[n[r]]=t}function u(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&!1===e.disabled&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Ee(e))!==t)}}function s(a){return l(function(o){return o=+o,l(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function f(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function c(s,e,t){var l=e.dir,u=e.next,d=u||l,c=t&&"parentNode"===d,p=z++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||c)return s(e,t,n)}:function(e,t,n){var r,i,o,a=[V,p];if(n){for(;e=e[l];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||c)if(i=(o=e[B]||(e[B]={}))[e.uniqueID]||(o[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[l]||e;else{if((r=i[d])&&r[0]===V&&r[1]===p)return a[2]=r[2];if((i[d]=a)[2]=s(e,t,n))return!0}}}function p(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function C(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function y(f,h,m,g,v,e){return g&&!g[B]&&(g=y(g)),v&&!v[B]&&(v=y(v,e)),l(function(e,t,n,r){var i,o,a,s=[],l=[],u=t.length,d=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)x(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),c=!f||!e&&h?d:C(d,s,f,n,r),p=m?v||(e?f:u||g)?[]:t:c;if(m&&m(c,p,n,r),g)for(i=C(p,l),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[l[o]]=!(c[l[o]]=a));if(e){if(v||f){if(v){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(c[o]=a);v(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=v?J(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=C(p===t?p.splice(u,p.length):p),v?v(null,t,p,r):$.apply(t,p)})}function m(e){for(var i,t,n,r=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,l=c(function(e){return e===i},a,!0),u=c(function(e){return-1<J(i,e)},a,!0),d=[function(e,t,n){var r=!o&&(n||t!==P)||((i=t).nodeType?l(e,t,n):u(e,t,n));return i=null,r}];s<r;s++)if(t=E.relative[e[s].type])d=[c(p(d),t)];else{if((t=E.filter[e[s].type].apply(null,e[s].matches))[B]){for(n=++s;n<r&&!E.relative[e[n].type];n++);return y(1<s&&p(d),1<s&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),t,s<n&&m(e.slice(s,n)),n<r&&m(e=e.slice(n)),n<r&&h(e))}d.push(t)}return p(d)}var g,v,E,b,_,w,S,T,P,k,L,N,R,I,M,D,A,F,O,B="sizzle"+1*new Date,H=n.document,V=0,z=0,j=e(),U=e(),q=e(),G=function(e,t){return e===t&&(L=!0),0},W={}.hasOwnProperty,Q=[],X=Q.pop,K=Q.push,$=Q.push,Y=Q.slice,J=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),de=new RegExp("^"+te+"$"),ce={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){N()},Ee=c(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{$.apply(Q=Y.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(e){$={apply:Q.length?function(e,t){K.apply(e,Y.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(g in v=x.support={},_=x.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=x.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:H;return r!==R&&9===r.nodeType&&r.documentElement&&(I=(R=r).documentElement,M=!_(R),H!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),v.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=i(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=he.test(R.getElementsByClassName),v.getById=i(function(e){return I.appendChild(e).id=B,!R.getElementsByName||!R.getElementsByName(B).length}),v.getById?(E.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}},E.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var n=e.replace(ve,ye);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),E.find.TAG=v.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=v.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M)return t.getElementsByClassName(e)},A=[],D=[],(v.qsa=he.test(R.querySelectorAll))&&(i(function(e){I.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+B+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||D.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),I.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(v.matchesSelector=he.test(F=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(e){v.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),A.push("!=",re)}),D=D.length&&new RegExp(D.join("|")),A=A.length&&new RegExp(A.join("|")),t=he.test(I.compareDocumentPosition),O=t||he.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===H&&O(H,e)?-1:t===R||t.ownerDocument===H&&O(H,t)?1:k?J(k,e)-J(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===R?-1:t===R?1:i?-1:o?1:k?J(k,e)-J(k,t):0;if(i===o)return u(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?u(a[r],s[r]):a[r]===H?-1:s[r]===H?1:0}),R},x.matches=function(e,t){return x(e,null,null,t)},x.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&N(e),t=t.replace(le,"='$1']"),v.matchesSelector&&M&&!q[t+" "]&&(!A||!A.test(t))&&(!D||!D.test(t)))try{var n=F.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<x(t,R,null,[e]).length},x.contains=function(e,t){return(e.ownerDocument||e)!==R&&N(e),O(e,t)},x.attr=function(e,t){(e.ownerDocument||e)!==R&&N(e);var n=E.attrHandle[t.toLowerCase()],r=n&&W.call(E.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==r?r:v.attributes||!M?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},x.escape=function(e){return(e+"").replace(be,xe)},x.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x.uniqueSort=function(e){var t,n=[],r=0,i=0;if(L=!v.detectDuplicates,k=!v.sortStable&&e.slice(0),e.sort(G),L){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return k=null,e},b=x.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=b(t);return n},(E=x.selectors={cacheLength:50,createPseudo:l,match:ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||x.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&x.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=x.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(ie," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,m,g){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,l,u=v!==y?"nextSibling":"previousSibling",d=e.parentNode,c=b&&e.nodeName.toLowerCase(),p=!n&&!b,f=!1;if(d){if(v){for(;u;){for(a=e;a=a[u];)if(b?a.nodeName.toLowerCase()===c:1===a.nodeType)return!1;l=u="only"===h&&!l&&"nextSibling"}return!0}if(l=[y?d.firstChild:d.lastChild],y&&p){for(f=(s=(r=(i=(o=(a=d)[B]||(a[B]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===V&&r[1])&&r[2],a=s&&d.childNodes[s];a=++s&&a&&a[u]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===e){i[h]=[V,s,f];break}}else if(p&&(f=s=(r=(i=(o=(a=e)[B]||(a[B]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===V&&r[1]),!1===f)for(;(a=++s&&a&&a[u]||(f=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==c:1!==a.nodeType)||!++f||(p&&((i=(o=a[B]||(a[B]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[V,f]),a!==e)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(e,o){var t,a=E.pseudos[e]||E.setFilters[e.toLowerCase()]||x.error("unsupported pseudo: "+e);return a[B]?a(o):1<a.length?(t=[e,e,"",o],E.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=J(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var r=[],i=[],s=S(e.replace(oe,"$1"));return s[B]?l(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:l(function(t){return function(e){return 0<x(t,e).length}}),contains:l(function(t){return t=t.replace(ve,ye),function(e){return-1<(e.textContent||e.innerText||b(e)).indexOf(t)}}),lang:l(function(n){return de.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(ve,ye).toLowerCase(),function(e){var t;do{if(t=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[g]=r(g);for(g in{submit:!0,reset:!0})E.pseudos[g]=o(g);return d.prototype=E.filters=E.pseudos,E.setFilters=new d,w=x.tokenize=function(e,t){var n,r,i,o,a,s,l,u=U[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=E.preFilter;a;){for(o in n&&!(r=ae.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=se.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(oe," ")}),a=a.slice(n.length)),E.filter)!(r=ce[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?x.error(e):U(e,s).slice(0)},S=x.compile=function(e,t){var n,g,v,y,b,r,i=[],o=[],a=q[e+" "];if(!a){for(t||(t=w(e)),n=t.length;n--;)(a=m(t[n]))[B]?i.push(a):o.push(a);(a=q(e,(g=o,y=0<(v=i).length,b=0<g.length,r=function(e,t,n,r,i){var o,a,s,l=0,u="0",d=e&&[],c=[],p=P,f=e||b&&E.find.TAG("*",i),h=V+=null==p?1:Math.random()||.1,m=f.length;for(i&&(P=t===R||t||i);u!==m&&null!=(o=f[u]);u++){if(b&&o){for(a=0,t||o.ownerDocument===R||(N(o),n=!M);s=g[a++];)if(s(o,t||R,n)){r.push(o);break}i&&(V=h)}y&&((o=!s&&o)&&l--,e&&d.push(o))}if(l+=u,y&&u!==l){for(a=0;s=v[a++];)s(d,c,t,n);if(e){if(0<l)for(;u--;)d[u]||c[u]||(c[u]=X.call(r));c=C(c)}$.apply(r,c),i&&!e&&0<c.length&&1<l+v.length&&x.uniqueSort(r)}return i&&(V=h,P=p),d},y?l(r):r))).selector=e}return a},T=x.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&w(e=u.selector||e);if(n=n||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(a=o[0]).type&&v.getById&&9===t.nodeType&&M&&E.relative[o[1].type]){if(!(t=(E.find.ID(a.matches[0].replace(ve,ye),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ce.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((l=E.find[s])&&(r=l(a.matches[0].replace(ve,ye),ge.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&h(o)))return $.apply(n,r),n;break}}return(u||S(e,d))(r,t,!M,n,!t||ge.test(e)&&f(t.parentNode)||t),n},v.sortStable=B.split("").sort(G).join("")===B,v.detectDuplicates=!!L,N(),v.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),x}(_);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains,ie.escapeSelector=ue.escape;var de=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ie(e).is(n))break;r.push(e)}return r},ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},pe=ie.expr.match.needsContext,fe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,he=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<r;t++)if(ie.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ie.find(e,i[t],n);return 1<r?ie.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&pe.test(e)?ie(e):e||[],!1).length}});var me,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ie.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||me,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ge.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:W,!0)),fe.test(r[1])&&ie.isPlainObject(t))for(r in t)ie.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=W.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==n.ready?n.ready(e):e(ie):ie.makeArray(e,this)}).prototype=ie.fn,me=ie(W);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ie(e);if(!pe.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ie.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Y.call(ie(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return ce((e.parentNode||{}).firstChild,e)},children:function(e){return ce(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(r,i){ie.fn[r]=function(e,t){var n=ie.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ie.filter(t,n)),1<this.length&&(ye[r]||ie.uniqueSort(n),ve.test(r)&&n.reverse()),this.pushStack(n)}});var be=/\S+/g;ie.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ie.each(e.match(be)||[],function(e,t){n[t]=!0}),n):ie.extend({},r);var i,t,o,a,s=[],l=[],u=-1,d=function(){for(a=r.once,o=i=!0;l.length;u=-1)for(t=l.shift();++u<s.length;)!1===s[u].apply(t[0],t[1])&&r.stopOnFalse&&(u=s.length,t=!1);r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},c={add:function(){return s&&(t&&!i&&(u=s.length-1,l.push(t)),function n(e){ie.each(e,function(e,t){ie.isFunction(t)?r.unique&&c.has(t)||s.push(t):t&&t.length&&"string"!==ie.type(t)&&n(t)})}(arguments),t&&!i&&d()),this},remove:function(){return ie.each(arguments,function(e,t){for(var n;-1<(n=ie.inArray(t,s,n));)s.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<ie.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=l=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=l=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||d()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},ie.extend({Deferred:function(e){var o=[["notify","progress",ie.Callbacks("memory"),ie.Callbacks("memory"),2],["resolve","done",ie.Callbacks("once memory"),ie.Callbacks("once memory"),0,"resolved"],["reject","fail",ie.Callbacks("once memory"),ie.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ie.Deferred(function(r){ie.each(o,function(e,t){var n=ie.isFunction(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,ie.isFunction(t)?s?t.call(e,l(u,o,d,s),l(u,o,c,s)):(u++,t.call(e,l(u,o,d,s),l(u,o,c,s),l(u,o,d,o.notifyWith))):(a!==d&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ie.Deferred.exceptionHook&&ie.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==c&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ie.Deferred.getStackHook&&(t.stackTrace=ie.Deferred.getStackHook()),_.setTimeout(t))}}var u=0;return ie.Deferred(function(e){o[0][3].add(l(0,e,ie.isFunction(r)?r:d,e.notifyWith)),o[1][3].add(l(0,e,ie.isFunction(t)?t:d)),o[2][3].add(l(0,e,ie.isFunction(n)?n:c))}).promise()},promise:function(e){return null!=e?ie.extend(e,a):a}},s={};return ie.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[0][2].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=X.call(arguments),o=ie.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?X.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(l(e,o.done(a(t)).resolve,o.reject),"pending"===o.state()||ie.isFunction(i[t]&&i[t].then)))return o.then();for(;t--;)l(i[t],a(t),o.reject);return o.promise()}});var xe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ie.Deferred.exceptionHook=function(e,t){_.console&&_.console.warn&&e&&xe.test(e.name)&&_.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ie.readyException=function(e){_.setTimeout(function(){throw e})};var Ce=ie.Deferred();ie.fn.ready=function(e){return Ce.then(e).catch(function(e){ie.readyException(e)}),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(!0===e?--ie.readyWait:ie.isReady)||((ie.isReady=!0)!==e&&0<--ie.readyWait||Ce.resolveWith(W,[ie]))}}),ie.ready.then=Ce.then,"complete"===W.readyState||"loading"!==W.readyState&&!W.documentElement.doScroll?_.setTimeout(ie.ready):(W.addEventListener("DOMContentLoaded",r),_.addEventListener("load",r));var Ee=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===ie.type(n))for(s in i=!0,n)Ee(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},_e=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};i.uid=1,i.prototype={cache:function(e){var t=e[this.expando];return t||(t={},_e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[ie.camelCase(t)]=n;else for(r in t)i[ie.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){ie.isArray(t)?t=t.map(ie.camelCase):t=(t=ie.camelCase(t))in r?[t]:t.match(be)||[],n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||ie.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ie.isEmptyObject(t)}};var we=new i,Se=new i,Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/[A-Z]/g;ie.extend({hasData:function(e){return Se.hasData(e)||we.hasData(e)},data:function(e,t,n){return Se.access(e,t,n)},removeData:function(e,t){Se.remove(e,t)},_data:function(e,t,n){return we.access(e,t,n)},_removeData:function(e,t){we.remove(e,t)}}),ie.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Se.get(o),1===o.nodeType&&!we.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(r=a[t].name).indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));we.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Se.set(this,n)}):Ee(this,function(e){var t;if(o&&void 0===e){if(void 0!==(t=Se.get(o,n)))return t;if(void 0!==(t=u(o,n)))return t}else this.each(function(){Se.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Se.remove(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=we.get(e,t),n&&(!r||ie.isArray(n)?r=we.access(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ie.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return we.get(e,n)||we.access(e,n,{empty:ie.Callbacks("once memory").add(function(){we.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ie.queue(this[0],t):void 0===n?this:this.each(function(){var e=ie.queue(this,t,n);ie._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ie.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=we.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),Ne=["Top","Right","Bottom","Left"],Re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie.contains(e.ownerDocument,e)&&"none"===ie.css(e,"display")},Ie=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},Me={};ie.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?ie(this).show():ie(this).hide()})}});var De=/^(?:checkbox|radio)$/i,Ae=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Fe=/^$|\/(?:java|ecma)script/i,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td;var Be,He,Ve=/<|&#?\w+;/;Be=W.createDocumentFragment().appendChild(W.createElement("div")),(He=W.createElement("input")).setAttribute("type","radio"),He.setAttribute("checked","checked"),He.setAttribute("name","t"),Be.appendChild(He),re.checkClone=Be.cloneNode(!0).cloneNode(!0).lastChild.checked,Be.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!Be.cloneNode(!0).lastChild.defaultValue;var ze=W.documentElement,je=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qe=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,d,c,p,f,h,m,g=we.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&ie.find.matchesSelector(ze,i),n.guid||(n.guid=ie.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==ie&&ie.event.triggered!==e.type?ie.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(be)||[""]).length;u--;)f=m=(s=qe.exec(e[u])||[])[1],h=(s[2]||"").split(".").sort(),f&&(c=ie.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,c=ie.event.special[f]||{},d=ie.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=l[f])||((p=l[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(f,a)),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),ie.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,d,c,p,f,h,m,g=we.hasData(e)&&we.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(be)||[""]).length;u--;)if(f=m=(s=qe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),f){for(c=ie.event.special[f]||{},p=l[f=(r?c.delegateType:c.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)d=p[o],!i&&m!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||r&&r!==d.selector&&("**"!==r||!d.selector)||(p.splice(o,1),d.selector&&p.delegateCount--,c.remove&&c.remove.call(e,d));a&&!p.length&&(c.teardown&&!1!==c.teardown.call(e,h,g.handle)||ie.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)ie.event.remove(e,f+t[u],n,r,!0);ie.isEmptyObject(l)&&we.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=ie.event.fix(e),l=new Array(arguments.length),u=(we.get(this,"events")||{})[s.type]||[],d=ie.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(a=ie.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((ie.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?-1<ie(i,this).index(l):ie.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},addProp:function(t,e){Object.defineProperty(ie.Event.prototype,t,{enumerable:!0,configurable:!0,get:ie.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ie.expando]?e:new ie.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==a()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===a()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ie.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?o:f,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=o,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=o,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&je.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ue.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ie.event.addProp),ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ie.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ie.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ie.fn.extend({on:function(e,t,n,r){return h(this,e,t,n,r)},one:function(e,t,n,r){return h(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=f),this.each(function(){ie.event.remove(this,e,n,t)})}});var Ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,We=/<script|<style|<link/i,Qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^true\/(.*)/,Ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace(Ge,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,l,u,d=e.cloneNode(!0),c=ie.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(a=g(d),r=0,i=(o=g(e)).length;r<i;r++)s=o[r],l=a[r],void 0,"input"===(u=l.nodeName.toLowerCase())&&De.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||g(e),a=a||g(d),r=0,i=o.length;r<i;r++)w(o[r],a[r]);else w(e,d);return 0<(a=g(d,"script")).length&&y(a,!c&&g(e,"script")),d},cleanData:function(e){for(var t,n,r,i=ie.event.special,o=0;void 0!==(n=e[o]);o++)if(_e(n)){if(t=n[we.expando]){if(t.events)for(r in t.events)i[r]?ie.event.remove(n,r):ie.removeEvent(n,r,t.handle);n[we.expando]=void 0}n[Se.expando]&&(n[Se.expando]=void 0)}}}),ie.fn.extend({detach:function(e){return T(this,e,!0)},remove:function(e){return T(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,e).appendChild(e)})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!We.test(e)&&!Oe[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return S(this,arguments,function(e){var t=this.parentNode;ie.inArray(this,n)<0&&(ie.cleanData(g(this)),t&&t.replaceChild(e,this))},n)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ie.fn[e]=function(e){for(var t,n=[],r=ie(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ie(r[o])[a](t),$.apply(n,t.get());return this.pushStack(n)}});var $e=/^margin/,Ye=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=_),t.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",ze.appendChild(o);var e=_.getComputedStyle(a);t="1%"!==e.top,i="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,ze.removeChild(o),a=null}}var t,n,r,i,o=W.createElement("div"),a=W.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),ie.extend(re,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),i}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","Moz","ms"],rt=W.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),l=e.style;return t=ie.cssProps[s]||(ie.cssProps[s]=L(s)||s),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:("string"===(o=typeof n)&&(i=Le.exec(n))&&i[1]&&(n=p(e,t,i),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(ie.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=L(s)||s),(a=ie.cssHooks[t]||ie.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ie.each(["height","width"],function(e,a){ie.cssHooks[a]={get:function(e,t,n){if(t)return!Ze.test(ie.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?I(e,a,n):Ie(e,et,function(){return I(e,a,n)})},set:function(e,t,n){var r,i=n&&Je(e),o=n&&R(e,a,n,"border-box"===ie.css(e,"boxSizing",!1,i),i);return o&&(r=Le.exec(t))&&"px"!==(r[3]||"px")&&(e.style[a]=t,t=ie.css(e,a)),N(0,t,o)}}}),ie.cssHooks.marginLeft=k(re.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ie.each({margin:"",padding:"",border:"Width"},function(i,o){ie.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Ne[t]+o]=r[t]||r[t-2]||r[0];return n}},$e.test(i)||(ie.cssHooks[i+o].set=N)}),ie.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=Je(e),i=t.length;a<i;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,1<arguments.length)}}),((ie.Tween=M).prototype={constructor:M,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}}).init.prototype=M.prototype,(M.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ie.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=M.prototype.init,ie.fx.step={};var it,ot,at,st,lt=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;ie.Animation=ie.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return p(n.elem,e,Le.exec(t),n),n}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(be);for(var n,r=0,i=e.length;r<i;r++)n=e[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,l,u,d,c="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&Re(e),g=we.get(e,"fxshow");for(r in n.queue||(null==(a=ie._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ie.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],lt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||ie.style(e,r)}if((l=!ie.isEmptyObject(t))||!ie.isEmptyObject(f))for(r in c&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=g&&g.display)&&(u=we.get(e,"display")),"none"===(d=ie.css(e,"display"))&&(u?d=u:(v([e],!0),u=e.style.display||u,d=ie.css(e,"display"),v([e]))),("inline"===d||"inline-block"===d&&null!=u)&&"none"===ie.css(e,"float")&&(l||(p.done(function(){h.display=u}),null==u&&(d=h.display,u="none"===d?"":d)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=we.access(e,"fxshow",{display:u}),o&&(g.hidden=!m),m&&v([e],!0),p.done(function(){for(r in m||v([e]),we.remove(e,"fxshow"),f)ie.style(e,r,f[r])})),l=O(m?g[r]:0,r,p),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return ie.fx.off||W.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ie.isEmptyObject(t),o=ie.speed(e,n,r),a=function(){var e=B(this,ie.extend({},t),o);(i||we.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ie.timers,r=we.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ie.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=we.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ie.timers,o=n?n.length:0;for(t.finish=!0,ie.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ie.each(["toggle","show","hide"],function(e,r){var i=ie.fn[r];ie.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(r,!0),e,t,n)}}),ie.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ie.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ie.timers=[],ie.fx.tick=function(){var e,t=0,n=ie.timers;for(it=ie.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ie.fx.stop(),it=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ot||(ot=_.requestAnimationFrame?_.requestAnimationFrame(D):_.setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){_.cancelAnimationFrame?_.cancelAnimationFrame(ot):_.clearInterval(ot),ot=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(r,e){return r=ie.fx&&ie.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=_.setTimeout(e,r);t.stop=function(){_.clearTimeout(n)}})},at=W.createElement("input"),st=W.createElement("select").appendChild(W.createElement("option")),at.type="checkbox",re.checkOn=""!==at.value,re.optSelected=st.selected,(at=W.createElement("input")).value="t",at.type="radio",re.radioValue="t"===at.value;var dt,ct=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return Ee(this,ie.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(i=ie.attrHooks[t.toLowerCase()]||(ie.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void ie.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ie.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(be);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):e.setAttribute(n,n),n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ct[t]||ie.find.attr;ct[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ct[o],ct[o]=r,r=null!=a(e,t,n)?o:null,ct[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ee(this,ie.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ie.isXMLDoc(e)||(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this});var ht=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,l=0;if(ie.isFunction(t))return this.each(function(e){ie(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(be)||[];n=this[l++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(ht," ")){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ie.trim(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,l=0;if(ie.isFunction(t))return this.each(function(e){ie(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(be)||[];n=this[l++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(ht," ")){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=ie.trim(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i;return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):ie.isFunction(i)?this.each(function(e){ie(this).toggleClass(i.call(this,e,H(this),t),t)}):this.each(function(){var e,t,n,r;if("string"===o)for(t=0,n=ie(this),r=i.match(be)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=H(this))&&we.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":we.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+H(n)+" ").replace(ht," ").indexOf(t))return!0;return!1}});var mt=/\r/g,gt=/[\x20\t\r\n\f]+/g;ie.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=ie.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ie(this).val()):n)?t="":"number"==typeof t?t+="":ie.isArray(t)&&(t=ie.map(t,function(e){return null==e?"":e+""})),(r=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ie.valHooks[t.type]||ie.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(mt,""):null==e?"":e:void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e)).replace(gt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(((n=r[l]).selected||l===i)&&!n.disabled&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<ie.inArray(ie.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=-1<ie.inArray(ie(e).val(),t)}},re.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var vt=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(e,t,n,r){var i,o,a,s,l,u,d,c=[n||W],p=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||W,3!==n.nodeType&&8!==n.nodeType&&!vt.test(p+ie.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[ie.expando]?e:new ie.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ie.makeArray(t,[e]),d=ie.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(n,t))){if(!r&&!d.noBubble&&!ie.isWindow(n)){for(s=d.delegateType||p,vt.test(s+p)||(o=o.parentNode);o;o=o.parentNode)c.push(o),a=o;a===(n.ownerDocument||W)&&c.push(a.defaultView||a.parentWindow||_)}for(i=0;(o=c[i++])&&!e.isPropagationStopped();)e.type=1<i?s:d.bindType||p,(u=(we.get(o,"events")||{})[e.type]&&we.get(o,"handle"))&&u.apply(o,t),(u=l&&o[l])&&u.apply&&_e(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(c.pop(),t)||!_e(n)||l&&ie.isFunction(n[p])&&!ie.isWindow(n)&&((a=n[l])&&(n[l]=null),n[ie.event.triggered=p](),ie.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var r=ie.extend(new ie.Event,n,{type:e,isSimulated:!0});ie.event.trigger(r,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}}),ie.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ie.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in _,re.focusin||ie.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){ie.event.simulate(r,e.target,ie.event.fix(e))};ie.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=we.access(e,r);t||e.addEventListener(n,i,!0),we.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=we.access(e,r)-1;t?we.access(e,r,t):(e.removeEventListener(n,i,!0),we.remove(e,r))}}});var yt=_.location,bt=ie.now(),xt=/\?/;ie.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new _.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+e),t};var Ct=/\[\]$/,Et=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){var n=ie.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)V(n,e[n],t,i);return r.join("&")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&wt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var St=/%20/g,Tt=/#.*$/,Pt=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Rt={},It={},Mt="*/".concat("*"),Dt=W.createElement("a");Dt.href=yt.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,ie.ajaxSettings),t):U(ie.ajaxSettings,e)},ajaxPrefilter:z(Rt),ajaxTransport:z(It),ajax:function(e,t){function n(e,t,n,r){var i,o,a,s,l,u=t;h||(h=!0,f&&_.clearTimeout(f),d=void 0,p=r||"",E.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(g,E,n)),s=function(e,t,n,r){var i,o,a,s,l,u={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(g,s,E,i),i?(g.ifModified&&((l=E.getResponseHeader("Last-Modified"))&&(ie.lastModified[c]=l),(l=E.getResponseHeader("etag"))&&(ie.etag[c]=l)),204===e||"HEAD"===g.type?u="nocontent":304===e?u="notmodified":(u=s.state,o=s.data,i=!(a=s.error))):(a=u,!e&&u||(u="error",e<0&&(e=0))),E.status=e,E.statusText=(t||u)+"",i?b.resolveWith(v,[o,u,E]):b.rejectWith(v,[E,u,a]),E.statusCode(C),C=void 0,m&&y.trigger(i?"ajaxSuccess":"ajaxError",[E,g,i?o:a]),x.fireWith(v,[E,u]),m&&(y.trigger("ajaxComplete",[E,g]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var d,c,p,r,f,i,h,m,o,a,g=ie.ajaxSetup({},t),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?ie(v):ie.event,b=ie.Deferred(),x=ie.Callbacks("once memory"),C=g.statusCode||{},s={},l={},u="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(h){if(!r)for(r={};t=kt.exec(p);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=l[e.toLowerCase()]=l[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==h&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)E.always(e[E.status]);else for(t in e)C[t]=[C[t],e[t]];return this},abort:function(e){var t=e||u;return d&&d.abort(t),n(0,t),this}};if(b.promise(E),g.url=((e||g.url||yt.href)+"").replace(Nt,yt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(be)||[""],null==g.crossDomain){i=W.createElement("a");try{i.href=g.url,i.href=i.href,g.crossDomain=Dt.protocol+"//"+Dt.host!=i.protocol+"//"+i.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ie.param(g.data,g.traditional)),j(Rt,g,t,E),h)return E;for(o in(m=ie.event&&g.global)&&0==ie.active++&&ie.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Lt.test(g.type),c=g.url.replace(Tt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(St,"+")):(a=g.url.slice(c.length),g.data&&(c+=(xt.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(c=c.replace(Pt,""),a=(xt.test(c)?"&":"?")+"_="+bt+++a),g.url=c+a),g.ifModified&&(ie.lastModified[c]&&E.setRequestHeader("If-Modified-Since",ie.lastModified[c]),ie.etag[c]&&E.setRequestHeader("If-None-Match",ie.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&E.setRequestHeader("Content-Type",g.contentType),E.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Mt+"; q=0.01":""):g.accepts["*"]),g.headers)E.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(v,E,g)||h))return E.abort();if(u="abort",x.add(g.complete),E.done(g.success),E.fail(g.error),d=j(It,g,t,E)){if(E.readyState=1,m&&y.trigger("ajaxSend",[E,g]),h)return E;g.async&&0<g.timeout&&(f=_.setTimeout(function(){E.abort("timeout")},g.timeout));try{h=!1,d.send(s,n)}catch(e){if(h)throw e;n(-1,e)}}else n(-1,"No Transport");return E},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,i){ie[i]=function(e,t,n,r){return ie.isFunction(t)&&(r=r||n,n=t,t=void 0),ie.ajax(ie.extend({url:e,type:i,dataType:r,data:t,success:n},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){var t;return this[0]&&(ie.isFunction(e)&&(e=e.call(this[0])),t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return ie.isFunction(n)?this.each(function(e){ie(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ie(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=ie.isFunction(t);return this.each(function(e){ie(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ie(this).replaceWith(this.childNodes)}),this}}),ie.expr.pseudos.hidden=function(e){return!ie.expr.pseudos.visible(e)},ie.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ie.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(e){}};var At={0:200,1223:204},Ft=ie.ajaxSettings.xhr();re.cors=!!Ft&&"withCredentials"in Ft,re.ajax=Ft=!!Ft,ie.ajaxTransport(function(i){var o,a;if(re.cors||Ft&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(At[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&_.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ie.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=ie("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),W.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ot,Bt=[],Ht=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||ie.expando+"_"+bt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ht.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ie.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ht,"$1"+r):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ie.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=_[r],_[r]=function(){o=arguments},n.always(function(){void 0===i?ie(_).removeProp(r):_[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Bt.push(r)),o&&ie.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),re.createHTMLDocument=((Ot=W.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ot.childNodes.length),ie.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(re.createHTMLDocument?((r=(t=W.implementation.createHTMLDocument("")).createElement("base")).href=W.location.href,t.head.appendChild(r)):t=W),o=!n&&[],(i=fe.exec(e))?[t.createElement(i[1])]:(i=b([e],t,o),o&&o.length&&ie(o).remove(),ie.merge([],i.childNodes)));var r,i,o},ie.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ie.trim(e.slice(s)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ie.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.pseudos.animated=function(t){return ie.grep(ie.timers,function(e){return t===e.elem}).length},ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u=ie.css(e,"position"),d=ie(e),c={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),("absolute"===u||"fixed"===u)&&-1<(o+l).indexOf("auto")?(a=(r=d.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,ie.extend({},s))),null!=t.top&&(c.top=t.top-s.top+a),null!=t.left&&(c.left=t.left-s.left+i),"using"in t?t.using.call(e,c):d.css(c)}},ie.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ie.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];return o?o.getClientRects().length?(r=o.getBoundingClientRect()).width||r.height?(n=q(i=o.ownerDocument),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ie.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+ie.css(e[0],"borderTopWidth",!0),left:r.left+ie.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-ie.css(n,"marginTop",!0),left:t.left-r.left-ie.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||ze})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ie.fn[t]=function(e){return Ee(this,function(e,t,n){var r=q(e);return void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),ie.each(["top","left"],function(e,n){ie.cssHooks[n]=k(re.pixelPosition,function(e,t){if(t)return t=P(e,n),Ye.test(t)?ie(e).position()[n]+"px":t})}),ie.each({Height:"height",Width:"width"},function(a,s){ie.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ie.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return Ee(this,function(e,t,n){var r;return ie.isWindow(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ie.css(e,t,i):ie.style(e,t,n,i)},s,n?e:void 0,n)}})}),ie.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ie.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var Vt=_.jQuery,zt=_.$;return ie.noConflict=function(e){return _.$===ie&&(_.$=zt),e&&_.jQuery===ie&&(_.jQuery=Vt),ie},e||(_.jQuery=_.$=ie),ie}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(T){T.ui=T.ui||{};var i,e,n=(T.ui.version="1.12.1",0),s=Array.prototype.slice;T.cleanData=(i=T.cleanData,function(e){var t,n,r;for(r=0;null!=(n=e[r]);r++)try{(t=T._data(n,"events"))&&t.remove&&T(n).triggerHandler("remove")}catch(e){}i(e)}),T.widget=function(e,n,t){var r,i,o,a={},s=e.split(".")[0],l=s+"-"+(e=e.split(".")[1]);return t||(t=n,n=T.Widget),T.isArray(t)&&(t=T.extend.apply(null,[{}].concat(t))),T.expr[":"][l.toLowerCase()]=function(e){return!!T.data(e,l)},T[s]=T[s]||{},r=T[s][e],i=T[s][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new i(e,t)},T.extend(i,r,{version:t.version,_proto:T.extend({},t),_childConstructors:[]}),(o=new n).options=T.widget.extend({},o.options),T.each(t,function(t,o){return T.isFunction(o)?void(a[t]=function(){function r(){return n.prototype[t].apply(this,arguments)}function i(e){return n.prototype[t].apply(this,e)}return function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=i,e=o.apply(this,arguments),this._super=t,this._superApply=n,e}}()):void(a[t]=o)}),i.prototype=T.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||e},a,{constructor:i,namespace:s,widgetName:e,widgetFullName:l}),r?(T.each(r._childConstructors,function(e,t){var n=t.prototype;T.widget(n.namespace+"."+n.widgetName,i,t._proto)}),delete r._childConstructors):n._childConstructors.push(i),T.widget.bridge(e,i),i},T.widget.extend=function(e){for(var t,n,r=s.call(arguments,1),i=0,o=r.length;i<o;i++)for(t in r[i])n=r[i][t],r[i].hasOwnProperty(t)&&void 0!==n&&(T.isPlainObject(n)?e[t]=T.isPlainObject(e[t])?T.widget.extend({},e[t],n):T.widget.extend({},n):e[t]=n);return e},T.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;T.fn[o]=function(n){var e="string"==typeof n,r=s.call(arguments,1),i=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=T.data(this,a);return"instance"===n?(i=t,!1):t?T.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,r))!==t&&void 0!==e?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:T.error("no such method '"+n+"' for "+o+" widget instance"):T.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):i=void 0:(r.length&&(n=T.widget.extend.apply(null,[n].concat(r))),this.each(function(){var e=T.data(this,a);e?(e.option(n||{}),e._init&&e._init()):T.data(this,a,new t(n,this))})),i}},T.Widget=function(){},T.Widget._childConstructors=[],T.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=T(t||this.defaultElement||this)[0],this.element=T(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=T(),this.hoverable=T(),this.focusable=T(),this.classesElementLookup={},t!==this&&(T.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=T(t.style?t.ownerDocument:t.document||t),this.window=T(this.document[0].defaultView||this.document[0].parentWindow)),this.options=T.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:T.noop,_create:T.noop,_init:T.noop,destroy:function(){var n=this;this._destroy(),T.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:T.noop,widget:function(){return this.element},option:function(e,t){var n,r,i,o=e;if(0===arguments.length)return T.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(r=o[e]=T.widget.extend({},this.options[e]),i=0;i<n.length-1;i++)r[n[i]]=r[n[i]]||{},r=r[n[i]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,r;for(t in e)r=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&r&&r.length&&(n=T(r.get()),this._removeClass(r,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(i){function e(e,t){var n,r;for(r=0;r<e.length;r++)n=a.classesElementLookup[e[r]]||T(),n=T(i.add?T.unique(n.get().concat(i.element.get())):n.not(i.element).get()),a.classesElementLookup[e[r]]=n,o.push(e[r]),t&&i.classes[e[r]]&&o.push(i.classes[e[r]])}var o=[],a=this;return i=T.extend({element:this.element,classes:this.options.classes||{}},i),this._on(i.element,{remove:"_untrackClassesElement"}),i.keys&&e(i.keys.match(/\S+/g)||[],!0),i.extra&&e(i.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var r=this;T.each(r.classesElementLookup,function(e,t){-1!==T.inArray(n.target,t)&&(r.classesElementLookup[e]=T(t.not(n.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof e||null===e,o={extra:i?t:n,keys:i?e:t,element:i?this.element:e,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(a,s,e){var l,u=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=T(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),T.each(e,function(e,t){function n(){if(a||!0!==u.options.disabled&&!T(this).hasClass("ui-state-disabled"))return("string"==typeof t?u[t]:t).apply(u,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||T.guid++);var r=e.match(/^([\w:-]*)\s*(.*)$/),i=r[1]+u.eventNamespace,o=r[2];o?l.on(i,o,n):s.on(i,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=T(this.bindings.not(e).get()),this.focusable=T(this.focusable.not(e).get()),this.hoverable=T(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(T(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(T(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(T(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(T(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var r,i,o=this.options[e];if(n=n||{},(t=T.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(r in i)r in t||(t[r]=i[r]);return this.element.trigger(t,n),!(T.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},T.each({show:"fadeIn",hide:"fadeOut"},function(o,a){T.Widget.prototype["_"+o]=function(t,e,n){"string"==typeof e&&(e={effect:e});var r,i=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),r=!T.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),r&&T.effects&&T.effects.effect[i]?t[o](e):i!==o&&t[i]?t[i](e.duration,e.easing,n):t.queue(function(e){T(this)[o](),n&&n.call(t[0]),e()})}}),T.widget,function(){function E(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function _(e,t){return parseInt(T.css(e,t),10)||0}var i,w=Math.max,S=Math.abs,r=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,u=T.fn.position;T.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,t,n=T("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return T("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),e===(t=r.offsetWidth)&&(t=n[0].clientWidth),n.remove(),i=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?T.position.scrollbarWidth():0,height:r?T.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=T(e||window),n=T.isWindow(t[0]),r=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:r,offset:!n&&!r?T(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},T.fn.position=function(c){if(!c||!c.of)return u.apply(this,arguments);c=T.extend({},c);var p,f,h,m,g,e,t,n,v=T(c.of),y=T.position.getWithinInfo(c.within),b=T.position.getScrollInfo(y),x=(c.collision||"flip").split(" "),C={};return e=9===(n=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:T.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(c.at="left top"),f=e.width,h=e.height,m=e.offset,g=T.extend({},m),T.each(["my","at"],function(){var e,t,n=(c[this]||"").split(" ");1===n.length&&(n=r.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=r.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",e=a.exec(n[0]),t=a.exec(n[1]),C[this]=[e?e[0]:0,t?t[0]:0],c[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===c.at[0]?g.left+=f:"center"===c.at[0]&&(g.left+=f/2),"bottom"===c.at[1]?g.top+=h:"center"===c.at[1]&&(g.top+=h/2),p=E(C.at,f,h),g.left+=p[0],g.top+=p[1],this.each(function(){var n,e,a=T(this),s=a.outerWidth(),l=a.outerHeight(),t=_(this,"marginLeft"),r=_(this,"marginTop"),i=s+t+_(this,"marginRight")+b.width,o=l+r+_(this,"marginBottom")+b.height,u=T.extend({},g),d=E(C.my,a.outerWidth(),a.outerHeight());"right"===c.my[0]?u.left-=s:"center"===c.my[0]&&(u.left-=s/2),"bottom"===c.my[1]?u.top-=l:"center"===c.my[1]&&(u.top-=l/2),u.left+=d[0],u.top+=d[1],n={marginLeft:t,marginTop:r},T.each(["left","top"],function(e,t){T.ui.position[x[e]]&&T.ui.position[x[e]][t](u,{targetWidth:f,targetHeight:h,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:i,collisionHeight:o,offset:[p[0]+d[0],p[1]+d[1]],my:c.my,at:c.at,within:y,elem:a})}),c.using&&(e=function(e){var t=m.left-u.left,n=t+f-s,r=m.top-u.top,i=r+h-l,o={target:{element:v,left:m.left,top:m.top,width:f,height:h},element:{element:a,left:u.left,top:u.top,width:s,height:l},horizontal:n<0?"left":0<t?"right":"center",vertical:i<0?"top":0<r?"bottom":"middle"};f<s&&S(t+n)<f&&(o.horizontal="center"),h<l&&S(r+i)<h&&(o.vertical="middle"),w(S(t),S(n))>w(S(r),S(i))?o.important="horizontal":o.important="vertical",c.using.call(this,e,o)}),a.offset(T.extend(u,{using:e}))})},T.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,a=e.left-t.collisionPosition.marginLeft,s=i-a,l=a+t.collisionWidth-o-i;t.collisionWidth>o?0<s&&l<=0?(n=e.left+s+t.collisionWidth-o-i,e.left+=s-n):e.left=0<l&&s<=0?i:l<s?i+o-t.collisionWidth:i:0<s?e.left+=s:0<l?e.left-=l:e.left=w(e.left-a,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,s=i-a,l=a+t.collisionHeight-o-i;t.collisionHeight>o?0<s&&l<=0?(n=e.top+s+t.collisionHeight-o-i,e.top+=s-n):e.top=0<l&&s<=0?i:l<s?i+o-t.collisionHeight:i:0<s?e.top+=s:0<l?e.top-=l:e.top=w(e.top-a,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,o=i.offset.left+i.scrollLeft,a=i.width,s=i.isWindow?i.scrollLeft:i.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-s,d=l+t.collisionWidth-a-s,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((n=e.left+c+p+f+t.collisionWidth-a-o)<0||n<S(u))&&(e.left+=c+p+f):0<d&&((0<(r=e.left-t.collisionPosition.marginLeft+c+p+f-s)||S(r)<d)&&(e.left+=c+p+f))},top:function(e,t){var n,r,i=t.within,o=i.offset.top+i.scrollTop,a=i.height,s=i.isWindow?i.scrollTop:i.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-s,d=l+t.collisionHeight-a-s,c="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];u<0?((r=e.top+c+p+f+t.collisionHeight-a-o)<0||r<S(u))&&(e.top+=c+p+f):0<d&&((0<(n=e.top-t.collisionPosition.marginTop+c+p+f-s)||S(n)<d)&&(e.top+=c+p+f))}},flipfit:{left:function(){T.ui.position.flip.left.apply(this,arguments),T.ui.position.fit.left.apply(this,arguments)},top:function(){T.ui.position.flip.top.apply(this,arguments),T.ui.position.fit.top.apply(this,arguments)}}}}(),T.ui.position,T.extend(T.expr[":"],{data:T.expr.createPseudo?T.expr.createPseudo(function(t){return function(e){return!!T.data(e,t)}}):function(e,t,n){return!!T.data(e,n[3])}}),T.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),T.ui.focusable=function(e,t){var n,r,i,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(0<(i=T("img[usemap='#"+r+"']")).length&&i.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(o=!e.disabled)&&((a=T(e).closest("fieldset")[0])&&(o=!a.disabled)):o="a"===s&&e.href||t,o&&T(e).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}(T(e)))},T.extend(T.expr[":"],{focusable:function(e){return T.ui.focusable(e,null!=T.attr(e,"tabindex"))}});var t,r,o=(T.ui.focusable,T.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):T(this[0].form)},T.ui.formResetMixin={_formResetHandler:function(){var t=T(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");T.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(T.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},T.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},T.ui.escapeSelector=(r=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(r,"\\$1")}),T.fn.labels=function(){var e,t,n,r,i;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(n=this.attr("id"))&&(i=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+T.ui.escapeSelector(n)+"']",r=r.add(i.find(t).addBack(t))),this.pushStack(r))},T.fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var e=T(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&i.length?i:T(this[0].ownerDocument||document)},T.extend(T.expr[":"],{tabbable:function(e){var t=T.attr(e,"tabindex"),n=null!=t;return(!n||0<=t)&&T.ui.focusable(e,n)}}),T.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&T(this).removeAttr("id")})}}),T.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);T(document).on("mouseup",function(){o=!1}),T.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===T.data(e.target,t.widgetName+".preventClickEvent"))return T.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&T(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===T.data(e.target,this.widgetName+".preventClickEvent")&&T.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0),0))}},_mouseMove:function(e){if(this._mouseMoved){if(T.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&T.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),T.ui.plugin={add:function(e,t,n){var r,i=T.ui[e].prototype;for(r in n)i.plugins[r]=i.plugins[r]||[],i.plugins[r].push([t,n[r]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}},T.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}return n||(n=t.body),n.nodeName||(n=t.body),n},T.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&T(e).trigger("blur")},T.widget("ui.draggable",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<T(e.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=T(this);return T("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=T.ui.safeActiveElement(this.document[0]);T(e.target).closest(t).length||T.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),T.ui.ddmanager&&(T.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===T(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),T.ui.ddmanager&&!t.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),T.ui.ddmanager&&T.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new T.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",T.ui.ddmanager&&T.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return T.ui.ddmanager&&!this.options.dropBehaviour&&(n=T.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||T.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?T(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),T.ui.ddmanager&&T.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),T.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new T.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!T(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=T.isFunction(t.helper),r=n?T(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),T.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,r=this.options,i=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[T(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,T(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,T(window).scrollLeft()+T(window).width()-this.helperProportions.width-this.margins.left,T(window).scrollTop()+(T(window).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,T(i).width()-this.helperProportions.width-this.margins.left,(T(i).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((n=(t=T(r.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,n){return n=n||this._uiHash(),T.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),T.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),T.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var r=T.extend({},e,{item:n.element});n.sortables=[],T(n.options.connectToSortable).each(function(){var e=T(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,r))})},stop:function(t,e,n){var r=T.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,T.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(n,r,i){T.each(i.sortables,function(){var e=!1,t=this;t.positionAbs=i.positionAbs,t.helperProportions=i.helperProportions,t.offset.click=i.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,T.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&T.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,i._parent=r.helper.parent(),t.currentItem=r.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return r.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=i.offset.click.top,t.offset.click.left=i.offset.click.left,t.offset.parent.left-=i.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=i.offset.parent.top-t.offset.parent.top,i._trigger("toSortable",n),i.dropped=t.element,T.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,t.fromOutside=i),t.currentItem&&(t._mouseDrag(n),r.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),r.helper.appendTo(i._parent),i._refreshOffsets(n),r.position=i._generatePosition(n,!0),i._trigger("fromSortable",n),i.dropped=!1,T.each(i.sortables,function(){this.refreshPositions()}))})}}),T.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var r=T("body"),i=n.options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(e,t,n){var r=n.options;r._cursor&&T("body").css("cursor",r._cursor)}}),T.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var r=T(t.helper),i=n.options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(e,t,n){var r=n.options;r._opacity&&T(t.helper).css("opacity",r._opacity)}}),T.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var r=n.options,i=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity?o.scrollTop=i=o.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=i=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity?o.scrollLeft=i=o.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=i=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-T(a).scrollTop()<r.scrollSensitivity?i=T(a).scrollTop(T(a).scrollTop()-r.scrollSpeed):T(window).height()-(e.pageY-T(a).scrollTop())<r.scrollSensitivity&&(i=T(a).scrollTop(T(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-T(a).scrollLeft()<r.scrollSensitivity?i=T(a).scrollLeft(T(a).scrollLeft()-r.scrollSpeed):T(window).width()-(e.pageX-T(a).scrollLeft())<r.scrollSensitivity&&(i=T(a).scrollLeft(T(a).scrollLeft()+r.scrollSpeed)))),!1!==i&&T.ui.ddmanager&&!r.dropBehaviour&&T.ui.ddmanager.prepareOffsets(n,e)}}),T.ui.plugin.add("draggable","snap",{start:function(e,t,n){var r=n.options;n.snapElements=[],T(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=T(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){var r,i,o,a,s,l,u,d,c,p,f=n.options,h=f.snapTolerance,m=t.offset.left,g=m+n.helperProportions.width,v=t.offset.top,y=v+n.helperProportions.height;for(c=n.snapElements.length-1;0<=c;c--)l=(s=n.snapElements[c].left-n.margins.left)+n.snapElements[c].width,d=(u=n.snapElements[c].top-n.margins.top)+n.snapElements[c].height,g<s-h||l+h<m||y<u-h||d+h<v||!T.contains(n.snapElements[c].item.ownerDocument,n.snapElements[c].item)?(n.snapElements[c].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,T.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-y)<=h,i=Math.abs(d-v)<=h,o=Math.abs(s-g)<=h,a=Math.abs(l-m)<=h,r&&(t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),i&&(t.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),p=r||i||o||a,"outer"!==f.snapMode&&(r=Math.abs(u-v)<=h,i=Math.abs(d-y)<=h,o=Math.abs(s-m)<=h,a=Math.abs(l-g)<=h,r&&(t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),i&&(t.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[c].snapping&&(r||i||o||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,T.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=r||i||o||a||p)}}),T.ui.plugin.add("draggable","stack",{start:function(e,t,n){var r,i=n.options,o=T.makeArray(T(i.stack)).sort(function(e,t){return(parseInt(T(e).css("zIndex"),10)||0)-(parseInt(T(t).css("zIndex"),10)||0)});o.length&&(r=parseInt(T(o[0]).css("zIndex"),10)||0,T(o).each(function(e){T(this).css("zIndex",r+e)}),this.css("zIndex",r+o.length))}}),T.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var r=T(t.helper),i=n.options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(e,t,n){var r=n.options;r._zIndex&&T(t.helper).css("zIndex",r._zIndex)}}),T.ui.draggable,T.widget("ui.resizable",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===T(e).css("overflow"))return!1;var n=t&&"left"===t?"scrollLeft":"scrollTop",r=!1;return 0<e[n]||(e[n]=1,r=0<e[n],e[n]=0,r)},_create:function(){var e,t=this.options,n=this;this._addClass("ui-resizable"),T.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(T("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&T(this.element).on("mouseenter",function(){t.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){t.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){T(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,t,n,r,i,o=this.options,a=this;if(this.handles=o.handles||(T(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=T(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},t=0;t<n.length;t++)r="ui-resizable-"+(e=T.trim(n[t])),i=T("<div>"),this._addClass(i,"ui-resizable-handle "+r),i.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(i);this._renderAxis=function(e){var t,n,r,i;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=T(this.handles[t]),this._on(this.handles[t],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=T(this.handles[t],this.element),i=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(r,i),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=i&&i[1]?i[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var t,n,r=!1;for(t in this.handles)((n=T(this.handles[t])[0])===e.target||T.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var t,n,r,i=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),i.containment&&(t+=T(i.containment).scrollLeft()||0,n+=T(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:t,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=T(".ui-resizable-"+this.axis).css("cursor"),T("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,n,r=this.originalMousePosition,i=this.axis,o=e.pageX-r.left||0,a=e.pageY-r.top||0,s=this._change[i];return this._updatePrevProperties(),!!s&&(t=s.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),T.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var t,n,r,i,o,a,s,l=this.options,u=this;return this._helper&&(r=(n=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:u.sizeDiff.height,i=n?0:u.sizeDiff.width,o={width:u.helper.width()-i,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,s=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(T.extend(o,{top:s,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),T("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&u&&(e.left=s-t.minWidth),r&&u&&(e.left=s-t.maxWidth),a&&d&&(e.top=l-t.minHeight),i&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(r[t])||0,n[t]+=parseFloat(i[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||T("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return T.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return T.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return T.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return T.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){T.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),T.ui.plugin.add("resizable","animate",{stop:function(t){var n=T(this).resizable("instance"),e=n.options,r=n._proportionallyResizeElements,i=r.length&&/textarea/i.test(r[0].nodeName),o=i&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=i?0:n.sizeDiff.width,s={width:n.size.width-a,height:n.size.height-o},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(T.extend(s,u&&l?{top:u,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&T(r[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),T.ui.plugin.add("resizable","containment",{start:function(){var n,r,e,t,i,o,a,s=T(this).resizable("instance"),l=s.options,u=s.element,d=l.containment,c=d instanceof T?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(s.containerElement=T(c),/document/.test(d)||d===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:T(document),left:0,top:0,width:T(document).width(),height:T(document).height()||document.body.parentNode.scrollHeight}):(n=T(c),r=[],T(["Top","Right","Left","Bottom"]).each(function(e,t){r[e]=s._num(n.css("padding"+t))}),s.containerOffset=n.offset(),s.containerPosition=n.position(),s.containerSize={height:n.innerHeight()-r[3],width:n.innerWidth()-r[1]},e=s.containerOffset,t=s.containerSize.height,i=s.containerSize.width,o=s._hasScroll(c,"left")?c.scrollWidth:i,a=s._hasScroll(c)?c.scrollHeight:t,s.parentData={element:c,left:e.left,top:e.top,width:o,height:a}))},resize:function(e){var t,n,r,i,o=T(this).resizable("instance"),a=o.options,s=o.containerOffset,l=o.position,u=o._aspectRatio||e.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=s),l.left<(o._helper?s.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-s.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?s.left:0),l.top<(o._helper?s.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-s.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?s.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),i=/relative|absolute/.test(o.containerElement.css("position")),r&&i?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),t=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-s.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-s.top)),t+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-t,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=T(this).resizable("instance"),t=e.options,n=e.containerOffset,r=e.containerPosition,i=e.containerElement,o=T(e.helper),a=o.offset(),s=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(i.css("position"))&&T(this).css({left:a.left-r.left-n.left,width:s,height:l}),e._helper&&!t.animate&&/static/.test(i.css("position"))&&T(this).css({left:a.left-r.left-n.left,width:s,height:l})}}),T.ui.plugin.add("resizable","alsoResize",{start:function(){var e=T(this).resizable("instance").options;T(e.alsoResize).each(function(){var e=T(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var t=T(this).resizable("instance"),r=t.options,i=t.originalSize,o=t.originalPosition,a={height:t.size.height-i.height||0,width:t.size.width-i.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};T(r.alsoResize).each(function(){var e=T(this),r=T(this).data("ui-resizable-alsoresize"),i={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];T.each(t,function(e,t){var n=(r[t]||0)+(a[t]||0);n&&0<=n&&(i[t]=n||null)}),e.css(i)})},stop:function(){T(this).removeData("ui-resizable-alsoresize")}}),T.ui.plugin.add("resizable","ghost",{start:function(){var e=T(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==T.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=T(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=T(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),T.ui.plugin.add("resizable","grid",{resize:function(){var e,t=T(this).resizable("instance"),n=t.options,r=t.size,i=t.originalSize,o=t.originalPosition,a=t.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=s[0]||1,u=s[1]||1,d=Math.round((r.width-i.width)/l)*l,c=Math.round((r.height-i.height)/u)*u,p=i.width+d,f=i.height+c,h=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,g=n.minWidth&&n.minWidth>p,v=n.minHeight&&n.minHeight>f;n.grid=s,g&&(p+=l),v&&(f+=u),h&&(p-=l),m&&(f-=u),/^(se|s|e)$/.test(a)?(t.size.width=p,t.size.height=f):/^(ne)$/.test(a)?(t.size.width=p,t.size.height=f,t.position.top=o.top-c):/^(sw)$/.test(a)?(t.size.width=p,t.size.height=f,t.position.left=o.left-d):((f-u<=0||p-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<f-u?(t.size.height=f,t.position.top=o.top-c):(f=u-e.height,t.size.height=f,t.position.top=o.top+i.height-f),0<p-l?(t.size.width=p,t.position.left=o.left-d):(p=l-e.width,t.size.width=p,t.position.left=o.left+i.width-p))}});var a,l,u=(T.ui.resizable,/ui-corner-([a-z]){2,6}/g);T.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,s=[];T.each(this.options.items,function(i,e){var t,o={};if(e)return"controlgroupLabel"===i?((t=a.element.find(e)).each(function(){var e=T(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(t.get()))):void(T.fn[i]&&(o=a["_"+i+"Options"]?a["_"+i+"Options"]("middle"):{classes:{}},a.element.find(e).each(function(){var e=T(this),t=e[i]("instance"),n=T.widget.extend({},o);if("button"!==i||!e.parent(".ui-spinner").length){t||(t=e[i]()[i]("instance")),t&&(n.classes=a._resolveClassesValues(n.classes,t)),e[i](n);var r=e[i]("widget");T.data(r[0],"ui-controlgroup-data",t||e[i]("instance")),s.push(r[0])}})))}),this.childWidgets=T(T.unique(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=T(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,r){var i={};return T.each(n,function(e){var t=r.options.classes[e]||"";t=T.trim(t.replace(u,"")),i[e]=(t+" "+n[e]).replace(/\s+/g," ")}),i},_setOption:function(e,t){return"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"===e?void this._callChildMethod(t?"disable":"enable"):void this.refresh()},refresh:function(){var i,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),i=this.childWidgets,this.options.onlyVisible&&(i=i.filter(":visible")),i.length&&(T.each(["first","last"],function(e,t){var n=i[t]().data("ui-controlgroup-data");if(n&&o["_"+n.widgetName+"Options"]){var r=o["_"+n.widgetName+"Options"](1===i.length?"only":t);r.classes=o._resolveClassesValues(r.classes,n),n.element[n.widgetName](r)}else o._updateCornerClass(i[t](),t)}),this._callChildMethod("refresh"))}}),T.widget("ui.checkboxradio",[T.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t,n=this,r=this._super()||{};return this._readType(),t=this.element.labels(),this.label=T(t[t.length-1]),this.label.length||T.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?T(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||T.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+T.ui.escapeSelector(e)+"']";return e?(this.form.length?T(this.form[0].elements).filter(t):T(t).filter(function(){return 0===T(this).form().length})).not(this.element):T([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=T(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t)return this._super(e,t),"disabled"===e?(this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t)):void this.refresh()},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=T("<span>"),this.iconSpace=T("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),T.ui.checkboxradio,T.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===T.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var n="iconPosition"!==e,r=n?this.options.iconPosition:t,i="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=T("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,t),this._attachIcon(r),i?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=T("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==T.uiBackCompat&&(T.widget("ui.button",T.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){return"text"===e?void this._super("showLabel",t):("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),T.fn.button=(a=T.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?a.apply(this,arguments):(T.ui.checkboxradio||T.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),T.fn.buttonset=function(){return T.ui.controlgroup||T.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),T.ui.button,T.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=T(this).css(e).offset().top;t<0&&T(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&T.fn.draggable&&this._makeDraggable(),this.options.resizable&&T.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?T(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:T.noop,enable:T.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||T.ui.safeBlur(T.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+T(this).css("z-index")}).get(),i=Math.max.apply(null,r);return i>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",i+1),n=!0),n&&!t&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=T(T.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(e){function t(){var e=T.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||T.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=T("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===T.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===T.ui.keyCode.TAB&&!e.isDefaultPrevented()){var t=this.uiDialog.find(":tabbable"),n=t.filter(":first"),r=t.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=T("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){T(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=T("<button type='button'></button>").button({label:T("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=T("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=T("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=T("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var i=this,e=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),T.isEmptyObject(e)||T.isArray(e)&&!e.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(T.each(e,function(e,t){var n,r;t=T.isFunction(t)?{click:t,text:e}:t,t=T.extend({type:"button"},t),n=t.click,r={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,T("<button></button>",t).button(r).appendTo(i.uiButtonSet).on("click",function(){n.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function i(e){return{position:e.position,offset:e.offset}}var o=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){o._addClass(T(this),"ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",e,i(t))},drag:function(e,t){o._trigger("drag",e,i(t))},stop:function(e,t){var n=t.offset.left-o.document.scrollLeft(),r=t.offset.top-o.document.scrollTop();a.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=r?"+":"")+r,of:o.window},o._removeClass(T(this),"ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",e,i(t))}})},_makeResizable:function(){function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var a=this,s=this.options,e=s.resizable,t=this.uiDialog.css("position"),n="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,t){a._addClass(T(this),"ui-dialog-resizing"),a._blockFrames(),a._trigger("resizeStart",e,o(t))},resize:function(e,t){a._trigger("resize",e,o(t))},stop:function(e,t){var n=a.uiDialog.offset(),r=n.left-a.document.scrollLeft(),i=n.top-a.document.scrollTop();s.height=a.uiDialog.height(),s.width=a.uiDialog.width(),s.position={my:"left top",at:"left"+(0<=r?"+":"")+r+" top"+(0<=i?"+":"")+i,of:a.window},a._removeClass(T(this),"ui-dialog-resizing"),a._unblockFrames(),a._trigger("resizeStop",e,o(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=T(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=T.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,r=!1,i={};T.each(e,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(r=!0),e in n.resizableRelatedOptions&&(i[e]=t)}),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(e,t){var n,r,i=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:T("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),r&&"string"==typeof t&&i.resizable("option","handles",t),r||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),n="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=T(this);return T("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!T(e.target).closest(".ui-dialog").length||!!T(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=T("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==T.uiBackCompat&&T.widget("ui.dialog",T.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),T.ui.dialog,T.widget("ui.slider",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,n=this.options,r=this.element.find(".ui-slider-handle"),i=[];for(t=n.values&&n.values.length||1,r.length>t&&(r.slice(t).remove(),r=r.slice(0,t)),e=r.length;e<t;e++)i.push("<span tabindex='0'></span>");this.handles=r.add(T(i.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){T(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:T.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=T("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var t,n,r,i,o,a,s,l=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(n-l.values(e));(t<r||r===t&&(e===l._lastChangedValue||l.values(e)===u.min))&&(r=t,i=T(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),a=i.offset(),s=!T(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-a.left-i.width()/2,top:e.pageY-a.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(r=n/t)&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_uiHash:function(e,t,n){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var r,i=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),i=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(r,n):Math.max(r,n)),o[t]=n),n!==i&&(!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n)))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,r,i;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!T.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=e,i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(r[i]),this._change(null,i);this._refreshValue()},_setOption:function(e,t){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),T.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=0<n?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,e,r,i,o=this.options.range,a=this.options,s=this,l=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(e){n=(s.values(e)-s._valueMin())/(s._valueMax()-s._valueMin())*100,u["horizontal"===s.orientation?"left":"bottom"]=n+"%",T(this).stop(1,1)[l?"animate":"css"](u,a.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===e&&s.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===e&&s.range[l?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===e&&s.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===e&&s.range[l?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(e=this.value(),r=this._valueMin(),i=this._valueMax(),n=i!==r?(e-r)/(i-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](u,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var t,n,r,i=T(e.target).data("ui-slider-handle-index");switch(e.keyCode){case T.ui.keyCode.HOME:case T.ui.keyCode.END:case T.ui.keyCode.PAGE_UP:case T.ui.keyCode.PAGE_DOWN:case T.ui.keyCode.UP:case T.ui.keyCode.RIGHT:case T.ui.keyCode.DOWN:case T.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(T(e.target),null,"ui-state-active"),!1===this._start(e,i)))return}switch(r=this.options.step,t=n=this._hasMultipleValues()?this.values(i):this.value(),e.keyCode){case T.ui.keyCode.HOME:n=this._valueMin();break;case T.ui.keyCode.END:n=this._valueMax();break;case T.ui.keyCode.PAGE_UP:n=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case T.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case T.ui.keyCode.UP:case T.ui.keyCode.RIGHT:if(t===this._valueMax())return;n=this._trimAlignValue(t+r);break;case T.ui.keyCode.DOWN:case T.ui.keyCode.LEFT:if(t===this._valueMin())return;n=this._trimAlignValue(t-r)}this._slide(e,i,n)},keyup:function(e){var t=T(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(T(e.target),null,"ui-state-active"))}}}),T.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(l=/#.*$/,function(e){var t,n;t=e.href.replace(l,""),n=location.href.replace(l,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return 1<e.hash.length&&t===n}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),T.isArray(e.disabled)&&(e.disabled=T.unique(e.disabled.concat(T.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=T(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,r=location.hash.substring(1);return null===n&&(r&&this.tabs.each(function(e,t){if(T(t).attr("aria-controls")===r)return n=e,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&(-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!e&&0)),!e&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):T()}},_tabKeydown:function(e){var t=T(T.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(t),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case T.ui.keyCode.RIGHT:case T.ui.keyCode.DOWN:n++;break;case T.ui.keyCode.UP:case T.ui.keyCode.LEFT:r=!1,n--;break;case T.ui.keyCode.END:n=this.anchors.length-1;break;case T.ui.keyCode.HOME:n=0;break;case T.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case T.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===T.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===T.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===T.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){for(var n=this.tabs.length-1;-1!==T.inArray((n<e&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){return"active"===e?void this._activate(t):(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=T.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!T.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=T()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=T()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){T(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){T(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return T("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=T(),this.anchors.each(function(e,t){var n,r,i,o=T(t).uniqueId().attr("id"),a=T(t).closest("li"),s=a.attr("aria-controls");l._isLocal(t)?(i=(n=t.hash).substring(1),r=l.element.find(l._sanitizeSelector(n))):(n="#"+(i=a.attr("aria-controls")||T({}).uniqueId()[0].id),(r=l.element.find(n)).length||(r=l._createPanel(i)).insertAfter(l.panels[e-1]||l.tablist),r.attr("aria-live","polite")),r.length&&(l.panels=l.panels.add(r)),s&&a.data("ui-tabs-aria-controls",s),a.attr({"aria-controls":i,"aria-labelledby":o}),r.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return T("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,n,r;for(T.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)t=T(n),!0===e||-1!==T.inArray(r,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&T.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();"fill"===e?(n=t.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=T(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=T(this).outerHeight(!0)}),this.panels.each(function(){T(this).height(Math.max(0,n-T(this).innerHeight()+T(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,T(this).height("").height())}).height(n))},_eventHandler:function(e){var t=this.options,n=this.active,r=T(e.currentTarget).closest("li"),i=r[0]===n[0],o=i&&t.collapsible,a=o?T():this._getPanelForTab(r),s=n.length?this._getPanelForTab(n):T(),l={oldTab:n,oldPanel:s,newTab:o?T():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||i&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.tabs.index(r),this.active=i?T():r,this.xhr&&this.xhr.abort(),s.length||a.length||T.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,l))},_toggle:function(e,t){function n(){i.running=!1,i._trigger("activate",e,t)}function r(){i._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&i.options.show?i._show(o,i.options.show,n):(o.show(),n())}var i=this,o=t.newPanel,a=t.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?t.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===T(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),t=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:T.noop}))},_findActive:function(e){return!1===e?T():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+T.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){T.data(this,"ui-tabs-destroy")?T(this).remove():T(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=T(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var e=this.options.disabled;!1!==e&&(void 0===n?e=!1:(n=this._getIndex(n),e=T.isArray(e)?T.map(e,function(e){return e!==n?e:null}):T.map(this.tabs,function(e,t){return t!==n?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==T.inArray(e,t))return;t=T.isArray(t)?T.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,r){e=this._getIndex(e);var i=this,n=this.tabs.eq(e),t=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),a={tab:n,panel:o},s=function(e,t){"abort"===t&&i.panels.stop(!1,!0),i._removeClass(n,"ui-tabs-loading"),o.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(t[0])||(this.xhr=T.ajax(this._ajaxSettings(t,r,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),i._trigger("load",r,a),s(n,t)},1)}).fail(function(e,t){setTimeout(function(){s(e,t)},1)})))},_ajaxSettings:function(e,n,r){var i=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return i._trigger("beforeLoad",n,T.extend({jqXHR:e,ajaxSettings:t},r))}}},_getPanelForTab:function(e){var t=T(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==T.uiBackCompat&&T.widget("ui.tabs",T.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),T.ui.tabs,T.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=T(this).attr("title")||"";return T("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",T.trim(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=T.inArray(t,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),(n=T.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=T("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=T([])},_setOption:function(e,t){var n=this;this._super(e,t),"content"===e&&T.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var r=this;T.each(this.tooltips,function(e,t){var n=T.Event("blur");n.target=n.currentTarget=t.element[0],r.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=T(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=T(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=T([])},open:function(e){var n=this,t=T(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=T(this);t.data("ui-tooltip-open")&&((e=T.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,n){var e,r=this.options.content,i=this,o=n?n.type:null;return"string"==typeof r||r.nodeType||r.jquery?this._open(n,t,r):void((e=r.call(t[0],function(e){i._delay(function(){t.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,t,e))})}))&&this._open(n,t,e))},_open:function(e,t,n){function r(e){l.of=e,o.is(":hidden")||o.position(l)}var i,o,a,s,l=T.extend({},this.options.position);if(n){if(i=this._find(t))return void i.tooltip.find(".ui-tooltip-content").html(n);t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),i=this._tooltip(t),o=i.tooltip,this._addDescribedBy(t,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(s=T("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):o.position(T.extend({of:t},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(r(l.of),clearInterval(a))},T.fx.interval)),this._trigger("open",e,{tooltip:o})}},_registerCloseHandlers:function(e,n){var t={keyup:function(e){if(e.keyCode===T.ui.keyCode.ESCAPE){var t=T.Event(e);t.currentTarget=n[0],this.close(t,!0)}}};n[0]!==this.element[0]&&(t.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(t.mouseleave="close"),e&&"focusin"!==e.type||(t.focusout="close"),this._on(!0,n,t)},close:function(e){var t,n=this,r=T(e?e.currentTarget:this.element),i=this._find(r);return i?(t=i.tooltip,void(i.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),i.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){n._removeTooltip(T(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&T.each(this.parents,function(e,t){T(t.element).attr("title",t.title),delete n.parents[e]}),i.closing=!0,this._trigger("close",e,{tooltip:t}),i.hiding||(i.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var t=T("<div>").attr("role","tooltip"),n=T("<div>").appendTo(t),r=t.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var i=this;T.each(this.tooltips,function(e,t){var n=T.Event("blur"),r=t.element;n.target=n.currentTarget=r[0],i.close(n,!0),T("#"+e).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==T.uiBackCompat&&T.widget("ui.tooltip",T.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),T.ui.tooltip});var fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(y,b){"use strict";function i(e,t,n,r){for(var i=e[n],o=0;o<r.length-1;++o)i=r[o+1](i,n);t[n]=i}function x(e,t,n,r){for(var i=0;i<n;++i)e=r(e,t[i],i,b.makeArray(t));return e}b.version="Infusion 2.0.0",b.Error=Error,b.environment={fluid:b},b.global=b.global||"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},b.invokeLater=function(e){return setTimeout(e,1)},b.defeatLogging=!0,b.activityTracing=!1,b.activityTrace=[];var s=/(%\w+)/g;b.renderOneActivity=function(e,t){for(var n=!0===t?[]:["    while "],r=e.message,i=s.lastIndex=0;;){var o=s.exec(r);if(!o)break;var a=o[1].substring(1);n.push(r.substring(i,o.index)),n.push(e.args[a]),i=s.lastIndex}return i<r.length&&n.push(r.substring(i)),n},b.renderActivity=function(e,t){return t=t||b.renderOneActivity,b.transform(e,t)},b.singleThreadLocal=function(e){var t=e();return function(e){return void 0===e?t:t=e}},b.threadLocal=b.singleThreadLocal,b.globalThreadLocal=b.threadLocal(function(){return{}}),b.getActivityStack=function(){var e=b.globalThreadLocal();return e.activityStack||(e.activityStack=[]),e.activityStack},b.describeActivity=b.getActivityStack,b.logActivity=function(e){e=e||b.describeActivity();var t=b.renderActivity(e).reverse();b.log("Current activity: "),b.each(t,function(e){b.doLog(e)})},b.pushActivity=function(e,t,n){var r={type:e,message:t,args:n,time:(new Date).getTime()};b.activityTracing&&b.activityTrace.push(r),b.passLogLevel(b.logLevel.TRACE)&&b.doLog(b.renderOneActivity(r,!0)),b.getActivityStack().push(r)},b.popActivity=function(e){e=e||1,b.activityTracing&&b.activityTrace.push({pop:e});var t=b.getActivityStack(),n=t.length-e;t.length=n<0?0:n},b.FluidError=function(){var e=Error.apply(this,arguments);this.message=e.message;try{throw e}catch(e){this.stack=e.stack}return this},b.FluidError.prototype=Object.create(Error.prototype),b.logFailure=function(e,t){b.log.apply(null,[b.logLevel.FAIL,"ASSERTION FAILED: "].concat(e)),b.logActivity(t)},b.renderLoggingArg=function(e){return b.isPrimitive(e)||!b.isPlainObject(e)?e:JSON.stringify(e)},b.builtinFail=function(e){var t=b.transform(e,b.renderLoggingArg).join("");throw new b.FluidError("Assertion failure - check console for more details: "+t)},b.fail=function(){var e=b.makeArray(arguments),t=b.makeArray(b.describeActivity());b.popActivity(t.length),b.failureEvent?b.failureEvent.fire(e,t):(b.logFailure(e,t),b.builtinFail(e,t))},b.expect=function(t,n,e){b.transform(b.makeArray(e),function(e){void 0===n[e]&&b.fail(t+" missing required parameter "+e)})},b.isLogging=function(){return n[0].priority>b.logLevel.IMPORTANT.priority},b.isLogLevel=function(e){return b.isMarker(e)&&void 0!==e.priority},b.passLogLevel=function(e){return e.priority<=n[0].priority},b.setLogging=function(e){var t;"boolean"==typeof e?t=b.logLevel[e?"INFO":"IMPORTANT"]:b.isLogLevel(e)?t=e:b.fail("Unrecognised fluid logging level ",e),n.unshift(t),b.defeatLogging=!b.isLogging()},b.setLogLevel=b.setLogging,b.popLogging=function(){var e=1===n.length?n[0]:n.shift();return b.defeatLogging=!b.isLogging(),e},b.doLog=function(e){"undefined"!=typeof console&&(console.debug?console.debug.apply(console,e):"function"==typeof console.log&&console.log.apply(console,e))},b.log=function(){var e=b.makeArray(arguments),t=b.logLevel.INFO;if(b.isLogLevel(e[0])&&(t=e.shift()),b.passLogLevel(t)){var n=[b.renderTimestamp(new Date)+":  "].concat(e);b.doLog(n)}},b.isValue=function(e){return null!=e},b.isPrimitive=function(e){var t=typeof e;return!e||"string"===t||"boolean"===t||"number"===t||"function"===t},b.isArrayable=function(e){return e&&(e.jquery||"[object Array]"===Object.prototype.toString.call(e))},b.isPlainObject=function(e,t){var n=Object.prototype.toString.call(e);return"[object Array]"===n?!t:"[object Object]"===n&&(!e.constructor||!e.constructor.prototype||Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))},b.typeCode=function(e){return b.isPrimitive(e)||!b.isPlainObject(e)?"primitive":b.isArrayable(e)?"array":"object"},b.isIoCReference=function(e){return"string"==typeof e&&"{"===e.charAt(0)&&0<e.indexOf("}")},b.isDOMNode=function(e){return e&&"number"==typeof e.nodeType},b.isComponent=function(e){return e&&e.constructor===b.componentConstructor},b.isUncopyable=function(e){return b.isPrimitive(e)||!b.isPlainObject(e)},b.isApplicable=function(e){return e.apply&&"function"==typeof e.apply},b.identity=function(e){return e},b.notImplemented=function(){b.fail("This operation is not implemented")},b.firstDefined=function(e,t){return void 0===e?t:e},b.freshContainer=function(e){return b.isArrayable(e)?[]:{}},b.copyRecurse=function(e,r){return r.length>b.strategyRecursionBailout&&b.fail("Runaway recursion encountered in fluid.copy - reached path depth of "+b.strategyRecursionBailout+" via path of "+r.join(".")+"this object is probably circularly connected. Either adjust your object structure to remove the circularity or increase fluid.strategyRecursionBailout"),b.isUncopyable(e)?e:b.transform(e,function(e,t){r.push(t);var n=b.copyRecurse(e,r);return r.pop(),n})},b.copy=function(e){return b.copyRecurse(e,[])},b.extend=y.extend,b.makeArray=function(e){var t=[];if(null!=e)if(b.isPrimitive(e)||"number"!=typeof e.length)t.push(e);else for(var n=0;n<e.length;++n)t[n]=e[n];return t},b.pushArray=function(e,t,n){var r=e[t]?e[t]:e[t]=[];b.isArrayable(n)?r.push.apply(r,n):r.push(n)},b.transform=function(e){if(b.isPrimitive(e))return e;var t=b.freshContainer(e);if(b.isArrayable(e))for(var n=0;n<e.length;++n)i(e,t,n,arguments);else for(var r in e)i(e,t,r,arguments);return t},b.each=function(e,t){if(b.isArrayable(e))for(var n=0;n<e.length;++n)t(e[n],n);else for(var r in e)t(e[r],r)},b.make_find=function(a){var s=!a&&void 0;return function(e,t,n){var r;if(b.isArrayable(e)){for(var i=0;i<e.length;++i)if((r=t(e[i],i))!==s)return a?e[i]:r}else for(var o in e)if((r=t(e[o],o))!==s)return a?e[o]:r;return n}},b.find=b.make_find(!1),b.find_if=b.make_find(!0),b.accumulate=function(e,t,n){for(var r=0;r<e.length;++r)n=t(e[r],n,r);return n},b.add=function(e,t){return e+t},b.remove_if=function(e,t,n){if(b.isArrayable(e))for(var r=e.length-1;0<=r;--r)t(e[r],r)&&(n&&n.unshift(e[r]),e.splice(r,1));else for(var i in e)t(e[i],i)&&(n&&(n[i]=e[i]),delete e[i]);return n||e},b.generate=function(e,t,n){for(var r=[],i=0;i<e;++i)r[i]=n?t(i):t;return r},b.iota=function(e,t){t=t||0;for(var n=[],r=0;r<e;++r)n[n.length]=t++;return n},b.getMembers=function(e,t){return b.transform(e,function(e){return b.get(e,t)})},b.filterKeys=function(e,n,r){return b.remove_if(y.extend({},e),function(e,t){return r^-1===n.indexOf(t)})},b.censorKeys=function(e,t){return b.filterKeys(e,t,!0)},b.makeFlatten=function(n){return function(e){var t=[];return b.each(e,function(){t.push(arguments[n])}),t}},b.keys=b.makeFlatten(1),b.values=b.makeFlatten(0),b.contains=function(e,t){return e?b.isArrayable(e)?-1!==e.indexOf(t):b.find(e,function(e){if(t===e)return!0}):void 0},b.keyForValue=function(e,n){return b.find(e,function(e,t){if(n===e)return t})},b.arrayToHash=function(e){var t={};return b.each(e,function(e){t[e]=!0}),t},b.stableSort=function(e,t){for(var n=0;n<e.length;n++){var r,i=e[n];for(r=n;0<r&&t(i,e[r-1])<0;r--)e[r]=e[r-1];e[r]=i}},b.hashToArray=function(e,r,i){var o=[];return b.each(e,function(e,t){var n={};n[r]=t,i?n=i(n,e,t)||n:y.extend(!0,n,e),o.push(n)}),o},b.flatten=function(e){var t=[];return b.each(e,function(e){b.isArrayable(e)?t=t.concat(e):t.push(e)}),t},b.clear=function(e){if(b.isArrayable(e))e.length=0;else for(var t in e)delete e[t]},b.compareStringLength=function(e){return e?function(e,t){return e.length-t.length}:function(e,t){return t.length-e.length}},b.parseInteger=function(e){return isFinite(e)&&e%1==0?Number(e):NaN},b.freezeRecursive=function(e){return b.isPlainObject(e)?(b.each(e,function(e){b.freezeRecursive(e)}),Object.freeze(e)):e},b.marker=function(){},b.makeMarker=function(e,t){var n=Object.create(b.marker.prototype);return n.value=e,y.extend(n,t),Object.freeze(n)},b.VALUE=b.makeMarker("VALUE"),b.NO_VALUE=b.makeMarker("NO_VALUE"),b.EXPAND=b.makeMarker("EXPAND"),b.isMarker=function(e,t){return e instanceof b.marker&&(!t||e.value===t.value)},b.logLevelsSpec={FATAL:0,FAIL:5,WARN:10,IMPORTANT:12,INFO:15,TRACE:20},b.logLevel=b.transform(b.logLevelsSpec,function(e,t){return b.makeMarker(t,{priority:e})});var n=[b.logLevel.IMPORTANT];b.model={},b.model.copyModel=function(e,t){b.clear(e),y.extend(!0,e,t)},b.model.parseEL=function(e){return""===e?[]:String(e).split(".")},b.model.composePath=function(e,t){return""===e?t:""===t?e:e+"."+t},b.model.composeSegments=function(){return b.makeArray(arguments).join(".")},b.lastDotIndex=function(e){return e.lastIndexOf(".")},b.model.getToTailPath=function(e){var t=b.lastDotIndex(e);return-1===t?"":e.substring(0,t)},b.model.getTailPath=function(e){var t=b.lastDotIndex(e);return e.substring(t+1)},b.path=b.model.composeSegments,b.composePath=b.model.composePath,b.requireDataBinding=function(){b.fail("Please include DataBinding.js in order to operate complex model accessor configuration")},b.model.setWithStrategy=b.model.getWithStrategy=b.requireDataBinding,b.model.resolvePathSegment=function(e,t,n,r){return!r&&e.resolvePathSegment?e.resolvePathSegment(t):n&&void 0===e[t]?e[t]={}:e[t]},b.model.parseToSegments=function(e,t,n){return"number"==typeof e||"string"==typeof e?t(e):n?b.makeArray(e):e},b.model.pathToSegments=function(e,t){var n=t&&t.parser?t.parser.parse:b.model.parseEL;return b.model.parseToSegments(e,n)},b.model.accessImpl=function(e,t,n,r,i,o,a){var s=b.model.pathToSegments(t,r),l=0;return i&&(l=i.length,s=i.concat(s)),e=a(e,s,l,r,n===b.NO_VALUE?0:1),n===b.NO_VALUE||n===b.VALUE?o?{root:e,segs:s}:e:void(e[s[s.length-1]]=n)},b.model.accessSimple=function(e,t,n,r,i,o){return b.model.accessImpl(e,t,n,r,i,o,b.model.traverseSimple)},b.model.traverseSimple=function(e,t,n,r,i){for(var o=r,a=t.length-i,s=0;s<a;++s){if(!e)return e;var l=t[s];e=r&&r[l]?r[l]:b.model.resolvePathSegment(e,l,1===i,o),r=null}return e},b.model.setSimple=function(e,t,n,r,i){b.model.accessSimple(e,t,n,r,i,!1)},b.model.getSimple=function(e,t,n,r){return null==t||0===t.length?e:b.model.accessSimple(e,t,b.NO_VALUE,n,r,!1)},b.getImmediate=function(e,t,n){for(var r=void 0===n?t.length:n+1,i=0;i<r;++i)e=e?e[t[i]]:void 0;return e},b.decodeAccessorArg=function(e){return e&&e!==b.model.defaultGetConfig&&e!==b.model.defaultSetConfig?"environment"===e.type?e.value:void 0:null},b.set=function(e,t,n,r,i){var o=b.decodeAccessorArg(r);void 0===o?b.model.setWithStrategy(e,t,n,r,i):b.model.setSimple(e,t,n,o,i)},b.get=function(e,t,n,r){var i=b.decodeAccessorArg(n);return void 0===i?b.model.getWithStrategy(e,t,n,r):b.model.accessImpl(e,t,b.NO_VALUE,i,null,!1,b.model.traverseSimple)},b.getGlobalValue=function(e,t){if(e)return t=t||b.environment,b.get(b.global,e,{type:"environment",value:t})},b.bind=function(e,t,n){return e[t].apply(e,b.makeArray(n))},b.invokeGlobalFunction=function(e,t,n){var r=b.getGlobalValue(e,n);return r?r.apply(null,b.isArrayable(t)?t:b.makeArray(t)):void b.fail("Error invoking global function: "+e+" could not be located")},b.registerGlobalFunction=function(e,t,n){n=n||b.environment,b.set(b.global,e,t,{type:"environment",value:n})},b.setGlobalValue=b.registerGlobalFunction,b.registerNamespace=function(e,t){t=t||b.environment;var n=b.getGlobalValue(e,t);return n||(n={},b.setGlobalValue(e,n,t)),n},b.dumpEl=b.identity,b.renderTimestamp=b.identity,b.generateUniquePrefix=function(){return Math.floor(1e12*Math.random()).toString(36)+"-"};var e=b.generateUniquePrefix();b.fluidInstance=e;var t=1;b.allocateGuid=function(){return e+t++},b.registerNamespace("fluid.event"),b.extremePriority=4e9,b.priorityTypes={first:-1,last:1,before:0,after:0},b.extremalPriorities={none:0,testing:10,authoring:20},b.parsePriorityConstraint=function(e,t,n){var r=e.split(":"),i=r[0],o=b.priorityTypes[i];return void 0===o&&b.fail("Invalid constraint type in priority field "+e+": the only supported values are "+b.keys(b.priorityTypes).join(", ")+" or numeric"),t&&0===o&&b.fail("Constraint type in priority field "+e+" is not supported in a "+n+" record - you must use either a numeric value or first, last"),{type:r[0],target:r[1]}},b.parsePriority=function(e,t,n,r){var i={count:t||0,fixed:null,constraint:null,site:r};"number"==typeof(e=e||0)?i.fixed=-e:i.constraint=b.parsePriorityConstraint(e,n,r);var o=i.constraint?b.priorityTypes[i.constraint.type]:0;if(0!==o){var a=i.constraint.target||"none",s=b.extremalPriorities[a];void 0===s&&b.fail("Unrecognised extremal priority target "+a+": the currently supported values are "+b.keys(b.extremalPriorities).join(", ")+": register your value in fluid.extremalPriorities"),i.fixed=o*(b.extremePriority+s)}return null!==i.fixed&&(i.fixed+=i.count/1024),i},b.renderPriority=function(e){return e.constraint?e.constraint.target?e.constraint.type+":"+e.constraint.target:e.constraint.type:Math.floor(e.fixed)},b.compareByPriority=function(e,t){return null!==e.priority.fixed&&null!==t.priority.fixed?e.priority.fixed-t.priority.fixed:(null===e.priority.fixed)-(null===t.priority.fixed)},b.honourConstraint=function(e,t,n){var r=e[n].priority.constraint,i=b.find(e,function(e,t){return e.namespace===r.target?t:void 0},-1);if(-1===i)return!0;if(t<=i)return!1;for(var o=i+("after"===r.type?1:0),a=e[n],s=n;o<=s;--s)e[s]=e[s-1];return e[o]=a,!0},b.sortByPriority=function(e){b.stableSort(e,b.compareByPriority);for(var t=b.find(e,function(e,t){return e.priority.constraint&&0===b.priorityTypes[e.priority.constraint.type]?t:void 0},e.length);;){if(t===e.length)return e;for(var n=t,r=t;r<e.length;++r){b.honourConstraint(e,t,r)&&++t}if(t===n){var i=e.slice(t);b.fail("Could not find targets for any constraints in "+i[0].priority.site+" ",i,": none of the targets ("+b.getMembers(i,"priority.constraint.target").join(", ")+") matched any namespaces of the elements in (",e.slice(0,t),") - this is caused by either an invalid or circular reference")}}},b.parsePriorityRecords=function(e,r){var t=b.hashToArray(e,"namespace",function(e,t,n){y.extend(e,t),e.priority=b.parsePriority(t.priority,n,!1,r)});return b.sortByPriority(t),t},b.event.identifyListener=function(e,t){return"string"==typeof e||e.$$fluid_guid||t||(e.$$fluid_guid=b.allocateGuid()),e.$$fluid_guid},b.event.impersonateListener=function(e,t){b.event.identifyListener(e),t.$$fluid_guid=e.$$fluid_guid},b.event.sortListeners=function(e){var i=[];return b.each(e,function(e){for(var t,n=0;n<e.length;++n){var r=e[n];r.softNamespace||t||(t=r)}t?i.push(t):i=i.concat(e)}),b.sortByPriority(i)},b.event.resolveListener=function(e){var t=e.globalName||("string"==typeof e?e:null);if(t){var n=b.getGlobalValue(t);n?e=n:b.fail("Unable to look up name "+t+" as a global function")}return e},b.nameComponent=function(e){return e?"component with typename "+e.typeName+" and id "+e.id:"[unknown component]"},b.event.nameEvent=function(e,t){return t+" of "+b.nameComponent(e)},b.makeEventFirer=function(o){var s,a=(o=o||{}).name||"<anonymous>";return s={eventId:b.allocateGuid(),name:a,ownerId:o.ownerId,typeName:"fluid.event.firer",destroy:function(){s.destroyed=!0},addListener:function(){(function(){s.listeners={},s.byId={},s.sortedListeners=[],s.addListener=function(e,t,n,r,i){var o;if(s.destroyed&&b.fail("Cannot add listener to destroyed event firer "+s.name),e){b.isPlainObject(e,!0)&&!b.isApplicable(e)&&(e=(o=e).listener,t=o.namespace,n=o.priority,r=o.softNamespace,i=o.listenerId),"string"==typeof e&&(e={globalName:e});var a=i||b.event.identifyListener(e);t=t||a,o=y.extend(o||{},{namespace:t,listener:e,softNamespace:r,listenerId:i,priority:b.parsePriority(n,s.sortedListeners.length,!1,"listeners")}),s.byId[a]=o,(s.listeners[t]=b.makeArray(s.listeners[t]))[r?"push":"unshift"](o),s.sortedListeners=b.event.sortListeners(s.listeners)}},s.addListener.apply(null,arguments)}).apply(null,arguments)},removeListener:function(e){if(s.listeners){var t,n,r;"string"==typeof e?(t=e,(r=s.listeners[t])||(n=t,t=null)):"function"==typeof e&&((n=b.event.identifyListener(e,!0))||b.fail("Cannot remove unregistered listener function ",e," from event "+s.name));var i=s.byId[n],o=i&&i.softNamespace;t=t||i&&i.namespace||n,delete s.byId[n],(r=s.listeners[t])&&(o?b.remove_if(r,function(e){return e.listener.$$fluid_guid===n||e.listenerId===n}):r.shift(),0===r.length&&delete s.listeners[t]),s.sortedListeners=b.event.sortListeners(s.listeners)}},fire:function(){var e=s.sortedListeners;if(e&&!s.destroyed){b.log(b.logLevel.TRACE,"Firing event "+a+" to list of "+e.length+" listeners");for(var t=0;t<e.length;++t){var n=e[t];n.listener=b.event.resolveListener(n.listener);var r,i=n.listener.apply(null,arguments);if((o.preventable&&!1===i||s.destroyed)&&(r=!1),void 0!==r)return r}}}}},b.fireEvent=function(e,t,n){var r=e.events[t];r&&r.fire.apply(null,b.makeArray(n))},b.event.addListenerToFirer=function(e,t,n,r){if(r=r||b.identity,b.isArrayable(t))for(var i=0;i<t.length;++i)b.event.addListenerToFirer(e,t[i],n,r);else"function"==typeof t||"string"==typeof t?r(e).addListener(t,n):t&&"object"==typeof t&&r(e).addListener(t.listener,n||t.namespace,t.priority,t.softNamespace,t.listenerId)},b.event.resolveListenerRecord=function(e){return{records:e}},b.expandImmediate=function(e){b.fail("fluid.expandImmediate could not be loaded - please include FluidIoC.js in order to operate IoC-driven event with descriptor "+e)},b.mergeListeners=function(a,s,e){b.each(e,function(e,t){var n,r;if(b.isIoCReference(t))(n=b.expandImmediate(t,a))||b.fail("Error in listener record: key "+t+' could not be looked up to an event firer - did you miss out "events." when referring to an event firer?');else{var i=t.indexOf(".");-1!==i&&(r=t.substring(i+1),t=t.substring(0,i)),s[t]||b.fail("Listener registered for event "+t+" which is not defined for this component"),n=s[t]}var o=b.event.resolveListenerRecord(e,a,t,r,!0);b.event.addListenerToFirer(n,o.records,r,o.adderWrapper)})},b.eventFromRecord=function(e,t,n){var r;return e&&("string"!=typeof e||b.isIoCReference(e))?b.event.resolveEvent?r=b.event.resolveEvent(n,t,e):b.fail("fluid.event.resolveEvent could not be loaded - please include FluidIoC.js in order to operate IoC-driven event with descriptor ",e):r=b.makeEventFirer({name:b.event.nameEvent(n,t),preventable:"preventable"===e,ownerId:n.id}),r},b.instantiateFirers=function(n,e){b.each(e.events,function(e,t){n.events[t]=b.eventFromRecord(e,t,n)})},b.mergeListenerPolicy=function(e,t,n){return"string"!=typeof n&&b.fail("Error in listeners declaration - the keys in this structure must resolve to event names - got "+n+" from ",t),!b.isIoCReference(n)&&-1!==n.indexOf(".")?t||e:b.arrayConcatPolicy(e,t)},b.makeMergeListenersPolicy=function(r,t){return function(n,e){return n=n||{},t&&(b.isArrayable(e)||"string"==typeof e.target)?n[""]=r(n[""],e,""):b.each(e,function(e,t){n[t]=r(n[t],e,t)}),n}},b.validateListenersImplemented=function(n){var r=[];return b.each(n.events,function(e,t){b.each(e.sortedListeners,function(e){e.listener!==b.notImplemented&&"fluid.notImplemented"!==e.listener.globalName||r.push({name:t,namespace:e.namespace,componentSource:b.model.getSimple(n.options.listeners,[t+"."+e.namespace,0,"componentSource"])})})}),r},b.unique=function(n){return b.remove_if(n,function(e,t){return!e||0<t&&e===n[t-1]})},b.arrayConcatPolicy=function(e,t){return b.makeArray(e).concat(b.makeArray(t))},b.failureEvent=b.makeEventFirer({name:"failure event"}),b.failureEvent.addListener(b.builtinFail,"fail"),b.failureEvent.addListener(b.logFailure,"log","before:fail"),b.pushSoftFailure=function(e){"function"==typeof e?b.failureEvent.addListener(e,"fail"):-1===e?b.failureEvent.removeListener("fail"):"boolean"==typeof e&&b.fail("pushSoftFailure with boolean value is no longer supported")},b.componentConstructor=function(){},b.typeTag=function(e){var t=Object.create(b.componentConstructor.prototype);return t.typeName=e,t.id=b.allocateGuid(),t};var l=1,u={};b.defaultsStore={},b.resolveGradesImpl=function(e,t){for(var n=(t=b.makeArray(t)).length-1;0<=n;--n){var r=t[n];if(r&&!e.gradeHash[r]){var i=(b.isIoCReference(r)?null:b.rawDefaults(r))||{},o=u[r]||l-1;e.lastTick=Math.max(e.lastTick,o),e.gradeHash[r]=!0,e.gradeChain.push(r);for(var a=b.makeArray(i.gradeNames),s=a.length-1;0<=s;--s)b.resolveGradesImpl(e,a[s])}}return e},b.resolveGradeStructure=function(e,t){var n={lastTick:0,gradeChain:[],gradeHash:{}};return b.resolveGradesImpl(n,[e].concat(b.makeArray(t))),n.gradeChain.reverse(),n},b.hasGrade=function(e,t){return!(!e||!e.gradeNames)&&b.contains(e.gradeNames,t)},b.resolveGrade=function(e,t,n){var r=b.resolveGradeStructure(t,n),i=b.transform(r.gradeChain,b.rawDefaults,b.copy);b.remove_if(i,function(e){return!e});for(var o={},a=0;a<i.length;++a)i[a]&&i[a].mergePolicy&&(o=y.extend(!0,o,i[a].mergePolicy));i=[o,{}].concat(i);var s=b.merge.apply(null,i);return s.gradeNames=r.gradeChain,b.freezeRecursive(s),{defaults:s,lastTick:r.lastTick}},b.mergedDefaultsCache={},b.gradeNamesToKey=function(e,t){return e+"|"+t.join("|")},b.getMergedDefaults=function(e,t){t=b.makeArray(t);var n=b.gradeNamesToKey(e,t),r=b.mergedDefaultsCache[n];if(r){for(var i=0,o=r.defaults.gradeNames||[],a=0;a<o.length;++a)i=Math.max(i,u[o[a]]||0);i>r.lastTick&&(b.log(b.logLevel.TRACE,"Clearing cache for component "+e+" with gradeNames ",o),r=null)}if(!r){var s=b.rawDefaults(e);if(!s)return s;r=b.mergedDefaultsCache[n]=b.resolveGrade(s,e,t)}return r.defaults},b.upgradePrimitiveFunc=function(e,t){if(e&&b.isPrimitive(e)){var n={};return n[t||("string"==typeof e&&"{"!==e.charAt(0)?"funcName":"func")]=e,n.args=b.NO_VALUE,n}return e},b.annotateListeners=function(n,e){e.listeners=b.transform(e.listeners,function(e){var t=b.makeArray(e);return b.transform(t,function(e){return(e=b.upgradePrimitiveFunc(e,"listener")).componentSource=n,e})}),e.invokers=b.transform(e.invokers,function(e){return(e=b.upgradePrimitiveFunc(e))&&(e.componentSource=n),e})},b.rawDefaults=function(e){var t=b.defaultsStore[e];return t&&t.options},b.registerRawDefaults=function(e,t){b.pushActivity("registerRawDefaults","registering defaults for grade %componentName with options %options",{componentName:e,options:t});var n=b.expandCompact?b.expandCompact(t):b.copy(t);b.annotateListeners(e,n);var r=b.getCallerInfo&&b.getCallerInfo(6);b.defaultsStore[e]={options:n,callerInfo:r},u[e]=l++,b.popActivity()},b.doIndexDefaults=function(e,t,n,r){for(var i=b.makeArray(r.gradeNames),o=0;o<i.length;++o)if(!b.hasGrade(t,i[o]))return;for(var a=("function"==typeof r.indexFunc?r.indexFunc:b.getGlobalValue(r.indexFunc))(t)||[],s=0;s<a.length;++s)b.pushArray(n,a[s],e)},b.indexDefaults=function(e,t){var n={};for(var r in b.defaultsStore){var i=b.getMergedDefaults(r);b.doIndexDefaults(r,i,n,t)}return n},b.defaults=function(e,t){if(void 0===t)return b.getMergedDefaults(e);t&&t.options&&b.fail("Probable error in options structure for "+e+' with option named "options" - perhaps you meant to write these options at top level in fluid.defaults? - ',t),b.registerRawDefaults(e,t);var n=b.getMergedDefaults(e);b.hasGrade(n,"fluid.function")||b.makeComponentCreator(e)},b.makeComponentCreator=function(i){var e=function(){var e=b.getMergedDefaults(i);if(e.gradeNames&&0!==e.gradeNames.length){if(e.initFunction)return b.initComponent(i,arguments);for(var t=[],n=0;n<e.gradeNames.length;++n){var r=e.gradeNames[n];b.rawDefaults(r)||t.push(r)}0===t.length?b.fail("Cannot make component creator for type "+i+" which does not have an initFunction defined"):b.fail("The grade hierarchy of component with type "+i+" is incomplete - it inherits from the following grade(s): "+t.join(", ")+" for which the grade definitions are corrupt or missing. Please check the files which might include these grades and ensure they are readable and have been loaded by this instance of Infusion")}else b.fail("Cannot make component creator for type "+i+" which does not have any gradeNames defined")},t=b.getGlobalValue(i);t&&y.extend(e,t),b.setGlobalValue(i,e)},b.emptyPolicy=b.freezeRecursive({}),b.derefMergePolicy=function(e){return(e?e["*"]:b.emptyPolicy)||b.emptyPolicy},b.compileMergePolicy=function(e){var a={},s={},l={builtins:a,defaultValues:s};return e&&b.each(e,function(e,t){var n={},r=!0;if("function"==typeof e)n.func=e;else if("object"==typeof e)n=e;else if(b.isDefaultValueMergePolicy(e))b.set(s,t,"{that}.options."+e),r=!(l.hasDefaults=!0);else for(var i=e.split(/\s*,\s*/),o=0;o<i.length;++o)n[i[o]]=!0;r&&b.set(a,b.composePath(t,"*"),n)}),l},b.isDefaultValueMergePolicy=function(e){return"string"==typeof e&&-1===e.indexOf(",")&&!/replace|nomerge|noexpand/.test(e)},b.mergeOneImpl=function(e,t,n,r,i,o,a){var s=e,l=b.isPrimitive(e);return void 0!==t&&(i.func||null===t||!b.isPlainObject(t)||i.nomerge?(r[n]=void 0,s=i.func?i.func.call(null,e,t,a[o-1],a,o):t):l&&(s=e=b.freshContainer(t))),s},b.fetchMergeChildren=function(r,i,o,a,s,l){for(var e=b.derefMergePolicy(s),t=a.length-1;0<=t;--t){var n=a[t];if(void 0!==n&&(b.each(n,function(e,t){var n=b.concreteTrundler(s,t);t in r&&(!l.evaluateFully||void 0!==n||b.isPrimitive(r[t]))||(o[i]=t,l.strategy(r,t,i+1,o,a,s))}),e.replace))break}return r},b.inEvaluationMarker=Object.freeze({__CURRENTLY_IN_EVALUATION__:!0}),b.strategyRecursionBailout=50,b.makeMergeStrategy=function(v){var e=function(e,t,n,r,i,o){if(n>b.strategyRecursionBailout&&b.fail("Overflow/circularity in options merging, current path is ",r," at depth ",n,' - please protect components from merging using the "nomerge" merge policy'),!b.isPrimitive(e)){var a;if(b.isTracing&&b.tracing.pathCount.push(b.path(r.slice(0,n))),t in e){if(a=e[t],!v.evaluateFully)return a}else e!==b.inEvaluationMarker&&(e[t]=b.inEvaluationMarker);void 0===i&&(r=b.makeArray(r),i=function(e,t,n,r){for(var i=[],o=0;o<e.length;++o){var a=x(e[o],t,n,r[o]);void 0!==a&&i.push(a)}return i}(v.sources,r,n-1,v.sourceStrategies),o=x(v.mergePolicy,r,n-1,b.concreteTrundler));var s,l,u,d=b.concreteTrundler(o,t),c=b.derefMergePolicy(d);c.replace?(s=1-i.length,l=0,u=-1):(s=0,l=i.length-1,u=1);for(var p,f=[],h=s;h<=l;++h){var m=u*h,g=v.sourceStrategies[m](i[m],t,n,r);if(void 0!==g&&(b.isPrimitive(g)||(f[m]=g),void 0===a)){if(-1===u){p=e[t]=g;break}p=b.mergeOneImpl(p,g,h,f,c,n,r,v),e!==b.inEvaluationMarker&&(e[t]=p)}}return void 0!==a&&(p=a),0<f.length&&b.isPlainObject(p)&&b.fetchMergeChildren(p,n,r,f,d,v),void 0===a&&0===f.length&&delete e[t],p}};return v.strategy=e},b.driveStrategy=function(e,t,n){t=b.makeArray(t);for(var r=0;r<t.length;++r){if(!e)return;e=n(e,t[r],r+1,t)}return e},b.concreteTrundler=function(e,t){return e?e[t]:void 0},b.merge=function(e){var t=Array.prototype.slice.call(arguments,1),n=b.compileMergePolicy(e).builtins,r=b.makeMergeOptions(n,t,{});return r.initter(),r.target},b.simpleGingerBlock=function(e,t){return{target:e,simple:!0,strategy:b.concreteTrundler,initter:b.identity,recordType:t,priority:b.mergeRecordTypes[t]}},b.makeMergeOptions=function(e,t,n){var r={mergePolicy:e,sources:t};return(r=y.extend(r,n)).target=r.target||b.freshContainer(r.sources[0]),r.sourceStrategies=r.sourceStrategies||b.generate(r.sources.length,b.concreteTrundler),r.initter=function(){r.evaluateFully=!0,b.fetchMergeChildren(r.target,0,[],r.sources,r.mergePolicy,r)},b.makeMergeStrategy(r),r},b.transformOptions=function(e,t){return b.expect("Options transformation record",t,["transformer","config"]),b.getGlobalValue(t.transformer).call(null,e,t.config)},b.findMergeBlocks=function(e,t){return b.remove_if(b.makeArray(e),function(e){return e.recordType!==t})},b.transformOptionsBlocks=function(n,r,e){b.each(e,function(e){var t=b.findMergeBlocks(n,e);b.each(t,function(e){var t=e.source?"source":"target";e[e.simple||"target"===t?"target":"source"]=b.transformOptions(e[t],r)})})},b.dedupeDistributionNamespaces=function(e){var n={};b.remove_if(e,function(e){var t=e.namespace;if(t){if(n[t]&&n[t]!==e.contextThat.id)return!0;n[t]=e.contextThat.id}})},b.deliverOptionsStrategy=b.identity,b.computeComponentAccessor=b.identity,b.computeDynamicComponents=b.identity,b.mergeRecordTypes={defaults:1e3,defaultValueMerge:900,subcomponentRecord:800,user:700,distribution:100},b.model.applyChangeRequest=function(e,t){var n=t.segs;if(0===n.length)"ADD"===t.type?y.extend(!0,e,t.value):b.clear(e);else if("ADD"===t.type)b.model.setSimple(e,t.segs,t.value);else{for(var r=0;r<n.length-1;++r)if(!(e=e[n[r]]))return;delete e[n[n.length-1]]}},b.destroyValue=function(e,t){e&&b.model.applyChangeRequest(e,{type:"DELETE",segs:t})},b.mergeComponentOptions=function(e,t,n,r){function i(){m=b.driveStrategy(u,"mergePolicy",g.strategy),m=y.extend({},b.rootMergePolicy,m),h=b.compileMergePolicy(m),y.extend(!0,s,h.builtins)}var o=b.rawDefaults(t),a=b.getMergedDefaults(t,o&&o.gradeNames?null:r.gradeNames),s={},l=[];l=b.expandComponentOptions?l.concat(b.expandComponentOptions(s,a,n,e)):l.concat([b.simpleGingerBlock(a,"defaults"),b.simpleGingerBlock(n,"user")]);var u={},d=[],c=[],p={target:u,sourceStrategies:d},f=function(){b.each(l,function(e){b.isPrimitive(e.priority)&&(e.priority=b.parsePriority(e.priority,0,!1,"options distribution"))}),b.sortByPriority(l),b.dedupeDistributionNamespaces(l),d.length=0,c.length=0,b.each(l,function(e){d.push(e.strategy),c.push(e.target)})};f();var h,m,g=b.makeMergeOptions(s,c,p);g.mergeBlocks=l,g.updateBlocks=f,g.destroyValue=function(e){for(var t=0;t<l.length;++t)b.destroyValue(l[t].target,e);b.destroyValue(p.target,e)},i(),g.computeMergePolicy=i,h.hasDefaults&&(b.generateExpandBlock?(l.push(b.generateExpandBlock({options:h.defaultValues,recordType:"defaultValueMerge",priority:b.mergeRecordTypes.defaultValueMerge},e,{})),f()):b.fail("Cannot operate mergePolicy ",m," for component ",e," without including FluidIoC.js")),e.options=u,b.driveStrategy(u,"gradeNames",g.strategy),b.deliverOptionsStrategy(e,u,g),b.computeComponentAccessor(e,n&&n.localRecord);var v=b.driveStrategy(u,"transformOptions",g.strategy);return v&&(b.transformOptionsBlocks(l,v,["user","subcomponentRecord"]),f()),p.target.mergePolicy||i(),g},b.defaults("fluid.function",{}),b.invokeGradedFunction=function(e,n){var t=b.defaults(e);t&&t.argumentMap&&b.hasGrade(t,"fluid.function")||b.fail("Cannot look up name "+e+" to a function with registered argumentMap - got defaults ",t);var r=[];return b.each(t.argumentMap,function(e,t){r[e]=n[t]}),b.invokeGlobalFunction(e,r)},b.noNamespaceDistributionPrefix="no-namespace-distribution-",b.mergeOneDistribution=function(e,t,n){var r=t.namespace||n||b.noNamespaceDistributionPrefix+b.allocateGuid();e[t.namespace=r]=y.extend(!0,{},e[r],t)},b.distributeOptionsPolicy=function(n,e){if(n=n||{},b.isArrayable(e))for(var t=0;t<e.length;++t)b.mergeOneDistribution(n,e[t]);else"string"==typeof e.target?b.mergeOneDistribution(n,e):b.each(e,function(e,t){b.mergeOneDistribution(n,e,t)});return n},b.mergingArray=function(){},b.mergingArray.prototype=[],b.membersMergePolicy=function(n,e){return n=n||{},b.each(e,function(e,t){n[t]||(n[t]=new b.mergingArray),e instanceof b.mergingArray?n[t].push.apply(n[t],e):void 0!==e&&n[t].push(e)}),n},b.invokerStrategies=b.arrayToHash(["func","funcName","listener","this","method"]),b.invokersMergePolicy=function(o,e){return o=o||{},b.each(e,function(e,t){if(e){e=b.upgradePrimitiveFunc(e);var n=o[t];for(var r in n||(n=o[t]={}),b.invokerStrategies)if(r in e)for(var i in b.invokerStrategies)n[i]=void 0;y.extend(n,e)}else o[t]=e}),o},b.rootMergePolicy={gradeNames:b.arrayConcatPolicy,distributeOptions:b.distributeOptionsPolicy,members:{noexpand:!0,func:b.membersMergePolicy},invokers:{noexpand:!0,func:b.invokersMergePolicy},transformOptions:"replace",listeners:b.makeMergeListenersPolicy(b.mergeListenerPolicy)},b.defaults("fluid.component",{initFunction:"fluid.initLittleComponent",mergePolicy:b.rootMergePolicy,argumentMap:{options:0},events:{onCreate:null,onDestroy:null,afterDestroy:null}}),b.defaults("fluid.emptySubcomponent",{gradeNames:["fluid.component"]}),b.computeNickName=function(e){var t=b.model.parseEL(e);return t[t.length-1]},b.defaults("fluid.typeFount",{gradeNames:["fluid.component"]}),b.initLittleComponent=function(e,t,n,r){var i=b.typeTag(e);i.lifecycleStatus="constructing",n=n||{gradeNames:"fluid.component"},i.destroy=b.makeRootDestroy(i);var o=b.mergeComponentOptions(i,e,t,n);o.exceptions={members:{model:!0,modelRelay:!0}};var a=i.options;i.events={},(r||b.identity)(i,a,o.strategy),b.computeDynamicComponents(i,o);for(var s=0;s<o.mergeBlocks.length;++s)o.mergeBlocks[s].initter();return o.initter(),delete a.mergePolicy,b.instantiateFirers(i,a),b.mergeListeners(i,i.events,a.listeners),i},b.diagnoseFailedView=b.identity,b.makeRootDestroy=function(e){return function(){b.doDestroy(e),b.fireEvent(e,"afterDestroy",[e,"",null])}},b.isDestroyed=function(e){return"destroyed"===e.lifecycleStatus},b.doDestroy=function(e,t,n){for(var r in b.fireEvent(e,"onDestroy",[e,t||"",n]),e.lifecycleStatus="destroyed",e.events)"afterDestroy"!==r&&"function"==typeof e.events[r].destroy&&e.events[r].destroy();e.applier&&e.applier.destroy()},b.initComponent=function(e,t){var n=b.defaults(e);n.gradeNames||b.fail("Cannot initialise component "+e+" which has no gradeName registered");var r,i=[e].concat(b.makeArray(t));b.pushActivity("initComponent","constructing component of type %componentName with arguments %initArgs",{componentName:e,initArgs:t}),r=b.invokeGlobalFunction(n.initFunction,i),b.diagnoseFailedView(e,r,n,i),b.initDependents&&b.initDependents(r);var o=b.validateListenersImplemented(r);return 0<o.length&&b.fail(b.transform(o,function(e){return["Error constructing component ",r," - the listener for event "+e.name+" with namespace "+e.namespace+(e.componentSource?" which was defined in grade "+e.componentSource:"")+" needs to be overridden with a concrete implementation"]})).join("\n"),"constructing"===r.lifecycleStatus&&(r.lifecycleStatus="constructed"),r.events.onCreate.fire(r),b.popActivity(),r},b.initSubcomponentImpl=function(e,t,n){var r;if("function"!=typeof t){var i="string"==typeof t?t:t.type;r="fluid.emptySubcomponent"===i?null:b.invokeGlobalFunction(i,n)}else r=t.apply(null,n);return r};var r="(?:[\\w\\u00c0-\\uFFFF*_-";b.simpleCSSMatcher={regexp:new RegExp("([#.]?)("+r+"]|\\\\.)+)","g"),charToTag:{"":"tag","#":"id",".":"clazz"}},b.IoCSSMatcher={regexp:new RegExp("([&#]?)("+r+"]|\\.|\\/)+)","g"),charToTag:{"":"context","&":"context","#":"id"}};var f=new RegExp("\\s*(>)?\\s*","g");b.parseSelector=function(e,t){var n=[];e=e.trim();for(var r=t.regexp,i=r.lastIndex=0;;){for(var o=[],a=!0;;){var s=r.exec(e);if(!s)break;if(s.index!==i){if(!a)break;b.fail("Error in selector string - cannot match child selector expression starting at "+e.substring(i))}var l={},u=s[2],d=t.charToTag[s[1]];d&&(l[d]=u),o[o.length]=l,i=r.lastIndex,a=!1}f.lastIndex=i;var c={predList:o},p=f.exec(e);if(p&&p.index===i||b.fail("Error in selector string - can not match child selector expression at "+e.substring(i)),">"===p[1]&&(c.child=!0),n[n.length]=c,f.lastIndex>=e.length)break;i=f.lastIndex,r.lastIndex=f.lastIndex}return n},b.stringToRegExp=function(e,t){return new RegExp(e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t)},b.stringTemplate=function(e,t){var n=b.keys(t);n=n.sort(b.compareStringLength());for(var r=0;r<n.length;++r){var i=n[r],o=b.stringToRegExp("%"+i,"g");e=e.replace(o,t[i])}return e}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,o){"use strict";o.promise=function(){var i={onResolve:[],onReject:[],then:function(e,t){return e&&("resolve"===i.disposition?e(i.value):i.onResolve.push(e)),t&&("reject"===i.disposition?t(i.value):i.onReject.push(t)),i},resolve:function(e){return i.disposition?o.fail("Error: resolving promise ",i,' which has already received "'+i.disposition+'"'):i.complete("resolve",i.onResolve,e),i},reject:function(e){return i.disposition?o.fail("Error: rejecting promise ",i,'which has already received "'+i.disposition+'"'):i.complete("reject",i.onReject,e),i},complete:function(e,t,n){i.disposition=e,i.value=n;for(var r=0;r<t.length;++r)t[r](n)}};return i},o.isPromise=function(e){return e&&"function"==typeof e.then},o.toPromise=function(e){if(o.isPromise(e))return e;var t=o.promise();return t.resolve(e),t},o.promise.follow=function(e,t){e.then(t.resolve,t.reject)},o.promise.map=function(e,n){var t=o.toPromise(e),r=o.promise();return t.then(function(e){var t=n(e);o.isPromise(t)?o.promise.follow(t,r):r.resolve(t)},function(e){r.reject(e)}),r},o.promise.makeSequencer=function(e,t,n){return o.isArrayable(e)||o.fail("fluid.promise sequence algorithms must be supplied an array as source"),{sources:e,resolvedSources:[],index:0,strategy:n,options:t,returns:[],promise:o.promise()}},o.promise.progressSequence=function(e,t){e.returns.push(t),e.index++,o.promise.resumeSequence(e)},o.promise.processSequenceReject=function(e,t){for(var n=e.index-1;0<=n;--n){var r=e.resolvedSources[n];t=(o.isPromise(r)&&"function"==typeof r.accumulateRejectionReason?r.accumulateRejectionReason:o.identity)(t)}e.promise.reject(t)},o.promise.resumeSequence=function(t){if(t.index===t.sources.length)t.promise.resolve(t.strategy.resolveResult(t));else{var e=t.strategy.invokeNext(t);t.resolvedSources[t.index]=e,o.isPromise(e)?e.then(function(e){o.promise.progressSequence(t,e)},function(e){o.promise.processSequenceReject(t,e)}):o.promise.progressSequence(t,e)}},o.promise.makeSequenceStrategy=function(){return{invokeNext:function(e){var t=e.sources[e.index];return"function"==typeof t?t(e.options):t},resolveResult:function(e){return e.returns}}},o.promise.sequence=function(e,t){var n=o.promise.makeSequencer(e,t,o.promise.makeSequenceStrategy());return o.promise.resumeSequence(n),n.promise},o.promise.makeTransformerStrategy=function(){return{invokeNext:function(e){var t=e.sources[e.index];return t.listener=o.event.resolveListener(t.listener),t.listener(e.returns[e.index],e.options)},resolveResult:function(e){return e.returns[e.index]}}},o.promise.makeTransformer=function(e,t,n){e.unshift({listener:function(){return t}});var r=o.promise.makeSequencer(e,n,o.promise.makeTransformerStrategy());return r.returns.push(null),o.promise.resumeSequence(r),r},o.promise.filterNamespaces=function(e,t){return t?o.remove_if(o.makeArray(e),function(e){return e.namespace&&!e.softNamespace&&!o.contains(t,e.namespace)}):e},o.promise.fireTransformEvent=function(e,t,n){var r=(n=n||{}).reverse?o.makeArray(e.sortedListeners).reverse():o.makeArray(e.sortedListeners);return r=o.promise.filterNamespaces(r,n.filterNamespaces),o.promise.makeTransformer(r,t,n).promise}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(i,n){"use strict";var e,t;n.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},i.browser||(navigator.userAgent.match(/Trident\/7\./)?t={msie:!0,version:11}:(t={},(e=n.uaMatch(navigator.userAgent)).browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0)),i.browser=t);var r="fluid-scoped-data";n.getScopedData=function(e,t){var n=i(e).data(r);return n?n[t]:void 0},n.setScopedData=function(e,t,n){i(e).each(function(){var e=i.data(this,r)||{};e[t]=n,i.data(this,r,e)})};var o=null;i(document).on("focusin",function(e){o=e.target}),n.getLastFocusedElement=function(){return o};var a="enablement";n.enabled=function(e,t){return e=i(e),void 0===t?!1!==n.getScopedData(e,a):(i("*",e).add(e).each(function(){void 0!==n.getScopedData(this,a)?n.setScopedData(this,a,t):/select|textarea|input/i.test(this.nodeName)&&i(this).prop("disabled",!t)}),void n.setScopedData(e,a,t))},n.initEnablement=function(e){n.setScopedData(e,a,!0)},n.resolveEventTarget=function(e){for(;e.originalEvent&&e.originalEvent.target;)e=e.originalEvent;return e.target},i.each(["focus","blur"],function(e,r){n[r]=function(e){return n=r,(t=i(t=e)).trigger("fluid-"+n),t.triggerHandler(n),t[n](),t;var t,n}}),n.changeElementValue=function(e,t){(e=i(e)).val(t).change()}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,a){"use strict";a.dom=a.dom||{};var s=function(e){if(e.node.firstChild)return e.node=e.node.firstChild,e.depth+=1,e;for(;e.node;){if(e.node.nextSibling)return e.node=e.node.nextSibling,e;e.node=e.node.parentNode,e.depth-=1}return e};a.dom.iterateDom=function(e,t,n){for(var r,i={node:e,depth:0},o=e;null!==i.node&&0<=i.depth&&i.depth<a.dom.iterateDom.DOM_BAIL_DEPTH;){if(r=null,(1===i.node.nodeType||n)&&(r=t(i.node,i.depth)),r)if("delete"===r)i.node.parentNode.removeChild(i.node),i.node=o;else if("stop"===r)return i.node;o=i.node,i=s(i)}},a.dom.iterateDom.DOM_BAIL_DEPTH=256,a.dom.isContainer=function(e,t){for(;t;t=t.parentNode)if(e===t)return!0;return!1},a.dom.getElementText=function(e){for(var t=e.childNodes,n="",r=0;r<t.length;++r){var i=t[r];3===i.nodeType&&(n+=i.nodeValue)}return n}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(c,p){"use strict";var i=/(\\u[\dabcdef]{4}|\\x[\dabcdef]{2})/g;p.unescapeProperties=function(e){e=e.replace(i,function(e){var t=e.substring(2),n=parseInt(t,16);return String.fromCharCode(n)});for(var t=0;;){var n=e.indexOf("\\",t);if(-1===n)break;if(n===e.length-1)return[e.substring(0,e.length-1),!0];var r=e.charAt(n+1);"n"===r&&(r="\n"),"r"===r&&(r="\r"),"t"===r&&(r="\t"),e=e.substring(0,n)+r+e.substring(n+2),t=n+1}return[e,!1]};var f=/[^\\][\s:=]/;p.parseJavaProperties=function(e){for(var t,n,r,i,o,a={},s=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n"),l=0;l<s.length;++l){var u=c.trim(s[l]);if(u&&"#"!==u.charAt(0)&&"!"!==u.charAt(0)){if(t)o=p.unescapeProperties(u);else{r="";var d=u.search(f);-1===d?(n=u,i=""):(n=c.trim(u.substring(0,d+1)),":"!==(i=c.trim(u.substring(d+2))).charAt(0)&&"="!==i.charAt(0)||(i=c.trim(i.substring(1)))),n=p.unescapeProperties(n)[0],o=p.unescapeProperties(i)}t=o[1],o[1]?r+=o[0]:a[n]=r+o[0]}}return a},p.formatMessage=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var n=0;n<t.length;++n)e=e.replace("{"+n+"}",t[n]);return e}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(r,c){"use strict";c.renderTimestamp=function(e){var t=function(e,t){t||(t=2);var n=void 0===e?"":e.toString();return"00000".substring(5-t+n.length)+n};return t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds(),3)},c.isTracing=!1,c.registerNamespace("fluid.tracing"),c.tracing.pathCount=[],c.tracing.summarisePathCount=function(e){e=e||c.tracing.pathCount;for(var t={},n=0;n<e.length;++n){var r=e[n];t[r]?++t[r]:t[r]=1}var i=[];return c.each(t,function(e,t){i.push({path:t,count:e})}),i.sort(function(e,t){return t.count-e.count}),i},c.tracing.condensePathCount=function(e,t){e=c.makeArray(e);var r={};c.each(e,function(e){r[e]=0});var i=[];return c.each(t,function(t){var n=t.path;c.find(e,function(e){if(0===n.indexOf(e))return r[e]+=t.count,!0})||i.push(t)}),c.each(r,function(e,t){i.unshift({path:t,count:e})}),i},c.detectStackStyle=function(e){var t="other",n={offset:0};return e.arguments?t="chrome":"undefined"!=typeof window&&window.opera&&e.stacktrace?t="opera10":e.stack?(t="firefox",n.offset=-1===e.stack.indexOf("Trace exception")?1:0):"undefined"==typeof window||!window.opera||"stacktrace"in e||(t="opera"),n.style=t,n},c.obtainException=function(){try{throw new Error("Trace exception")}catch(e){return e}};var o=c.detectStackStyle(c.obtainException());c.registerNamespace("fluid.exceptionDecoders"),c.decodeStack=function(){if("firefox"!==o.style)return null;var e=c.obtainException();return c.exceptionDecoders[o.style](e)},c.exceptionDecoders.firefox=function(e){var t=e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n");return c.transform(t,function(e){var t=(e=e.replace(/\)/g,"")).indexOf("at ");return-1===t?[e]:[e.substring(t+"at ".length),e.substring(0,t)]})},c.getCallerInfo=function(e){e=(e||3)-o.offset;var t=c.decodeStack(),n=t&&t[e][0];if(n){var r=n.lastIndexOf("/");-1===r&&(r=0);var i=n.indexOf(":",r);return{path:n.substring(0,r),filename:n.substring(r+1,i),index:n.substring(i+1)}}return null},c.generatePadding=function(e,t){for(var n="",r=0;r<t;++r)n+=e;return n},c.SYNTHETIC_PROPERTY={},c.getSafeProperty=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&!n.get?e[t]:c.SYNTHETIC_PROPERTY},c.prettyPrintJSON=function(e,t){return(t=r.extend({indent:4,stack:[],output:""},t)).indentChars=c.generatePadding(" ",t.indent),function e(t,n,r){function i(e){r.output+=e}var o=n+r.indentChars,a="function"==typeof t;if(void 0!==r.maxRenderChars&&r.output.length>r.maxRenderChars)return!0;if(null===t)i("null");else if(void 0===t)i("undefined");else if(t===c.SYNTHETIC_PROPERTY)i("[Synthetic property]");else if(c.isPrimitive(t)&&!a)i(JSON.stringify(t));else{if(-1!==r.stack.indexOf(t))return void i("(CIRCULAR)");var s;if(r.stack.push(t),c.isArrayable(t))if(0===t.length)i("[]");else{for(i("[\n"+o),s=0;s<t.length;++s){if(e(t[s],o,r))return!0;s!==t.length-1&&i(",\n"+o)}i("\n"+n+"]")}else{i("{"+(a?" Function":"")+"\n"+o);var l=c.keys(t);for(s=0;s<l.length;++s){var u=l[s],d=c.getSafeProperty(t,u);if(i(JSON.stringify(u)+": "),e(d,o,r))return!0;s!==l.length-1&&i(",\n"+o)}i("\n"+n+"}")}r.stack.pop()}}(e,"",t),t.output},c.dumpEl=function(e){var t;if(!e)return"null";if(3===e.nodeType||8===e.nodeType)return"[data: "+e.data+"]";if(9===e.nodeType)return"[document: location "+e.location+"]";if(!e.nodeType&&c.isArrayable(e)){t="[";for(var n=0;n<e.length;++n)t+=c.dumpEl(e[n]),n<e.length-1&&(t+=", ");return t+"]"}return t=(e=r(e)).get(0).tagName,e.id&&(t+="#"+e.id),e.attr("class")&&(t+="."+e.attr("class")),t}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(c,g){"use strict";function d(e,t,n,r){for(var i=0;i<n;++i)e=r(e,t[i],i,g.makeArray(t));return e}g.visitComponentChildren=function(e,t,n,r){for(var i in r=r||[],e){var o=e[i];if(!(!g.isComponent(o)||n.visited&&n.visited[o.id])){if(r.push(i),n.visited&&(n.visited[o.id]=!0),t(o,i,r,r.length-1))return!0;n.flat||g.visitComponentChildren(o,t,n,r),r.pop()}}},g.getContextHash=function(e,t){var n=e.idToShadow[t.id];return n&&n.contextHash},g.componentHasGrade=function(e,t){var n=g.getContextHash(g.globalInstantiator,e);return!(!n||!n[t])},g.visitComponentsForMatching=function(e,t,o){var a=g.getInstantiator(e);t=c.extend({visited:{},instantiator:a},t);var s=[e],l=[g.getContextHash(a,e)];g.visitComponentChildren(e,function(e,t,n){s.length=1,l.length=1;for(var r=0;r<n.length;++r){var i=s[r][n[r]];s[r+1]=i,l[r+1]=g.getContextHash(a,i)||{}}return o(e,s,l,n,n.length)},t,[])},g.getMemberNames=function(e,t){var n=e.idToPath(t[t.length-1].id),r=e.parseEL(n);return r.unshift.apply(r,g.generate(t.length-r.length,"")),r},g.visitComponentsForVisibility=function(e,t,n,r){r=r||{visited:{},flat:!0,instantiator:e};for(var i=g.getMemberNames(e,t),o=t.length-1;0<=o;--o){var a=t[o];if(r.visited[a.id]=!0,n(a,i[o],i,o))return;if(g.visitComponentChildren(a,n,r,i))return;i.pop()}},g.mountStrategy=function(o,e,a){var s=o.length;return function(e,t,n,r){if(!(n<=o.length)){for(var i=0;i<o.length;++i)if(r[i]!==o[i])return;return a(e,t,n-o.length,r.slice(s))}}},g.invokerFromRecord=function(e,t,n){g.pushActivity("makeInvoker","beginning instantiation of invoker with name %name and record %record as child of %that",{name:t,record:e,that:n});var r=e?g.makeInvoker(n,e,t):void 0;return g.popActivity(),r},g.memberFromRecord=function(e,t,n){for(var r,i=0;i<e.length;++i){var o=g.expandImmediate(e[i],n);r=g.isPlainObject(r)?c.extend(!0,r,o):o}return r},g.recordStrategy=function(o,a,s,l,u,n,r){return n=n||[],{strategy:function(e,t,n){if(1===n){var r=g.driveStrategy(a,[l,t],s);if(void 0!==r){g.set(e,[t],g.inEvaluationMarker);var i=u(r,t,o);return g.set(e,[t],i),i}}},initter:function(){var e=g.driveStrategy(a,l,s)||{};for(var t in e)r&&r[t]||g.getForComponent(o,n.concat([t]))}}},g.instantiateFirers=function(e){var t=g.shadowForComponent(e);(g.get(t,["eventStrategyBlock","initter"])||g.identity)()},g.makeDistributionRecord=function(e,t,n,r,i,o){o=o||"distribution",g.pushActivity("makeDistributionRecord","Making distribution record from source record %sourceRecord path %sourcePath to target path %targetSegs",{sourceRecord:t,sourcePath:n,targetSegs:r});var a=g.copy(g.get(t,n));g.each(i,function(e){g.model.applyChangeRequest(a,{segs:e,type:"DELETE"})});var s={options:{}};return g.model.applyChangeRequest(s,{segs:r,type:"ADD",value:a}),g.checkComponentRecord(s),g.popActivity(),c.extend(s,{contextThat:e,recordType:o})},g.filterBlocks=function(t,e,i,o,a,s){var l=[];return g.each(e,function(n){var e=g.get(n.source,i);if(e){l.push(g.makeDistributionRecord(t,n.source,i,o,a,n.recordType));var r=c.extend({},e);s&&g.model.applyChangeRequest(n.source,{segs:i,type:"DELETE"}),g.each(a,function(e){var t=g.get(r,e);g.set(n.source,i.concat(e),t)})}}),l},g.noteCollectedDistribution=function(e,t,n){g.model.setSimple(e,["collectedDistributions",t,n.id],!0)},g.isCollectedDistribution=function(e,t,n){return g.model.getSimple(e,["collectedDistributions",t,n.id])},g.clearCollectedDistributions=function(e,t){g.model.applyChangeRequest(e,{segs:["collectedDistributions",t],type:"DELETE"})},g.collectDistributions=function(e,t,n,r,i,o,a){var s=o[o.length-1];!g.isCollectedDistribution(t,s,n)&&g.matchIoCSelector(n.selector,r,i,o,a)&&(e.push.apply(e,n.blocks),g.noteCollectedDistribution(t,s,n))},g.registerCollectedClearer=function(e,t,n){!e.collectedClearer&&t&&(e.collectedClearer=function(){g.clearCollectedDistributions(t,n)})},g.receiveDistributions=function(e,t,n,r){var i=g.getInstantiator(e||r),o=i.getThatStack(e||r);o.unshift(g.rootComponent);var a=g.getMemberNames(i,o),s=g.transform(o,function(e){return i.idToShadow[e.id]}),l=s[s.length-(e?1:2)],u=g.getMembers(s,"contextHash");e?(a.push(n),u.push(g.gradeNamesToHash(t)),o.push(r)):g.registerCollectedClearer(s[s.length-1],l,a[a.length-1]);for(var d=[],c=0;c<o.length-1;++c)g.each(s[c].distributions,function(e){g.collectDistributions(d,l,e,o,u,a,c)});return d},g.computeTreeDistance=function(e,t){for(var n=0;n<e.length&&n<t.length&&e[n]===t[n];)++n;return e.length+t.length-2*n},g.computeDistributionPriority=function(e,t){if(!t.priority){var n=g.getInstantiator(e),r=n.getThatStack(e),i=g.getMemberNames(n,r),o=n.getThatStack(t.contextThat),a=g.getMemberNames(n,o),s=g.computeTreeDistance(i,a);t.priority=g.mergeRecordTypes.distribution-s}return t},g.applyDistributions=function(t,e,n){var r=g.transform(e,function(e){return g.generateExpandBlock(e,t,n.mergePolicy)},function(e){return g.computeDistributionPriority(t,e)}),i=n.mergeOptions;return i.mergeBlocks.push.apply(i.mergeBlocks,r),i.updateBlocks(),r},g.matchIoCSelector=function(e,t,n,r,i){for(var o=t.length-1,a=e.length-1;;){for(var s=o===t.length-1||e[a].child,l=t[o],u=e[a],d=!0,c=0;c<u.predList.length;++c){var p=u.predList[c];if(p.context&&!n[o][p.context]&&r[o]!==p.context){d=!1;break}if(p.id&&l.id!==p.id){d=!1;break}}if(0===a&&i<o&&s&&(d=!1),d){if(0===a)return!0;--o,--a}else{if(s)return!1;--o}if(o<i)return!1}},g.queryIoCSelector=function(e,t,n){var o=g.parseSelector(t,g.IoCSSMatcher),a=[];return g.visitComponentsForMatching(e,{flat:n},function(e,t,n,r,i){g.matchIoCSelector(o,t,n,r,i)&&a.push(e)}),a},g.isIoCSSSelector=function(e){return-1!==e.indexOf(" ")},g.pushDistributions=function(e,t,n,r){var i=g.shadowForComponent(e),o=g.allocateGuid(),a={id:o,target:n,selector:t,blocks:r};return Object.freeze(a),Object.freeze(a.blocks),g.pushArray(i,"distributions",a),o},g.clearDistribution=function(e,t){var n=g.shadowForComponent(e);g.remove_if(n.distributions,function(e){return e.id===t})},g.clearDistributions=function(e){g.each(e.outDistributions,function(e){g.clearDistribution(e.targetComponent,e.distributionId)})},g.extractSelectorHead=function(e){var t=e[0].predList,n=t[0].context;return t.length=0,n},g.parseExpectedOptionsPath=function(e,t){var n=g.model.parseEL(e);return"options"!==n[0]&&g.fail("Error in options distribution path ",e," - only "+t+' paths beginning with "options" are supported'),n.slice(1)},g.replicateProperty=function(t,n,e){void 0!==t[n]&&g.each(e,function(e){e[n]=t[n]})},g.undistributableOptions=["gradeNames","distributeOptions","argumentMap","initFunction","mergePolicy","progressiveCheckerOptions"],g.distributeOptions=function(h,e){var m=g.shadowForComponent(h),t=g.driveStrategy(h.options,"distributeOptions",e);g.each(t,function(e){g.pushActivity("distributeOptions","parsing distributeOptions block %record %that ",{that:h,record:e}),"string"!=typeof e.target&&g.fail("Error in options distribution record ",e,' a member named "target" must be supplied holding an IoC reference'),"string"==typeof e.source^void 0===e.record&&g.fail("Error in options distribution record ",e,': must supply either a member "source" holding an IoC reference or a member "record" holding a literal record');var t,n,r,i=g.parseContextReference(e.target);if(g.isIoCSSSelector(i.context)){n=g.parseSelector(i.context,g.IoCSSMatcher);var o=g.extractSelectorHead(n);"/"===o?t=g.rootComponent:r=o}else r=i.context;(t=t||g.resolveContext(r,h))||g.fail("Error in options distribution record ",e," - could not resolve context {"+r+"} to a root component");var a,s=g.model.parseEL(i.path);if(void 0!==e.record)a=[g.makeDistributionRecord(h,e.record,[],s,[])];else{var l=g.parseContextReference(e.source);"that"!==l.context&&g.fail("Error in options distribution record ",e," only a context of {that} is supported");var u=g.parseExpectedOptionsPath(l.path,"source"),d=g.makeArray(e.exclusions).concat(0===u.length?g.undistributableOptions:[]),c=g.transform(d,function(e){return g.model.parseEL(e)});a=g.filterBlocks(h,m.mergeOptions.mergeBlocks,u,s,c,e.removeSource),m.mergeOptions.updateBlocks()}if(g.replicateProperty(e,"priority",a),g.replicateProperty(e,"namespace",a),n){var p=g.pushDistributions(t,n,e.target,a);m.outDistributions=m.outDistributions||[],m.outDistributions.push({targetComponent:t,distributionId:p})}else{var f=g.shadowForComponent(t);g.applyDistributions(h,a,f)}g.popActivity()})},g.gradeNamesToHash=function(e){var t={};return g.each(e,function(e){t[e]=!0,t[g.computeNickName(e)]=!0}),t},g.cacheShadowGrades=function(n,r){var e=g.gradeNamesToHash(n.options.gradeNames);e[r.memberName]||(e[r.memberName]="memberName"),r.contextHash=e,g.each(e,function(e,t){r.ownScope[t]=n,r.parentShadow&&"fluid.rootComponent"!==r.parentShadow.that.type&&(r.parentShadow.childrenScope[t]=n)})},g.deliverOptionsStrategy=function(e,t,n){var r=g.shadowForComponent(e,r);g.cacheShadowGrades(e,r),r.mergeOptions=n},g.collectDistributedGrades=function(e){var t=g.receiveDistributions(null,null,null,e.that);if(0<t.length){var n=g.applyDistributions(e.that,t,e.shadow),r=g.transform(g.getMembers(n,["source","gradeNames"]),g.makeArray);g.accumulateDynamicGrades(e,g.flatten(r))}},g.applyDynamicGrades=function(t){t.oldGradeNames=g.makeArray(t.gradeNames);var e=g.copy(g.getMergedDefaults(t.that.typeName,t.gradeNames));t.gradeNames.length=0,t.gradeNames.push.apply(t.gradeNames,e.gradeNames),g.each(t.gradeNames,function(e){g.isIoCReference(e)||(t.seenGrades[e]=!0)});var n=t.shadow;g.cacheShadowGrades(t.that,n),n.mergeOptions.destroyValue(["mergePolicy"]),n.mergeOptions.destroyValue(["components"]),n.mergeOptions.destroyValue(["invokers"]),t.defaultsBlock.source=e,n.mergeOptions.updateBlocks(),n.mergeOptions.computeMergePolicy(),g.accumulateDynamicGrades(t,e.gradeNames)},g.accumulateDynamicGrades=function(t,e){g.each(e,function(e){t.seenGrades[e]||(g.isIoCReference(e)?(t.rawDynamic.push(e),t.seenGrades[e]=!0):g.contains(t.oldGradeNames,e)||t.plainDynamic.push(e))})},g.computeDynamicGrades=function(e,t,n){delete e.options.gradeNames;var r=g.driveStrategy(e.options,"gradeNames",n);r.length=0;var i={that:e,shadow:t,defaultsBlock:g.findMergeBlocks(t.mergeOptions.mergeBlocks,"defaults")[0],gradeNames:r,seenGrades:{},plainDynamic:[],rawDynamic:[]};for(g.each(t.mergeOptions.mergeBlocks,function(e){r.push.apply(r,g.makeArray(e.target&&e.target.gradeNames)),g.applyDynamicGrades(i)}),g.collectDistributedGrades(i);;){for(;0<i.plainDynamic.length;)r.push.apply(r,i.plainDynamic),i.plainDynamic.length=0,g.applyDynamicGrades(i),g.collectDistributedGrades(i);if(!(0<i.rawDynamic.length))break;var o=g.expandImmediate(i.rawDynamic.shift(),e,t.localDynamic);"function"==typeof o&&(o=o()),o&&(i.plainDynamic=i.plainDynamic.concat(o))}t.collectedClearer&&(t.collectedClearer(),delete t.collectedClearer)},g.computeDynamicComponentKey=function(e,t){return e+(0===t?"":"-"+t)},g.registerDynamicRecord=function(e,t,n,r,i){var o=g.computeDynamicComponentKey(t,n),a=g.copy(r);return delete a[i],g.set(e.options,["components",o],a),o},g.computeDynamicComponents=function(o,e){var a=g.shadowForComponent(o),s=a.subcomponentLocal={},t=g.driveStrategy(o.options,"dynamicComponents",e.strategy);g.each(t,function(r,i){if(r.sources||r.createOnEvent||g.fail("Cannot process dynamicComponents record ",r,' without a "sources" or "createOnEvent" entry'),r.sources){var e=g.expandOptions(r.sources,o);g.each(e,function(e,t){var n=g.registerDynamicRecord(o,i,t,r,"sources");s[n]={source:e,sourcePath:t}})}else if(r.createOnEvent){var t=g.event.expandOneEvent(o,r.createOnEvent);g.set(a,["dynamicComponentCount",i],0);var n=function(){var e=g.registerDynamicRecord(o,i,a.dynamicComponentCount[i]++,r,"createOnEvent"),t={arguments:g.makeArray(arguments)};g.initDependent(o,e,t)};t.addListener(n),g.recordListener(t,n,a)}})},g.computeComponentAccessor=function(e,t){var n=g.globalInstantiator,r=g.shadowForComponent(e);r.localDynamic=t;var i=e.options,o=r.mergeOptions.strategy,a=g.mountStrategy(["options"],i,o);r.invokerStrategy=g.recordStrategy(e,i,o,"invokers",g.invokerFromRecord),r.eventStrategyBlock=g.recordStrategy(e,i,o,"events",g.eventFromRecord,["events"]);var s=g.mountStrategy(["events"],e,r.eventStrategyBlock.strategy,["events"]);if(r.memberStrategy=g.recordStrategy(e,i,o,"members",g.memberFromRecord,null,{model:!0,modelRelay:!0}),r.getConfig={strategies:[g.model.funcResolverStrategy,g.makeGingerStrategy(e),a,r.invokerStrategy.strategy,r.memberStrategy.strategy,s]},g.computeDynamicGrades(e,r,o,r.mergeOptions.mergeBlocks),g.distributeOptions(e,o),r.contextHash["fluid.resolveRoot"]){var l;if(r.contextHash["fluid.resolveRootSingle"]){var u=g.getForComponent(e,["options","singleRootType"]);u||g.fail("Cannot register object with grades "+Object.keys(r.contextHash).join(", ")+" as fluid.resolveRootSingle since it has not defined option singleRootType"),l=g.typeNameToMemberName(u)}else l=g.computeGlobalMemberName(e);var d=g.resolveRootComponent;d[l]&&n.clearComponent(d,l),n.recordKnownComponent(d,e,l,!1)}return r.getConfig},g.shadowForComponent=function(e){var t=g.getInstantiator(e);return t&&e?t.idToShadow[e.id]:null},g.getForComponent=function(e,t){var n=g.shadowForComponent(e),r=n?n.getConfig:void 0;return g.get(e,t,r)},g.makeGingerStrategy=function(e){var l=g.getInstantiator(e);return function(e,t,n,r){var i=e[t];if(i===g.inEvaluationMarker&&n===r.length&&g.fail('Error in component configuration - a circular reference was found during evaluation of path segment "'+t+'": for more details, see the activity records following this message in the console, or issue fluid.setLogging(fluid.logLevel.TRACE) when running your application'),1<n)return i;if(void 0===i&&e.hasOwnProperty(t))return g.NO_VALUE;if(void 0===i){var o=l.idToShadow[e.id].path,a=l.composePath(o,t);i=l.pathToComponent[a]}if(void 0===i){var s=g.getForComponent(e,["options","components",t]);s&&(s.createOnEvent&&g.fail('Error resolving path segment "'+t+'" of path '+r.join(".")+" since component with record ",s,' has annotation "createOnEvent" - this very likely represents an implementation error. Either alter the reference so it does not  match this component, or alter your workflow to ensure that the component is instantiated by the time this reference resolves'),g.initDependent(e,t),i=e[t])}return i}},g.frameworkGrades=["fluid.component","fluid.modelComponent","fluid.viewComponent","fluid.rendererComponent"],g.filterBuiltinGrades=function(e){return g.remove_if(g.makeArray(e),function(e){return-1!==g.frameworkGrades.indexOf(e)})},g.dumpGradeNames=function(e){return e.options&&e.options.gradeNames?" gradeNames: "+JSON.stringify(g.filterBuiltinGrades(e.options.gradeNames)):""},g.dumpThat=function(e){return'{ typeName: "'+e.typeName+'"'+g.dumpGradeNames(e)+" id: "+e.id+"}"},g.dumpThatStack=function(e,n){return g.transform(e,function(e){var t=n.idToPath(e.id);return g.dumpThat(e)+(t?" - path: "+t:"")}).join("\n")},g.dumpComponentPath=function(e){var t=g.pathForComponent(e);return t?g.pathUtil.composeSegments(t):"** no path registered for component **"},g.resolveContext=function(r,e,t){if("that"===r)return e;if("object"==typeof r){var n=g.resolveContext(r.context,e,t);g.isComponent(n)||g.triggerMismatchedPathError(r.context,e);var i=g.getForComponent(n,r.path),o=g.expandOptions(i,e);return g.isComponent(o)||g.fail("Unable to resolve recursive context expression "+g.renderContextReference(r)+": the directly resolved value of "+i+" did not resolve to a component in the scope of component ",e,": got ",o),o}var a,s=g.globalInstantiator;if(t)return s.idToShadow[e.id].ownScope[r];var l=s.getFullStack(e);return g.visitComponentsForVisibility(s,l,function(e,t){var n=g.shadowForComponent(e);return r===t||n&&n.contextHash&&n.contextHash[r]||r===e.typeName?(a=e,!0):g.getForComponent(e,["options","components",r])&&!e[r]?(a=g.getForComponent(e,r),!0):void 0}),a},g.triggerMismatchedPathError=function(e,t){var n=g.renderContextReference(e);g.fail("Failed to resolve reference "+n+" - could not match context with name "+e.context+" from component "+g.dumpThat(t)+" at path "+g.dumpComponentPath(t)+" component: ",t)},g.makeStackFetcher=function(r,i,o){return function(e){r&&"destroyed"===r.lifecycleStatus&&g.fail("Cannot resolve reference "+g.renderContextReference(e)+" from component "+g.dumpThat(r)+" which has been destroyed");var t=e.context;if(i&&t in i)return g.get(i[t],e.path);var n=g.resolveContext(t,r,o);return n||""===e.path||g.triggerMismatchedPathError(e,r),g.getForComponent(n,e.path)}},g.makeStackResolverOptions=function(e,t,n){return c.extend(g.copy(g.rawDefaults("fluid.makeExpandOptions")),{localRecord:t||{},fetcher:g.makeStackFetcher(e,t,n),contextThat:e,exceptions:{members:{model:!0,modelRelay:!0}}})},g.clearListeners=function(e){g.each(e.listeners,function(e){e.event.removeListener(e.listenerId||e.listener)}),delete e.listeners},g.recordListener=function(e,t,n,r){e.ownerId!==n.that.id&&g.pushArray(n,"listeners",{event:e,listener:t,listenerId:r})},g.constructScopeObjects=function(e,t,n,r){var i=t?e.idToShadow[t.id]:null;r.childrenScope=i?Object.create(i.ownScope):{},r.ownScope=Object.create(r.childrenScope),r.parentShadow=i},g.clearChildrenScope=function(e,n,r,t){g.each(t.contextHash,function(e,t){n.childrenScope[t]===r&&delete n.childrenScope[t]})},g.instantiator=function(){function a(e,t,n,r,i){var o;if(i)(o=d.idToShadow[t.id]={}).that=t,o.path=n,o.memberName=r,g.constructScopeObjects(d,e,t,o);else{(o=d.idToShadow[t.id]).injectedPaths=o.injectedPaths||{},o.injectedPaths[n]=!0;var a=d.idToShadow[e.id],s=g.keys(o.contextHash);g.remove_if(s,function(e){return o.contextHash&&"memberName"===o.contextHash[e]}),s.push(r),g.each(s,function(e){a.childrenScope[e]||(a.childrenScope[e]=t)})}d.pathToComponent[n]&&g.fail("Error during instantiation - path "+n+" which has just created component "+g.dumpThat(t)+" has already been used for component "+g.dumpThat(d.pathToComponent[n])+" - this is a circular instantiation or other oversight. Please clear the component using instantiator.clearComponent() before reusing the path."),d.pathToComponent[n]=t}var d=g.typeTag("instantiator");return c.extend(d,{lifecycleStatus:"constructed",pathToComponent:{},idToShadow:{},modelTransactions:{init:{}},composePath:g.model.composePath,composeSegments:g.model.composeSegments,parseEL:g.model.parseEL,events:{onComponentAttach:g.makeEventFirer({name:"instantiator's onComponentAttach event"}),onComponentClear:g.makeEventFirer({name:"instantiator's onComponentClear event"})}}),d.idToPath=function(e){var t=d.idToShadow[e];return t?t.path:""},d.getThatStack=function(e){var t=d.idToShadow[e.id];if(t){for(var n=t.path,r=d.parseEL(n),i=d.pathToComponent[""],o=[],a=0;a<r.length;++a)i=i[r[a]],o.push(i);return o}return[]},d.getFullStack=function(e){var t=e?d.getThatStack(e):[];return t.unshift(g.resolveRootComponent),t},d.recordRoot=function(e){a(null,e,"","",!0)},d.recordKnownComponent=function(e,t,n,r){if(e[n]=t,g.isComponent(t)||"instantiator"===t.type){var i=d.idToShadow[e.id].path,o=d.composePath(i,n);a(e,t,o,n,r),d.events.onComponentAttach.fire(t,o,d,r)}else g.fail("Cannot record non-component with value ",t,' at path "'+n+'" of parent ',e)},d.clearConcreteComponent=function(i){g.each(i.childShadow.injectedPaths,function(e,t){var n=g.model.getToTailPath(t),r=d.pathToComponent[n];d.clearComponent(r,g.model.getTailPath(t),i.child)}),g.clearDistributions(i.childShadow),g.clearListeners(i.childShadow),g.fireEvent(i.child,"afterDestroy",[i.child,i.name,i.component]),delete d.idToShadow[i.child.id]},d.clearComponent=function(e,t,o,a,n,r){var i=d.idToShadow[e.id];a=a||{flat:!0,instantiator:d,destroyRecs:[]},o=o||e[t],void 0===(r=r||i.path)&&g.fail("Cannot clear component "+t+" from component ",e," which was not created by this instantiator");var s=d.composePath(r,t),l=d.idToShadow[o.id];if(l){var u=l.path===s;d.events.onComponentClear.fire(o,s,e,u),u?(g.visitComponentChildren(o,function(e,t,n,r){var i=d.composeSegments.apply(null,n.slice(0,r));d.clearComponent(o,t,null,a,!0,i)},a,d.parseEL(s)),g.doDestroy(o,t,e),a.destroyRecs.push({child:o,childShadow:l,name:t,component:e})):g.remove_if(l.injectedPaths,function(e,t){return t===s}),g.clearChildrenScope(d,i,o,l),delete d.pathToComponent[s],n||(delete e[t],g.each(a.destroyRecs,d.clearConcreteComponent))}},d},g.globalInstantiator=g.instantiator(),g.getInstantiator=function(e){var t=g.globalInstantiator;return e&&t.idToShadow[e.id]?t:null},g.defaults("fluid.resolveRoot"),g.defaults("fluid.resolveRootSingle",{gradeNames:"fluid.resolveRoot"}),g.constructRootComponents=function(e){g.rootComponent=e.rootComponent=g.typeTag("fluid.rootComponent"),e.recordRoot(g.rootComponent),g.resolveRootComponent=e.resolveRootComponent=g.typeTag("fluid.resolveRootComponent"),e.recordKnownComponent(g.rootComponent,g.resolveRootComponent,"resolveRootComponent",!0);var t=e.idToShadow[g.rootComponent.id],n=e.idToShadow[g.resolveRootComponent.id];n.ownScope=t.ownScope,n.childrenScope=t.childrenScope,e.recordKnownComponent(g.resolveRootComponent,e,"instantiator",!0),n.childrenScope.instantiator=e},g.constructRootComponents(g.globalInstantiator),g.expandOptions=function(e,t,n,r,i){if(!e)return e;g.pushActivity("expandOptions","expanding options %args for component %that ",{that:t,args:e});var o=g.makeStackResolverOptions(t,r);o.mergePolicy=n;var a=i&&i.defer?g.makeExpandOptions(e,o):g.expand(e,o);return g.popActivity(),a},g.localRecordExpected=g.arrayToHash(["type","options","container","createOnEvent","priority","recordType"]),g.checkComponentRecord=function(n){g.each(n,function(e,t){g.localRecordExpected[t]||g.fail("Probable error in subcomponent record ",n,' - key "'+t+'" found, where the only legal options are '+g.keys(g.localRecordExpected).join(", "))})},g.mergeRecordsToList=function(n,e){var r=[];return g.each(e,function(e,t){if("distributions"===(e.recordType=t))r.push.apply(r,g.transform(e,function(e){return g.computeDistributionPriority(n,e)}));else{if(!e.options)return;e.priority=g.mergeRecordTypes[t],void 0===e.priority&&g.fail("Merge record with unrecognised type "+t+": ",e),r.push(e)}}),r};g.generateExpandBlock=function(e,t,n,r){var i=g.expandOptions(e.options,e.contextThat||t,n,r,{defer:!0});return i.priority=e.priority,i.namespace=e.namespace,i.recordType=e.recordType,i};var s=function(t,e,n,r){var i,o=g.copy(e);i=t,g.each(["gradeNames","mergePolicy","argumentMap","components","dynamicComponents","events","listeners","modelListeners","modelRelay","distributeOptions","transformOptions"],function(e){g.set(i,[e,"*","noexpand"],!0)}),g.shadowForComponent(r).mergePolicy=t;var a={defaults:{options:o}};c.extend(a,n.mergeRecords),a.subcomponentRecord&&g.checkComponentRecord(a.subcomponentRecord);var s=g.mergeRecordsToList(r,a);return g.transform(s,function(e){return g.generateExpandBlock(e,r,t,n.localRecord)})};g.fabricateDestroyMethod=function(e,t,n,r){return function(){n.clearComponent(e,t,r)}},g.computeGlobalMemberName=function(e){return g.computeNickName(e.typeName)+"-"+e.id},g.typeNameToMemberName=function(e){return e.replace(/\./g,"_")},g.expandComponentOptions=function(e,t,n,r){var i=n,o=n&&n.marker===g.EXPAND?n.instantiator:null;g.pushActivity("expandComponentOptions","expanding component options %options with record %record for component %that",{options:o?n.mergeRecords.user:n,record:i,that:r}),o||(o=g.globalInstantiator,i={mergeRecords:{user:{options:g.expandCompact(n,!0)}},memberName:g.computeGlobalMemberName(r),instantiator:o,parentThat:g.rootComponent}),r.destroy=g.fabricateDestroyMethod(i.parentThat,i.memberName,o,r),o.recordKnownComponent(i.parentThat,r,i.memberName,!0);var a=s(e,t,i,r);return g.popActivity(),a},g.assembleCreatorArguments=function(i,e,o){var t=g.defaults(e);t&&t.argumentMap||g.fail("Error in assembleCreatorArguments: cannot look up component type name "+e+" to a component creator grade with an argumentMap");var n=i?g.receiveDistributions(i,t.gradeNames,o.memberName,{}):[];g.each(n,function(e){g.computeDistributionPriority(i,e),g.isPrimitive(e.priority)&&(e.priority=g.parsePriority(e.priority,0,!1,"options distribution"))}),g.sortByPriority(n);var a=o.localDynamic,s=c.extend({},g.censorKeys(o.componentRecord,["type"]),a),r=t.argumentMap,l=Object.keys(r).concat(["type"]);g.each(l,function(e){for(var t=0;t<n.length;++t)void 0!==n[t][e]&&(s[e]=n[t][e])}),e=s.type||e,delete s.type,delete s.options;var u={distributions:n};void 0!==o.componentRecord&&(u.subcomponentRecord=c.extend({},o.componentRecord));var d=[];return g.each(r,function(e,t){var n;if("options"===t)n={marker:g.EXPAND,localRecord:a,mergeRecords:u,instantiator:g.getInstantiator(i),parentThat:i,memberName:o.memberName};else{var r=s[t];n=g.expandImmediate(r,i,s)}d[e]=n}),{args:d,funcName:e}},g.initDependent=function(e,t,n){if(!e[t]){var r,i=e.options.components[t],o=g.globalInstantiator,a=o.idToShadow[e.id],s=n||a.subcomponentLocal&&a.subcomponentLocal[t];if(g.pushActivity("initDependent",'instantiating dependent component at path "%path" with record %record as child of %parent',{path:a.path+"."+t,record:i,parent:e}),"string"==typeof i||i.expander)e[t]=g.inEvaluationMarker,(r=g.expandImmediate(i,e))?o.recordKnownComponent(e,r,t,!1):delete e[t];else if(i.type){var l=g.expandImmediate(i.type,e,s);l||g.fail("Error in subcomponent record: ",i.type," could not be resolved to a type for component ",t," of parent ",e);var u=g.assembleCreatorArguments(e,l,{componentRecord:i,memberName:t,localDynamic:s});r=g.initSubcomponentImpl(e,{type:u.funcName},u.args)}else g.fail("Unrecognised material in place of subcomponent "+t+' - no "type" field found');return g.popActivity(),r}},g.bindDeferredComponent=function(n,r,i){var e=g.makeArray(i.createOnEvent);g.each(e,function(t){var e=g.isIoCReference(t)?g.expandOptions(t,n):n.events[t];e&&e.addListener||g.fail("Error instantiating createOnEvent component with name "+r+" of parent ",n," since event specification "+t+" could not be expanded to an event - got ",e),e.addListener(function(){g.pushActivity("initDeferred","instantiating deferred component %componentName of parent %that due to event %eventName",{componentName:r,that:n,eventName:t}),n[r]&&g.globalInstantiator.clearComponent(n,r);var e={arguments:g.makeArray(arguments)};g.initDependent(n,r,e),g.popActivity()},null,i.priority)})},g.priorityForComponent=function(e){return e.priority?e.priority:"fluid.typeFount"===e.type||g.hasGrade(g.defaults(e.type),"fluid.typeFount")?"first":void 0},g.initDependents=function(r){g.pushActivity("initDependents","instantiating dependent components for component %that",{that:r});var e=g.shadowForComponent(r);if(e.memberStrategy.initter(),e.invokerStrategy.initter(),g.getForComponent(r,"modelRelay"),g.getForComponent(r,"model"),!g.isDestroyed(r)){var t=r.options.components||{},i=[];g.each(t,function(e,t){if(e.createOnEvent)g.bindDeferredComponent(r,t,e);else{var n=g.priorityForComponent(e);i.push({namespace:t,priority:g.parsePriority(n)})}}),g.sortByPriority(i),g.each(i,function(e){g.initDependent(r,e.namespace)}),e.subcomponentLocal&&g.clear(e.subcomponentLocal),r.lifecycleStatus="constructed",g.assessTreeConstruction(r,e),g.popActivity()}},g.assessTreeConstruction=function(e,t){var n=g.globalInstantiator,r=n.getThatStack(e);g.find_if(r,function(e){return"constructing"===e.lifecycleStatus})?e.lifecycleStatus="constructed":g.markSubtree(n,e,t.path,"treeConstructed")},g.markSubtree=function(i,e,o,a){e.lifecycleStatus=a,g.visitComponentChildren(e,function(e,t){var n=i.composePath(o,t),r=i.idToShadow[e.id];r&&r.path===n&&g.markSubtree(i,e,n,a)},{flat:!0})},g.pathForComponent=function(e,t){var n=(t=t||g.getInstantiator(e)||g.globalInstantiator).idToShadow[e.id];return n?t.parseEL(n.path):null},g.construct=function(e,t,n){var r=g.destroy(e,n);return g.set(r.parent,["options","components",r.memberName],{type:t.type,options:t}),g.initDependent(r.parent,r.memberName)},g.destroy=function(e,t){t=t||g.globalInstantiator;var n=g.model.parseToSegments(e,t.parseEL,!0);0===n.length&&g.fail("Cannot destroy the root component");var r=n.pop(),i=t.composeSegments.apply(null,n),o=t.pathToComponent[i];return o||g.fail("Cannot modify component with nonexistent parent at path ",e),o[r]&&o[r].destroy(),{parent:o,memberName:r}},g.constructSingle=function(e,t,n){n=n||g.globalInstantiator,e=e||"";var r=g.model.parseToSegments(e,n.parseEL,!0);"string"==typeof t&&(t={type:t});var i=t.type;i||g.fail("Cannot construct singleton object without a type entry");var o=(t=c.extend({},t)).gradeNames=g.makeArray(t.gradeNames);o.unshift(i),t.type="fluid.component",0===r.length&&o.push("fluid.resolveRoot");var a=g.typeNameToMemberName(t.singleRootType||i);r.push(a),g.construct(r,t,n)},g.destroySingle=function(e,t,n){n=n||g.globalInstantiator;var r=g.model.parseToSegments(e,n.parseEL,!0),i=g.typeNameToMemberName(t);r.push(i),g.destroy(r,n)},g.makeGradeLinkage=function(e,t,n){g.defaults(e,{gradeNames:"fluid.component",distributeOptions:{record:n,target:"{/ "+t.join("&")+"}.options.gradeNames"}}),g.constructSingle([],e)},g.componentForPath=function(e){return g.globalInstantiator.pathToComponent[g.isArrayable(e)?e.join("."):e]},g.debugger=function(){},g.defaults("fluid.debuggingProbe",{gradeNames:["fluid.component"]}),g.probeToDistribution=function(e){var t=g.globalInstantiator,n=g.parseContextReference(e.target),r=g.model.parseToSegments(n.path,t.parseEL,!0);"options"!==r[0]&&r.unshift("options");var i=g.parsePriority(e.priority);return i.constraint&&!i.constraint.target&&(i.constraint.target="authoring"),{target:"{/ "+n.context+"}."+t.composeSegments.apply(null,r),record:{func:e.func,funcName:e.funcName,args:e.args,priority:g.renderPriority(i)}}},g.registerProbes=function(e){var t=g.transform(e,g.probeToDistribution),n="fluid_debuggingProbe_"+g.allocateGuid();return g.construct([n],{type:"fluid.debuggingProbe",distributeOptions:t}),n},g.deregisterProbes=function(e){g.destroy([e])},g.thisistToApplicable=function(i,o,a){return{apply:function(e,t){var n=g.expandOptions(o,a);"string"==typeof n&&(n=g.getGlobalValue(n)),n||g.fail("Could not resolve reference "+o+" to a value");var r=n[i.method];return"function"!=typeof r&&g.fail("Object ",n," at reference "+o+" has no member named "+i.method+" which is a function "),g.log("Applying arguments ",t," to method "+i.method+" of instance ",n),r.apply(n,t)}}},g.changeToApplicable=function(s,l){return{apply:function(e,t,n,r){var i=g.parseValidModelReference(l,"changePath listener record",s.changePath),o=g.expandOptions(s.value,l,{},g.extend(n,{arguments:t})),a=r&&r.source&&r.source.length?g.makeArray(s.source).concat(r.source):s.source;i.applier.change(i.modelSegs,o,s.type,a)}}},g.recordToApplicable=function(e,t,n){if(void 0!==e.changePath)return g.changeToApplicable(e,t,n);var r=e.this;return e.method^r&&g.fail("Record ",t,' must contain both entries "method" and "this" if it contains either'),e.method?g.thisistToApplicable(e,r,t):null},g.getGlobalValueNonComponent=function(e,t){var n=g.defaults(e);return n&&g.hasGrade(n,"fluid.component")&&g.fail("Error in function specification - cannot invoke function "+e+" in the context of "+t+": component creator functions can only be used as subcomponents"),g.getGlobalValue(e)},g.makeInvoker=function(n,r,i){void 0===(r=g.upgradePrimitiveFunc(r)).args||r.args===g.NO_VALUE||g.isArrayable(r.args)||(r.args=g.makeArray(r.args));var o=g.recordToApplicable(r,n),a=g.preExpand(r.args),s={},l=g.makeStackResolverOptions(n,s,!0);return(o=o||(r.funcName?g.getGlobalValueNonComponent(r.funcName,"an invoker"):g.expandImmediate(r.func,n)))&&o.apply?o===g.notImplemented&&g.fail("Error constructing component ",n," - the invoker named "+i+" which was defined in grade "+r.componentSource+" needs to be overridden with a concrete implementation"):g.fail("Error in invoker record: could not resolve members func, funcName or method to a function implementation - got "+o+" from ",r),function(){var e,t;return!1===g.defeatLogging&&g.pushActivity("invokeInvoker","invoking invoker with name %name and record %record from path %path holding component %that",{name:i,record:r,path:g.dumpComponentPath(n),that:n}),"destroyed"===n.lifecycleStatus?g.log(g.logLevel.WARN,"Ignoring call to invoker "+i+" of component ",n," which has been destroyed"):(s.arguments=arguments,void 0===r.args||r.args===g.NO_VALUE?t=arguments:(g.expandImmediateImpl(a,l),t=a.source),e=o.apply(null,t)),!1===g.defeatLogging&&g.popActivity(),e}},g.event.makeTrackedListenerAdder=function(e){var a=g.shadowForComponent(e);return function(o){return{addListener:function(e,t,n,r,i){g.recordListener(o,e,a,i),o.addListener.apply(null,arguments)}}}},g.event.listenerEngine=function(n,r,i){var o={};g.each(n,function(e,t){i(e).addListener(function(){o[t]=g.makeArray(arguments),function(){if(!g.find(n,function(e,t){if(void 0===o[t])return!0})){var e=o;o={},r(e)}}()})})},g.event.dispatchListener=function(r,i,o,a,s){void 0===a.args||a.args===g.NO_VALUE||g.isArrayable(a.args)||(a.args=g.makeArray(a.args)),i=g.event.resolveListener(i);var l=g.preExpand(a.args),u={},d=g.makeStackResolverOptions(r,u,!0),e=function(){!1===g.defeatLogging&&g.pushActivity("dispatchListener","firing to listener to event named %eventName of component %that",{eventName:o,that:r});var e,t=s?arguments[0]:arguments;u.arguments=t,void 0!==a.args&&a.args!==g.NO_VALUE?(g.expandImmediateImpl(l,d),e=l.source):e=t;var n=i.apply(null,e);return!1===g.defeatLogging&&g.popActivity(),n};return g.event.impersonateListener(i,e),e},g.event.resolveSoftNamespace=function(e){if("string"!=typeof e)return null;var t=Math.max(e.lastIndexOf("."),e.lastIndexOf("}"));return e.substring(t+1)},g.event.resolveListenerRecord=function(e,a,s,l,u){var d=function(e,t){g.fail("Error in listener record - could not resolve reference ",e,' to a listener or firer. Did you miss out "events." when referring to an event firer?'+t)};g.pushActivity("resolveListenerRecord","resolving listener record for event named %eventName for component %that",{eventName:s,that:a});var t=g.makeArray(e),n={records:g.transform(t,function(e){var t=g.isPrimitive(e)||e.expander?{listener:e}:g.copy(e),n=g.recordToApplicable(e,a,u);t.listener=n||(t.listener||t.func||t.funcName),t.listener||d(e,' Listener record must contain a member named "listener", "func", "funcName" or "method"');var r=e.method?g.event.resolveSoftNamespace(e.this)+"."+e.method:g.event.resolveSoftNamespace(t.listener);t.namespace||l||!r||(t.softNamespace=!0,t.namespace=(e.componentSource?e.componentSource:a.typeName)+"."+r);var i=t.listener=g.expandOptions(t.listener,a);i||d(e,"");var o=!1;return"fluid.event.firer"===i.typeName&&(i=i.fire,o=!0),t.listener=u&&(t.args&&"fluid.notImplemented"!==i||o)?g.event.dispatchListener(a,i,s,t):i,t.listenerId=g.allocateGuid(),t}),adderWrapper:u?g.event.makeTrackedListenerAdder(a):null};return g.popActivity(),n},g.event.expandOneEvent=function(e,t){var n;return(n="string"==typeof t&&"{"!==t.charAt(0)?g.getForComponent(e,["events",t]):g.expandOptions(t,e))&&"fluid.event.firer"===n.typeName||g.fail("Error in event specification - could not resolve base event reference ",t," to an event firer: got ",n),n},g.event.expandEvents=function(t,e){return"string"==typeof e?g.event.expandOneEvent(t,e):g.transform(e,function(e){return g.event.expandOneEvent(t,e)})},g.event.resolveEvent=function(a,s,l){g.pushActivity("resolveEvent","resolving event with name %eventName attached to component %that",{eventName:s,that:a});var u=g.event.makeTrackedListenerAdder(a);"string"==typeof l&&(l={event:l});var e="fluid.event.firer"===l.typeName?l:l.event||l.events;e||g.fail("Event specification for event with name "+s+" does not include a base event specification: ",l);var t,d="fluid.event.firer"===e.typeName?e:g.event.expandEvents(a,e),n="fluid.event.firer"!==d.typeName;if(l.args||n){t=g.makeEventFirer({name:" [composite] "+g.event.nameEvent(a,s)});var r=g.event.dispatchListener(a,t.fire,s,l,n);n?g.event.listenerEngine(d,r,u):u(d).addListener(r)}else(t={typeName:"fluid.event.firer"}).fire=function(){var e=g.makeArray(arguments);g.pushActivity("fireSynthetic","firing synthetic event %eventName ",{eventName:s});var t=d.fire.apply(null,e);return g.popActivity(),t},t.addListener=function(e,t,n,r,i){var o=g.event.dispatchListener(a,e,s,l);u(d).addListener(o,t,n,r,i)},t.removeListener=function(e){d.removeListener(e)};return g.popActivity(),t},g.withEnvironment=function(e,t,n){var r;n=n||g.globalThreadLocal();try{for(r in e)n[r]=e[r];return c.extend(n,e),t()}finally{for(r in e)delete n[r]}},g.fetchContextReference=function(e,t,n,r,i){r&&(e=r(e,n));var o=e.context?n[e.context]:t;return o?e.noDereference?e.path:g.get(o,e.path):i&&i(e)||o},g.makeEnvironmentFetcher=function(n,r,i,o){return i=i||g.globalThreadLocal,function(e){var t=i();return g.fetchContextReference(e,n,t,r,o)}},g.coerceToPrimitive=function(e){return"false"!==e&&("true"===e||(isFinite(e)?Number(e):e))},g.compactStringToRec=function(e,t){var n=e.indexOf("("),r=e.indexOf(")");if((-1===n^-1===r||r<n)&&g.fail("Badly-formed compact "+t+" record without matching parentheses: "+e),-1!==n&&-1!==r){var i=e.substring(r+1);""!==c.trim(i)&&g.fail("Badly-formed compact "+t+" record "+e+" - unexpected material following close parenthesis: "+i);var o=e.substring(0,n),a=e.substring(n+1,r),s=g.transform(a.split(","),c.trim,g.coerceToPrimitive),l=g.upgradePrimitiveFunc(o,null);return l.args=s,l}return"expander"===t&&g.fail("Badly-formed compact expander record without parentheses: "+e),e},g.expandPrefix="@expand:",g.expandCompactString=function(e,t){var n=e;if(0===e.indexOf(g.expandPrefix)){var r=e.substring(g.expandPrefix.length);n={expander:g.compactStringToRec(r,"expander")}}else t&&(n=g.compactStringToRec(e,t));return n};var o={listeners:"listener",modelListeners:"modelListener"},a=c.extend({invokers:"invoker"},o);g.expandCompactRec=function(n,r,e){g.guardCircularExpansion(n,n.length);var t=0<n.length?n[n.length-1]:"",i=a[t];!i&&1<n.length&&(i=o[n[n.length-2]]),g.each(e,function(e,t){return g.isPlainObject(e)?(r[t]=g.freshContainer(e),n.push(t),g.expandCompactRec(n,r[t],e),void n.pop()):("string"==typeof e&&(e=g.expandCompactString(e,i)),void(r[t]=e))})},g.expandCompact=function(e){var t={};return g.expandCompactRec([],t,e),t},g.extractEL=function(e,t){if("ALL"===t.ELstyle)return e;if(1===t.ELstyle.length){if(e.charAt(0)===t.ELstyle)return e.substring(1)}else if("${}"===t.ELstyle){var n=e.indexOf("${"),r=e.lastIndexOf("}");if(0===n&&-1!==r)return e.substring(2,r)}},g.extractELWithContext=function(e,t){var n=g.extractEL(e,t);return g.isIoCReference(n)?g.parseContextReference(n):n?{path:n}:n},g.parseContextReference=function(e,t,n){t=t||0;var r,i,o,a="{"===e.charAt(t+1);a?r=(o=g.parseContextReference(e,t+1,"}")).endpos:r=e.indexOf("}",t+1),-1===r&&g.fail('Cannot parse context reference "'+e+'": Malformed context reference without }'),i=a?o:e.substring(t+1,r);var s=n?e.indexOf(n,r+1):e.length,l=e.substring(r+1,s);return"."===l.charAt(0)&&(l=l.substring(1)),{context:i,path:l,endpos:s}},g.renderContextReference=function(e){var t=e.context;return"{"+("string"==typeof t?t:g.renderContextReference(t))+"}"+(e.path?"."+e.path:"")},g.resolveContextValue=function(e,n){function t(e){g.pushActivity("resolveContextValue","resolving context value %parsed",{parsed:e});var t=n.fetcher(e);return g.pushActivity("resolvedContextValue","resolved value %parsed to value %value",{parsed:e,value:t}),g.popActivity(2),t}var r;if(n.bareContextRefs&&g.isIoCReference(e))return t(r=g.parseContextReference(e));if(n.ELstyle&&"${}"!==n.ELstyle&&(r=g.extractELWithContext(e,n)))return t(r);for(;"string"==typeof e;){var i=e.indexOf("${"),o=e.indexOf("}",i+2);if(-1===i||-1===o)break;"{"===e.charAt(i+2)?o=(r=g.parseContextReference(e,i+2,"}")).endpos:r={path:e.substring(i+2,o)};var a=t(r),s=0===i&&o===e.length-1;if(null==a)return a;e=s?a:e.substring(0,i)+a+e.substring(o+1)}return e},g.fetchExpandChildren=function(n,r,i,o,a,s){if(o.expander){var e=g.expandExpander(n,o,s);if(g.isPrimitive(e)||!g.isPlainObject(e)||g.isArrayable(e)^g.isArrayable(n))return e;c.extend(!0,n,e)}return g.each(o,function(e,t){void 0===e?n[t]=void 0:"expander"!==t&&(i[r]=t,!0!==g.getImmediate(s.exceptions,i,r)&&s.strategy(n,t,r+1,i,o,a))}),n},g.isUnexpandable=function(e){return g.isPrimitive(e)||!g.isPlainObject(e)},g.expandSource=function(e,t,n,r,i,o,a,s){var l,u,d=g.derefMergePolicy(a);return"string"!=typeof o||d.noexpand?d.noexpand||g.isUnexpandable(o)?l=o:o.expander?l=g.expandExpander(i,o,e):(l=g.freshContainer(o),u=!0):e.defaultEL&&"{"!==o.charAt(0)?l=o:(g.pushActivity("expandContextValue","expanding context value %source held at path %path",{source:o,path:g.path.apply(null,r.slice(0,n))}),l=g.resolveContextValue(o,e),g.popActivity(1)),l!==g.NO_VALUE&&i(l),u&&s(l,o,n,r,a),l},g.guardCircularExpansion=function(e,t){t>g.strategyRecursionBailout&&g.fail("Overflow/circularity in options expansion, current path is ",e," at depth ",t,' - please ensure options are not circularly connected, or protect from expansion using the "noexpand" policy or expander')},g.makeExpandStrategy=function(l){var u=function(e,t,n,r,i){return g.fetchExpandChildren(e,n||0,r||[],t,i,l)},e=function(t,n,e,r,i,o){if(g.guardCircularExpansion(r,e),t){if(t.hasOwnProperty(n))return t[n];void 0===i&&(i=d(l.source,r,e-1,l.sourceStrategy),o=d(l.mergePolicy,r,e-1,g.concreteTrundler));var a=l.sourceStrategy(i,n,e,r),s=g.concreteTrundler(o,n);return g.expandSource(l,t,e,r,function(e){t[n]=e},a,s,u)}};return l.recurse=u,l.strategy=e},g.defaults("fluid.makeExpandOptions",{ELstyle:"${}",bareContextRefs:!0,target:g.inCreationMarker}),g.makeExpandOptions=function(e,t){return(t=c.extend({},g.rawDefaults("fluid.makeExpandOptions"),t)).defaultEL="${}"===t.ELStyle&&t.bareContextRefs,t.expandSource=function(e){return g.expandSource(t,null,0,[],g.identity,e,t.mergePolicy,!1)},g.isUnexpandable(e)?(t.strategy=g.concreteTrundler,t.initter=g.identity,t.target="string"==typeof e?t.expandSource(e):e):(t.source=e,t.target=g.freshContainer(e),t.sourceStrategy=t.sourceStrategy||g.concreteTrundler,g.makeExpandStrategy(t),t.initter=function(){t.target=g.fetchExpandChildren(t.target,0,[],t.source,t.mergePolicy,t)}),t},g.expand=function(e,t){var n=g.makeExpandOptions(e,t);return n.initter(),n.target},g.preExpandRecurse=function(n,r,t,i,o){function e(e){n.expanders.push({expander:e,holder:t,member:i}),delete t[i]}if(g.guardCircularExpansion(o,o.length),g.isIoCReference(r)){var a=g.parseContextReference(r),s=g.model.parseEL(a.path);e({typeFunc:g.expander.fetch,context:a.context,segs:s})}else g.isPlainObject(r)&&(r.expander?(r.expander.typeFunc=g.getGlobalValue(r.expander.type||"fluid.invokeFunc"),e(r.expander)):g.each(r,function(e,t){o.push(t),g.preExpandRecurse(n,e,r,t,o),o.pop()}))},g.preExpand=function(e){var t={expanders:[],source:g.isUnexpandable(e)?e:g.copy(e)};return g.preExpandRecurse(t,t.source,t,"source",[]),t},g.expandImmediate=function(e,t,n){var r=g.makeStackResolverOptions(t,n,!0),i=g.preExpand(e);return g.expandImmediateImpl(i,r),i.source},g.expandImmediateImpl=function(e,t){for(var n=e.expanders,r=0;r<n.length;++r){var i=n[r];i.holder[i.member]=i.expander.typeFunc(null,i,t)}},g.expandExpander=function(e,t,n){var r=g.getGlobalValue(t.expander.type||"fluid.invokeFunc");return r||g.fail("Unknown expander with type "+t.expander.type),r(e,t,n)},g.registerNamespace("fluid.expander"),g.expander.fetch=function(e,t,n){var r=n.localRecord,i=t.expander.context,o=t.expander.segs,a=void 0!==r[i],s=n.contextThat.lifecycleStatus,l="treeConstructed"===s||"destroyed"===s,u=a?r[i]:g.resolveContext(i,n.contextThat,l);if(u){var d=u;if(a||"constructing"!==u.lifecycleStatus)for(var c=0;c<o.length;++c)d=d?d[o[c]]:void 0;else d=g.getForComponent(u,o);return void 0!==d||a||(d=g.getForComponent(u,o)),d}0<o.length&&g.triggerMismatchedPathError(t.expander,n.contextThat)},g.invokeFunc=function(e,t,n){var r=t.expander,i=g.makeArray(r.args);r.args=i,n.recurse?i=n.recurse([],i):i=(r=g.expandImmediate(r,n.contextThat,n.localRecord)).args;var o=r.func||r.funcName,a=(n.expandSource?n.expandSource(o):o)||g.recordToApplicable(r,n.contextThat);return"string"==typeof a&&(a=g.getGlobalValue(a)),a||g.fail("Error in expander record ",r,": "+o+" could not be resolved to a function for component ",n.contextThat),a.apply(null,i)},g.noexpand=function(e,t){return t.expander.value?t.expander.value:t.expander.tree}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(n,y){"use strict";y.model.makeEnvironmentStrategy=function(r){return function(e,t,n){return 0===n&&r[t]?r[t]:void 0}},y.model.defaultCreatorStrategy=function(e,t){if(void 0===e[t])return e[t]={},e[t]},y.model.defaultFetchStrategy=function(e,t){return e[t]},y.model.funcResolverStrategy=function(e,t){if(e.resolvePathSegment)return e.resolvePathSegment(t)},y.model.traverseWithStrategy=function(e,t,n,r,i){for(var o=r.strategies,a=t.length-i,s=n;s<a;++s){if(!e)return e;for(var l,u=0;u<o.length&&void 0===(l=o[u](e,t[s],s+1,t));++u);l===y.NO_VALUE&&(l=void 0),e=l}return e},y.model.getValueAndSegments=function(e,t,n,r){return y.model.accessWithStrategy(e,t,y.NO_VALUE,n,r,!0)},y.model.makeTrundler=function(n){return function(e,t){return y.model.getValueAndSegments(e.root,t,n,e.segs)}},y.model.getWithStrategy=function(e,t,n,r){return y.model.accessWithStrategy(e,t,y.NO_VALUE,n,r)},y.model.setWithStrategy=function(e,t,n,r,i){y.model.accessWithStrategy(e,t,n,r,i)},y.model.accessWithStrategy=function(e,t,n,r,i,o){if(y.isPrimitive(t)||y.isArrayable(t))return y.model.accessImpl(e,t,n,r,i,o,y.model.traverseWithStrategy);var a=t.type||"default",s=r.resolvers[a];s||y.fail("Unable to find resolver of type "+a);var l=y.model.makeTrundler(r),u={root:e,segs:i};return u=s(u,t,l),t.path&&u&&(u=l(u,t.path)),o?u:u?u.root:void 0},y.registerNamespace("fluid.pathUtil"),y.pathUtil.getPathSegmentImpl=function(e,t,n){var r=null;e&&(r="");for(var i=!1,o=t.length;n<o;++n){var a=t.charAt(n);if(i)i=!1,null!==r&&(r+=a);else{if("."===a)break;"\\"===a?i=!0:null!==r&&(r+=a)}}return null!==r&&(e[0]=r),n};var o=[];y.pathUtil.parseEL=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=y.pathUtil.getPathSegmentImpl(o,e,n);t.push(o[0]),n=i+1}return t},y.pathUtil.composeSegment=function(e,t){t=t.toString();for(var n=0;n<t.length;++n){var r=t.charAt(n);"."!==r&&"\\"!==r&&"}"!==r||(e+="\\"),e+=r}return e},y.pathUtil.escapeSegment=function(e){return y.pathUtil.composeSegment("",e)},y.pathUtil.composePath=function(e,t){return 0!==e.length&&(e+="."),y.pathUtil.composeSegment(e,t)},y.pathUtil.composeSegments=function(){for(var e="",t=0;t<arguments.length;++t)e=y.pathUtil.composePath(e,arguments[t]);return e},y.pathUtil.matchSegments=function(e,t,n,r){if(r-n!==e.length)return!1;for(var i=n;i<r;++i)if(t[i]!==e[i-n])return!1;return!0},y.model.unescapedParser={parse:y.model.parseEL,compose:y.model.composeSegments},y.model.defaultGetConfig={parser:y.model.unescapedParser,strategies:[y.model.funcResolverStrategy,y.model.defaultFetchStrategy]},y.model.defaultSetConfig={parser:y.model.unescapedParser,strategies:[y.model.funcResolverStrategy,y.model.defaultFetchStrategy,y.model.defaultCreatorStrategy]},y.model.escapedParser={parse:y.pathUtil.parseEL,compose:y.pathUtil.composeSegments},y.model.escapedGetConfig={parser:y.model.escapedParser,strategies:[y.model.defaultFetchStrategy]},y.model.escapedSetConfig={parser:y.model.escapedParser,strategies:[y.model.defaultFetchStrategy,y.model.defaultCreatorStrategy]},y.initRelayModel=function(e){return y.deenlistModelComponent(e),e.model},y.isModelComplete=function(e){return"model"in e&&e.model!==y.inEvaluationMarker},y.enlistModelComponent=function(e){var t=y.getInstantiator(e),n=t.modelTransactions.init[e.id];return n||(n={that:e,applier:y.getForComponent(e,"applier"),complete:y.isModelComplete(e)},t.modelTransactions.init[e.id]=n),n},y.clearTransactions=function(){var e=y.globalInstantiator;y.clear(e.modelTransactions),e.modelTransactions.init={}},y.failureEvent.addListener(y.clearTransactions,"clearTransactions","before:fail"),y.clearLinkCounts=function(n,r){y.each(n,function(e,t){"number"==typeof e?n[t]=0:r&&e.options&&"number"==typeof e.relayCount&&(e.relayCount=0)})},y.sortCompleteLast=function(e,t){return(e.completeOnInit?1:0)-(t.completeOnInit?1:0)},y.operateInitialTransaction=function(e,t){var n,r=y.allocateGuid(),i=y.getModelTransactionRec(e,r),o=y.transform(t,function(e){return n=e.that.applier.initiate(null,"init",r),i[e.that.applier.applierId]={transaction:n},n}),a=y.values(t).sort(y.sortCompleteLast);y.each(a,function(e){var t=e.that,n=o[t.id];e.completeOnInit?y.initModelEvent(t,t.applier,n,t.applier.listeners.sortedListeners):y.each(e.initModels,function(e){n.fireChangeRequest({type:"ADD",segs:[],value:e}),y.clearLinkCounts(i,!0)});var r=y.shadowForComponent(t);r&&(r.modelComplete=!0)}),n.commit()},y.deenlistModelComponent=function(e){var t=y.getInstantiator(e),n=t.modelTransactions.init;n[e.id]&&(e.model=void 0,n[e.id].complete=!0,y.find_if(n,function(e){return!0!==e.complete})||(y.operateInitialTransaction(e,n),t.modelTransactions.init={}))},y.parseModelReference=function(e,t){var n=y.parseContextReference(t);return n.segs=e.applier.parseEL(n.path),n},y.parseValidModelReference=function(e,t,n,r){var i,o,a=function(e){y.fail("Error in "+t+": ",n,e)};if("string"==typeof n)if(y.isIoCReference(n)){var s=(i=y.parseModelReference(e,n)).segs.indexOf("model");-1===s?r?i.nonModel=!0:a(' must be a reference into a component model via a path including the segment "model"'):(i.modelSegs=i.segs.slice(s+1),i.contextSegs=i.segs.slice(0,s),delete i.path)}else i={path:n,modelSegs:e.applier.parseEL(n)};else y.isArrayable(n.segs)||a(' must contain an entry "segs" holding path segments referring a model path within a component'),i={context:n.context,modelSegs:y.expandOptions(n.segs,e)};return i.context?((o=y.resolveContext(i.context,e))||a(" must be a reference to an existing component"),i.contextSegs&&(o=y.getForComponent(o,i.contextSegs))):o=e,i.nonModel||(o.applier||y.getForComponent(o,["applier"]),o.applier||a(" must be a reference to a component with a ChangeApplier (descended from fluid.modelComponent)")),i.that=o,i.applier=o.applier,i.path||(i.path=o.applier.composeSegments.apply(null,i.modelSegs)),i},y.getModelTransactionRec=function(e,t){var n=y.getInstantiator(e);if(t||y.fail("Cannot get transaction record without transaction id"),!n)return null;var r=n.modelTransactions[t];return r||(r=n.modelTransactions[t]={relays:[],sources:{},externalChanges:{}}),r},y.recordChangeListener=function(e,t,n,r){var i=y.shadowForComponent(e);y.recordListener(t.modelChanged,n,i,r)},y.registerRelayTransaction=function(e,t,n,r,i){var o=t.initiate("relay",null,n),a=e[t.applierId]={transaction:o,relayCount:0,namespace:i.namespace,priority:i.priority,options:r};return a.priority=y.parsePriority(a.priority,e.relays.length,!1,"model relay"),e.relays.push(a),a},y.relayRecursionBailout=100,y.registerDirectChangeRelay=function(u,d,e,c,p,f,h,m){var g=h.targetApplier||u.applier,t=h.sourceApplier||e.applier,v=g.applierId;d=y.makeArray(d);var n,r=function(e,t,n,r,i,o){var a=i.id,s=y.getModelTransactionRec(u,a);o&&i&&!s[o.applierId]&&(s[o.applierId]={transaction:i});var l=s[v];s[p]=s[p]||0;++s[p],s[p]>y.relayRecursionBailout&&y.fail("Error in model relay specification at component ",u," - operated more than "+y.relayRecursionBailout+" relays without model value settling - current model contents are ",i.newHolder.model),l||(l=y.registerRelayTransaction(s,g,a,h,m)),f&&!h.targetApplier?f(l.transaction,h.sourceApplier?void 0:e,c,d):void 0!==e&&l.transaction.fireChangeRequest({type:"ADD",segs:d,value:e})};(c=c?y.makeArray(c):c)&&(n=t.modelChanged.addListener({isRelay:!0,segs:c,transactional:h.transactional},r),y.log(y.logLevel.TRACE,"Adding relay listener with listenerId "+n.listenerId+" to source applier with id "+t.applierId+" from target applier with id "+v+" for target component with id "+u.id)),e&&(y.recordChangeListener(e,t,r,n.listenerId),u!==e&&y.recordChangeListener(u,t,r,n.listenerId))},y.connectModelRelay=function(e,t,n,r,i){function o(e){var t=y.enlistModelComponent(e);t.complete&&(y.shadowForComponent(e).modelComplete&&(t.completeOnInit=!0))}var a=y.allocateGuid();o(n),o(e);var s=y.filterKeys(i,["namespace","priority"]);i.update?i.targetApplier?y.registerDirectChangeRelay(e,t,n,r,a,null,{transactional:!1,targetApplier:i.targetApplier,update:i.update},s):y.registerDirectChangeRelay(n,r,e,[],a+"-transform",i.forwardAdapter,{transactional:!0,sourceApplier:i.forwardApplier},s):(y.registerDirectChangeRelay(n,r,e,t,a,i.forwardAdapter,{transactional:!1},s),t&&y.registerDirectChangeRelay(e,t,n,r,a,i.backwardAdapter,{transactional:!1},s))},y.parseSourceExclusionSpec=function(e,t){return e.excludeSource=y.arrayToHash(y.makeArray(t.excludeSource||(t.includeSource?"*":void 0))),e.includeSource=y.arrayToHash(y.makeArray(t.includeSource)),e},y.isExcludedChangeSource=function(e,t){if(!t||!t.excludeSource)return!1;var n=t.excludeSource["*"];for(var r in e.fullSources)t.excludeSource[r]&&(n=!0),t.includeSource[r]&&(n=!1);return n},y.model.guardedAdapter=function(e,t,n,r){y.isExcludedChangeSource(e,t)||n.apply(null,r)},y.transformToAdapter=function(e,t){var n={};return n[t]=e,function(e,t){y.model.transformWithRules(t,n,{finalApplier:e})}},y.makeTransformPackage=function(e,t,n,r,i,o,a,s){var l={forwardHolder:{model:t},backwardHolder:{model:null},generateAdapters:function(e){l.forwardAdapterImpl=y.transformToAdapter(e?e.newHolder.model:l.forwardHolder.model,r),null!==n&&(l.backwardHolder.model=y.model.transform.invertConfiguration(t),l.backwardAdapterImpl=y.transformToAdapter(l.backwardHolder.model,n))},forwardAdapter:function(e,t){void 0===t&&l.generateAdapters(),y.model.guardedAdapter(e,i,l.forwardAdapterImpl,arguments)},runTransform:function(e){e.commit(),e.reset()}};l.forwardApplier=y.makeHolderChangeApplier(l.forwardHolder),l.forwardApplier.isRelayApplier=!0,l.invalidator=y.makeEventFirer({name:"Invalidator for model relay with applier "+l.forwardApplier.applierId}),null!==n&&(l.backwardApplier=y.makeHolderChangeApplier(l.backwardHolder),l.backwardAdapter=function(e){y.model.guardedAdapter(e,o,l.backwardAdapterImpl,arguments)}),l.update=l.invalidator.fire;var u={targetApplier:l.forwardApplier,update:l.update,namespace:a,priority:s,refCount:0};return l.forwardHolder.model=y.parseImplicitRelay(e,t,[],u),l.refCount=u.refCount,l.namespace=a,l.priority=s,l.generateAdapters(),l.invalidator.addListener(l.generateAdapters),l.invalidator.addListener(l.runTransform),l},y.singleTransformToFull=function(e){return{"":{transform:n.extend(!0,{inputPath:""},e)}}},y.model.relayConditions={initOnly:{includeSource:"init"},liveOnly:{excludeSource:"init"},never:{includeSource:[]},always:{}},y.model.parseRelayCondition=function(e){var t;return"initOnly"===e?y.log(y.logLevel.WARN,'The relay condition "initOnly" is deprecated: Please use the form \'includeSource: "init"\' instead'):"liveOnly"===e&&y.log(y.logLevel.WARN,'The relay condition "initOnly" is deprecated: Please use the form \'excludeSource: "init"\' instead'),e?"string"==typeof e?(t=y.model.relayConditions[e])||y.fail('Unrecognised model relay condition string "'+e+'": the supported values are "never" or a record with members "includeSource" and/or "excludeSource"'):t=e:t={},y.parseSourceExclusionSpec({},t)},y.parseModelRelay=function(e,t,n){var r=t.source?y.parseValidModelReference(e,'modelRelay record member "source"',t.source):{path:null,modelSegs:null},i=y.parseValidModelReference(e,'modelRelay record member "target"',t.target),o=t.namespace||n,a=t.singleTransform?y.singleTransformToFull(t.singleTransform):t.transform;a||y.fail('Cannot parse modelRelay record without element "singleTransform" or "transform":',t);var s=y.model.parseRelayCondition(t.forward),l=y.model.parseRelayCondition(t.backward),u=y.makeTransformPackage(e,a,r.path,i.path,s,l,o,t.priority);0===u.refCount?y.connectModelRelay(r.that||e,r.modelSegs,i.that,i.modelSegs,y.filterKeys(u,["forwardAdapter","backwardAdapter","namespace","priority"])):(r.modelSegs&&y.fail('Error in model relay definition: If a relay transform has a model dependency, you can not specify a "source" entry - please instead enter this as "input" in the transform specification. Definition was ',t," for component ",e),y.connectModelRelay(r.that||e,r.modelSegs,i.that,i.modelSegs,u))},y.parseImplicitRelay=function(r,e,i,o){var a;if(y.isIoCReference(e)){var t=y.parseValidModelReference(r,"model reference from model (implicit relay)",e,!0);t.nonModel?a=y.getForComponent(t.that,t.segs):(++o.refCount,y.connectModelRelay(r,i,t.that,t.modelSegs,o))}else y.isPrimitive(e)||!y.isPlainObject(e)?a=e:e.expander&&y.isPlainObject(e.expander)?a=y.expandOptions(e,r):(a=y.freshContainer(e),y.each(e,function(e,t){i.push(t);var n=y.parseImplicitRelay(r,e,i,o);void 0!==n&&(a[t]=n),i.pop()}));return a},y.model.notifyExternal=function(e){var t=e?y.values(e.externalChanges):[];y.sortByPriority(t);for(var n=0;n<t.length;++n){var r=t[n];r.args[5].destroyed||r.listener.apply(null,r.args)}y.clearLinkCounts(e,!0)},y.model.commitRelays=function(e,t){var n=e.modelTransactions[t];y.each(n,function(e){e.transaction&&(e.transaction.commit("relay"),e.transaction.reset())})},y.model.updateRelays=function(e,t){var n=e.modelTransactions[t],r=0;return y.sortByPriority(n.relays),y.each(n.relays,function(e){0<e.transaction.changeRecord.changes&&e.relayCount<2&&e.options.update&&(e.relayCount++,y.clearLinkCounts(n),e.options.update(e.transaction,n),++r)}),r},y.establishModelRelay=function(r,e,t,n,i){var o=y.shadowForComponent(r);o.modelRelayEstablished?y.fail("FLUID-5887 failure: Model relay initialised twice on component",r):o.modelRelayEstablished=!0,y.mergeModelListeners(r,t);var a=y.enlistModelComponent(r);y.each(n,function(e,t){for(var n=0;n<e.length;++n)y.parseModelRelay(r,e[n],t)});var s=y.transform(e,function(e){return y.parseImplicitRelay(r,e,[],{refCount:0,priority:"first"})});a.initModels=s;var l=y.getInstantiator(r);return i.preCommit.addListener(function(e){for(;0<y.model.updateRelays(l,e.id););}),i.preCommit.addListener(function(e,t,n){"relay"!==n&&y.model.commitRelays(l,e.id)}),i.postCommit.addListener(function(e,t,n){"relay"!==n&&(y.model.notifyExternal(l.modelTransactions[e.id]),delete l.modelTransactions[e.id])}),null},y.defaults("fluid.modelComponent",{gradeNames:["fluid.component"],changeApplierOptions:{relayStyle:!0,cullUnchanged:!0},members:{model:"@expand:fluid.initRelayModel({that}, {that}.modelRelay)",applier:"@expand:fluid.makeHolderChangeApplier({that}, {that}.options.changeApplierOptions)",modelRelay:"@expand:fluid.establishModelRelay({that}, {that}.options.model, {that}.options.modelListeners, {that}.options.modelRelay, {that}.applier)"},mergePolicy:{model:{noexpand:!0,func:y.arrayConcatPolicy},modelListeners:y.makeMergeListenersPolicy(y.arrayConcatPolicy),modelRelay:y.makeMergeListenersPolicy(y.arrayConcatPolicy,!0)}}),y.modelChangedToChange=function(e){return{value:e[0],oldValue:e[1],path:e[2],transaction:e[4]}},y.event.invokeListener=function(e,t,n,r){return"string"==typeof e&&(e=y.event.resolveListener(e)),e.apply(null,t,n,r)},y.resolveModelListener=function(i,o){var e=function(){if(!y.isDestroyed(i)){var e=y.modelChangedToChange(arguments),t=arguments,n={change:e,arguments:t},r={source:Object.keys(e.transaction.sources)};o.args&&(t=y.expandOptions(o.args,i,{},n)),y.event.invokeListener(o.listener,y.makeArray(t),n,r)}};return y.event.impersonateListener(o.listener,e),e},y.registerModelListeners=function(r,i,e,o){var a=y.resolveModelListener(r,i);y.each(i.byTarget,function(e){var t=e[0],n={listener:a,listenerId:y.allocateGuid(),segsArray:y.getMembers(e,"modelSegs"),pathArray:y.getMembers(e,"path"),includeSource:i.includeSource,excludeSource:i.excludeSource,priority:y.expandOptions(i.priority,r),transactional:!0};(n=t.applier.modelChanged.addListener(n,a,o,i.softNamespace),y.recordChangeListener(r,t.applier,a,n.listenerId),r===t.that||y.isModelComplete(r))||y.getForComponent(r,["events","onCreate"]).addListener(function(){if(y.isModelComplete(t.that)){var e=t.applier.initiate(null,"init");y.initModelEvent(r,t.applier,e,[n]),e.commit()}})})},y.mergeModelListeners=function(i,e){y.each(e,function(e,r){"string"==typeof e&&(e={funcName:e});var t=y.event.resolveListenerRecord(e,i,"modelListeners",null,!1).records;y.each(t,function(n){n.byTarget={};var e=y.makeArray(void 0===n.path?r:n.path);y.each(e,function(e){var t=y.parseValidModelReference(i,"modelListeners entry",e);y.pushArray(n.byTarget,t.that.id,t)});var t=(n.namespace&&!n.softNamespace?n.namespace:null)||(void 0!==n.path?r:null);y.registerModelListeners(i,n,e,t)})})},y.fireChanges=function(e,t){for(var n=0;n<t.length;++n)e.fireChangeRequest(t[n])},y.model.isChangedPath=function(e,t){for(var n=0;n<=t.length;++n){if("string"==typeof e)return!0;n<t.length&&e&&(e=e[t[n]])}return!1},y.model.setChangedPath=function(t,n,r){var e=function(e){n.unshift(e),y.model.setSimple(t,n,r),n.shift()};y.model.isChangedPath(t.changeMap,n)||(++t.changes,e("changeMap")),y.model.isChangedPath(t.deltaMap,n)||(++t.deltas,e("deltaMap"))},y.model.fetchChangeChildren=function(n,r,i,e,o){y.each(e,function(e,t){i[r]=t,y.model.applyChangeStrategy(n,t,r,i,e,o),i.length=r})},y.model.isSameValue=function(e,t){return"number"!=typeof e||"number"!=typeof t?e===t:e===t||e!=e&&t!=t||Math.abs((e-t)/t)<1e-12},y.model.applyChangeStrategy=function(e,t,n,r,i,o){var a=e[t],s=y.typeCode(i),l=y.typeCode(a),u=y.NO_VALUE;"primitive"===s?y.model.isSameValue(a,i)||(u=i,++o.unchanged):(l!==s||"array"===s&&i.length!==a.length)&&(u=y.freshContainer(i)),u!==y.NO_VALUE&&(e[t]=u,o.changeMap&&y.model.setChangedPath(o,r,o.inverse?"DELETE":"ADD")),"primitive"!==s&&y.model.fetchChangeChildren(e[t],n+1,r,i,o)},y.model.stepTargetAccess=function(e,t,n,r,i,o){for(var a=r;a<i;++a)if(e){e[n[a]]!==(e=y.model.traverseWithStrategy(e,n,a,o["ADD"===t?"resolverSetConfig":"resolverGetConfig"],n.length-a-1))&&o.changeMap&&y.model.setChangedPath(o,n.slice(0,a+1),"ADD")}return{root:e,last:n[i]}},y.model.defaultAccessorConfig=function(e){return(e=e||{}).resolverSetConfig=e.resolverSetConfig||y.model.escapedSetConfig,e.resolverGetConfig=e.resolverGetConfig||y.model.escapedGetConfig,e},y.model.applyHolderChangeRequest=function(e,t,n){(n=y.model.defaultAccessorConfig(n)).deltaMap=n.changeMap?{}:null,n.deltas=0;var r,i=t.segs.length,o=0===i;if(o?r={root:e,last:"model"}:(e.model||(e.model={},y.model.setChangedPath(n,[],n.inverse?"DELETE":"ADD")),r=y.model.stepTargetAccess(e.model,t.type,t.segs,0,i-1,n)),"ADD"===t.type){var a=t.value,s=y.makeArray(t.segs);y.model.applyChangeStrategy(r.root,r.last,i-1,s,a,n,o)}else"DELETE"===t.type?r.root&&void 0!==r.root[r.last]&&(delete r.root[r.last],n.changeMap&&y.model.setChangedPath(n,t.segs,"DELETE")):y.fail("Unrecognised change type of "+t.type);return n.deltas?n.deltaMap:null},y.model.diff=function(e,t,n){n=n||{changes:0,unchanged:0,changeMap:{}};var r,i=y.typeCode(e),o=y.typeCode(t);if("primitive"===i&&"primitive"===o)r=y.model.isSameValue(e,t);else if("primitive"===i^"primitive"===o)r=!1;else{var a={model:y.copy(e)};y.model.applyHolderChangeRequest(a,{value:t,segs:[],type:"ADD"},n);var s={model:y.copy(t)};n.inverse=!0,y.model.applyHolderChangeRequest(s,{value:e,segs:[],type:"ADD"},n),r=0===n.changes}return!1===r&&0===n.changes?(n.changes=1,n.changeMap=void 0===t?"DELETE":"ADD"):!0===r&&0===n.unchanged&&(n.unchanged=1),r},y.matchChanges=function(e,t,n){for(var r=n.model,i=e,o=["model"],a=!1,s=[],l=0;l<t.length;++l){var u=t[l];"*"===u?l===t.length-1?a=!0:y.fail("Wildcard specification in modelChanged listener is only supported for the final path segment: "+t.join(".")):(o.push(u),i=y.isPrimitive(i)?i:i[u],r=r?r[u]:void 0)}return i&&(a?y.each(r,function(e,t){s.push(o.concat(t))}):s.push(o)),s},y.storeExternalChange=function(e,t,n,r,i){var o=t.composeSegments.apply(null,n),a=[t.holder.id,r.listenerId,r.wildcard?o:""].join("|");e.externalChanges[a]={listener:r.listener,namespace:r.namespace,priority:r.priority,args:i}},y.notifyModelChanges=function(e,t,n,r,i,o,a,s){if(e)for(var l=o&&y.getModelTransactionRec(s,o.id),u=0;u<e.length;++u)for(var d=e[u],c=1<d.segsArray.length,p=0;p<d.segsArray.length;++p)for(var f=y.matchChanges(t,d.segsArray[p],n),h=0;h<f.length;++h){if(a.destroyed)return;var m=f[h];d.listener=y.event.resolveListener(d.listener);var g=[c?n.model:y.model.getSimple(n,m),c?r.model:y.model.getSimple(r,m),c?[]:m.slice(1),i,o,a];if(!d.isRelay){if(y.model.diff(g[0],g[1]))continue;if(y.isExcludedChangeSource(o,d))continue}l&&!d.isRelay&&d.transactional?y.storeExternalChange(l,a,m,d,g):d.listener.apply(null,g)}},y.bindELMethods=function(t){t.parseEL=function(e){return y.model.pathToSegments(e,t.options.resolverSetConfig)},t.composeSegments=function(){return t.options.resolverSetConfig.parser.compose.apply(null,arguments)}},y.initModelEvent=function(e,t,n,r){y.notifyModelChanges(r,"ADD",n.oldHolder,y.emptyHolder,null,n,t,e)},y.emptyHolder=y.freezeRecursive({model:void 0}),y.preFireChangeRequest=function(e,t){t.type||(t.type="ADD"),t.segs=t.segs||e.parseEL(t.path)},y.bindRequestChange=function(o){o.change=function(e,t,n,r){var i={path:e,value:t,type:n,source:r};o.fireChangeRequest(i)}},y.isObjectSimple=function(e){return"[object Object]"===Object.prototype.toString.call(e)},y.mergeChangeSources=function(t,e){y.isObjectSimple(e)?y.extend(t,e):y.each(y.makeArray(e),function(e){t[e]=!0})},y.ChangeApplier=function(){},y.makeHolderChangeApplier=function(a,s){s=y.model.defaultAccessorConfig(s);var e=y.allocateGuid(),l=new y.ChangeApplier,t=y.isComponent(a)?"ChangeApplier for component "+y.dumpThat(a):"ChangeApplier with id "+e;return n.extend(l,{applierId:e,holder:a,listeners:y.makeEventFirer({name:"Internal change listeners for "+t}),transListeners:y.makeEventFirer({name:"External change listeners for "+t}),options:s,modelChanged:{},preCommit:y.makeEventFirer({name:"preCommit event for "+t}),postCommit:y.makeEventFirer({name:"postCommit event for "+t})}),l.destroy=function(){l.preCommit.destroy(),l.postCommit.destroy(),l.destroyed=!0},l.modelChanged.addListener=function(e,t,n,r){return(e="string"==typeof e?{path:e}:y.copy(e)).listenerId=e.listenerId||y.allocateGuid(),e.namespace=n,e.softNamespace=r,"string"==typeof t&&(t={globalName:t}),e.listener=t,!1!==e.transactional&&(e.transactional=!0),e.segsArray||(void 0!==e.path&&(e.segs=e.segs||l.parseEL(e.path)),e.segsArray||(e.segsArray=[e.segs])),y.parseSourceExclusionSpec(e,e),e.wildcard=y.accumulate(y.transform(e.segsArray,function(e){return y.contains(e,"*")}),y.add,0),e.wildcard&&1<e.segsArray.length&&y.fail("Error in model listener specification ",e," - you may not supply a wildcard pattern as one of a set of multiple paths to be matched"),l[e.transactional?"transListeners":"listeners"].addListener(e),e},l.modelChanged.removeListener=function(e){l.listeners.removeListener(e),l.transListeners.removeListener(e)},l.fireChangeRequest=function(e){var t=l.initiate("local",e.source);t.fireChangeRequest(e),t.commit()},l.initiate=function(e,t,n){var r="relay"===(e="init"===t?null:e||"local"),i={instanceId:y.allocateGuid(),id:n||y.allocateGuid(),changeRecord:{resolverSetConfig:s.resolverSetConfig,resolverGetConfig:s.resolverGetConfig},reset:function(){i.oldHolder=a,i.newHolder={model:y.copy(a.model)},i.changeRecord.changes=0,i.changeRecord.unchanged=0,i.changeRecord.changeMap={}},commit:function(e){if(l.preCommit.fire(i,l,e),0<i.changeRecord.changes){var t={model:a.model};a.model=i.newHolder.model,y.notifyModelChanges(l.transListeners.sortedListeners,i.changeRecord.changeMap,a,t,null,i,l,a)}r||l.postCommit.fire(i,l,e)},fireChangeRequest:function(e){y.preFireChangeRequest(l,e),e.transactionId=i.id;var t=y.model.applyHolderChangeRequest(i.newHolder,e,i.changeRecord);y.notifyModelChanges(l.listeners.sortedListeners,t,i.newHolder,a,e,i,l,a)},hasChangeSource:function(e){return i.fullSources[e]}},o=y.getModelTransactionRec(a,i.id);return o&&(y.mergeChangeSources(o.sources,t),i.sources=o.sources,i.fullSources=Object.create(o.sources),i.fullSources[e]=!0),i.reset(),y.bindRequestChange(i),i},y.bindRequestChange(l),y.bindELMethods(l),l}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(l,d){"use strict";d.registerNamespace("fluid.model.transform"),d.defaults("fluid.transformFunction",{gradeNames:"fluid.function"}),d.defaults("fluid.standardInputTransformFunction",{gradeNames:"fluid.transformFunction"}),d.defaults("fluid.standardOutputTransformFunction",{gradeNames:"fluid.transformFunction"}),d.defaults("fluid.multiInputTransformFunction",{gradeNames:"fluid.transformFunction"}),d.defaults("fluid.standardTransformFunction",{gradeNames:["fluid.standardInputTransformFunction","fluid.standardOutputTransformFunction"]}),d.defaults("fluid.lens",{gradeNames:"fluid.transformFunction",invertConfiguration:null}),d.model.transform.pathToRule=function(e){return{transform:{type:"fluid.transforms.value",inputPath:e}}},d.model.transform.literalValueToRule=function(e){return{transform:{type:"fluid.transforms.literalValue",input:e}}},d.model.composePaths=function(e,t){return t=0===t?"0":t||"",(e=0===e?"0":e||"")?t?e+"."+t:e:t},d.model.transform.accumulateInputPath=function(e,t,n){void 0!==e&&n.push(d.model.composePaths(t.inputPrefix,e))},d.model.transform.accumulateStandardInputPath=function(e,t,n,r){d.model.transform.getValue(void 0,t[e],n),d.model.transform.accumulateInputPath(t[e+"Path"],n,r)},d.model.transform.accumulateMultiInputPaths=function(e,n,r,i){d.each(e,function(e,t){d.model.transform.accumulateStandardInputPath(t,n,r,i)})},d.model.transform.getValue=function(e,t,n){var r;return void 0!==e&&(r=d.get(n.source,d.model.composePaths(n.inputPrefix,e),n.resolverGetConfig)),void 0===r&&(r=d.isPrimitive(t)?t:"literalValue"in t?t.literalValue:void 0===t.transform?t:n.expand(t)),r},d.model.transform.NONDEFAULT_OUTPUT_PATH_RETURN={},d.model.transform.setValue=function(e,t,n){var r=d.copy(t),i=d.model.composePaths(n.outputPrefix,e);return void 0!==r&&n.applier.change(i,r),e?d.model.transform.NONDEFAULT_OUTPUT_PATH_RETURN:r},d.model.transform.resolveParam=function(e,t,n,r){var i=d.model.transform.getValue(e[n+"Path"],e[n],t);return void 0!==i?i:r},d.model.transform.matchValue=function(e,t,n){var r={changes:0,unchanged:0,changeMap:{}};return d.model.diff(e,t,r),0===r.unchanged?0:n?0xffffff000000-16777216*r.changes+r.unchanged:r.changes?0:0xffffff000000+r.unchanged},d.model.transform.invertPaths=function(e,t){var n=d.model.composePaths(t.outputPrefix,e.outputPath);return e.outputPath=d.model.composePaths(t.inputPrefix,e.inputPath),e.inputPath=n,e},d.model.transform.prefixApplier=function(e,t){e.inputPrefix&&t.inputPrefixOp.push(e.inputPrefix),e.outputPrefix&&t.outputPrefixOp.push(e.outputPrefix),t.expand(e.input),e.inputPrefix&&t.inputPrefixOp.pop(),e.outputPrefix&&t.outputPrefixOp.pop()},d.defaults("fluid.model.transform.prefixApplier",{gradeNames:["fluid.transformFunction"]}),d.model.makePathStack=function(n,r){var i=n[r+"Stack"]=[];return n[r]="",{push:function(e){var t=d.model.composePaths(n[r],e);i.push(n[r]),n[r]=t},pop:function(){n[r]=i.pop()}}},d.model.transform.doTransform=function(r,i,e){var t=e.defaults,n=d.getGlobalValue(e.typeName);"function"!=typeof n&&d.fail("Transformation record specifies transformation function with name "+r.type+" which is not a function - ",n),d.hasGrade(t,"fluid.transformFunction")||(t=d.defaults("fluid.standardTransformFunction"));var o=[r,i];if(d.hasGrade(t,"fluid.multiInputTransformFunction")){var a={};d.each(t.inputVariables,function(t,n){a[n]=function(){var e=d.model.transform.getValue(r[n+"Path"],r[n],i);return void 0===e&&null!==t?t:e}}),o.unshift(a)}if(d.hasGrade(t,"fluid.standardInputTransformFunction")){"input"in r||"inputPath"in r||d.fail('Error in transform specification. Either "input" or "inputPath" must be specified for a standardInputTransformFunction: received ',r);var s=d.model.transform.getValue(r.inputPath,r.input,i);if(o.unshift(s),void 0===s)return}var l=n.apply(null,o);d.hasGrade(t,"fluid.standardOutputTransformFunction")&&(void 0!==(void 0!==r.outputPath?r.outputPath:e.doOutput?"":void 0)&&void 0!==l&&(d.model.transform.setValue(r.outputPath,l,i),l=void 0));return l};var n=[];d.registerNamespace("fluid.pathUtil"),d.pathUtil.getPathSegment=function(e,t){return d.pathUtil.getPathSegmentImpl(n,e,t),n[0]},d.pathUtil.getHeadPath=function(e){return d.pathUtil.getPathSegment(e,0)},d.pathUtil.getFromHeadPath=function(e){var t=d.pathUtil.getPathSegmentImpl(null,e,0);return t===e.length?"":e.substring(t+1)},d.pathUtil.matchPath=function(e,t,n){for(var r=[];;){if(""===t^""===e&&n)return null;if(!e||!t)break;var i=d.pathUtil.getHeadPath(e),o=d.pathUtil.getHeadPath(t);if("*"!==i&&i!==o)return null;r.push(o),e=d.pathUtil.getFromHeadPath(e),t=d.pathUtil.getFromHeadPath(t)}return r},d.model.transform.expandWildcards=function(s,e){d.each(e,function(e,t){var n=s.queuedTransforms;s.pathOp.push(d.pathUtil.escapeSegment(t.toString()));for(var r=0;r<n.length;++r)if(d.pathUtil.matchPath(n[r].matchPath,s.path,!0)){var i=d.copy(n[r].transformSpec);(void 0===i.inputPath||d.model.transform.hasWildcard(i.inputPath))&&(i.inputPath=""),s.inputPrefixOp.push(s.path),s.outputPrefixOp.push(s.path);var o=d.model.transform.lookupType(i.type),a=d.model.transform.doTransform(i,s,o);void 0!==a&&d.model.transform.setValue(null,a,s),s.outputPrefixOp.pop(),s.inputPrefixOp.pop()}d.isPrimitive(e)||d.model.transform.expandWildcards(s,e),s.pathOp.pop()})},d.model.transform.hasWildcard=function(e){return"string"==typeof e&&-1!==e.indexOf("*")},d.model.transform.maybePushWildcard=function(e,t){var n,r=d.model.transform.hasWildcard;return r(e.inputPath)?n=d.model.composePaths(t.inputPrefix,e.inputPath):(r(t.outputPrefix)||r(e.outputPath))&&(n=d.model.composePaths(t.outputPrefix,e.outputPath)),!!n&&(t.queuedTransforms.push({transformSpec:e,outputPrefix:t.outputPrefix,inputPrefix:t.inputPrefix,matchPath:n}),!0)},d.model.sortByKeyLength=function(e){return d.keys(e).sort(d.compareStringLength(!0))},d.model.transform.handleTransformStrategy=function(e,t,n){return d.model.transform.maybePushWildcard(e,t)?void 0:d.model.transform.doTransform(e,t,n)},d.model.transform.handleInvertStrategy=function(e,t,n){e=d.copy(e),d.hasGrade(n.defaults,"fluid.standardTransformFunction")&&(e=d.model.transform.invertPaths(e,t));var r=n.defaults&&n.defaults.invertConfiguration;if(r){var i=d.invokeGlobalFunction(r,[e,t]);t.inverted.push(i)}},d.model.transform.handleCollectStrategy=function(e,t,n){var r=n.defaults,i=d.hasGrade(r,"fluid.standardInputTransformFunction"),o=d.hasGrade(r,"fluid.multiInputTransformFunction");if(i&&d.model.transform.accumulateStandardInputPath("input",e,t,t.inputPaths),o&&d.model.transform.accumulateMultiInputPaths(r.inputVariables,e,t,t.inputPaths),!o&&!i){var a=r.collectInputPaths;if(a){var s=d.makeArray(d.invokeGlobalFunction(a,[e,t]));t.inputPaths=t.inputPaths.concat(s)}}},d.model.transform.lookupType=function(e,t){return e||d.fail("Transformation record is missing a type name: ",t),-1===e.indexOf(".")&&(e="fluid.transforms."+e),{defaults:d.defaults(e),typeName:e}},d.model.transform.processRule=function(e,r){var t,n,i;if("string"==typeof e?e=d.model.transform.pathToRule(e):void 0!==e.literalValue&&(e=d.model.transform.literalValueToRule(e.literalValue)),e.transform)if(d.isArrayable(e.transform)){var o=e.transform;t=void 0;for(var a=0;a<o.length;++a)n=o[a],i=d.model.transform.lookupType(n.type),r.transformHandler(n,r,i)}else n=e.transform,i=d.model.transform.lookupType(n.type),t=r.transformHandler(n,r,i);return d.isArrayable(e)&&(r.collectedFlatSchemaOpts=r.collectedFlatSchemaOpts||{},r.collectedFlatSchemaOpts[r.outputPrefix]="array"),d.each(e,function(e,t){if("transform"!==t){r.outputPrefixOp.push(t);var n=r.expand(e,r);void 0!==n&&(d.model.transform.setValue(null,n,r),n=void 0),r.outputPrefixOp.pop()}}),t},d.model.transform.makeStrategy=function(t,e,n){n=n||d.model.transform.processRule,t.expand=function(e){return n(e,t)},t.outputPrefixOp=d.model.makePathStack(t,"outputPrefix"),t.inputPrefixOp=d.model.makePathStack(t,"inputPrefix"),t.transformHandler=e},d.model.transform.invertConfiguration=function(e){var t={inverted:[]};return d.model.transform.makeStrategy(t,d.model.transform.handleInvertStrategy),t.expand(e),{transform:t.inverted}},d.model.transform.collectInputPaths=function(e){var t={inputPaths:[]};return d.model.transform.makeStrategy(t,d.model.transform.handleCollectStrategy),t.expand(e),t.inputPaths},d.model.transform.flatSchemaStrategy=function(s,l){var u=d.model.sortByKeyLength(s);return function(e,t,n,r){for(var i=l.parser.compose.apply(null,r.slice(0,n)),o=0;o<u.length;++o){var a=u[o];if(null!==d.pathUtil.matchPath(a,i,!0))return s[a]}}},d.model.transform.defaultSchemaValue=function(e){return"array"===(d.isPrimitive(e)?e:e.type)?[]:{}},d.model.transform.isomorphicSchemaStrategy=function(o,a){return function(e,t,n,r){var i=d.get(o,r.slice(0,n),a);return d.isArrayable(i)?"array":"object"}},d.model.transform.decodeStrategy=function(e,t,n){return t.isomorphic?d.model.transform.isomorphicSchemaStrategy(e,n):t.flatSchema?d.model.transform.flatSchemaStrategy(t.flatSchema,n):void 0},d.model.transform.schemaToCreatorStrategy=function(o){return function(e,t,n,r){if(void 0===e[t]){var i=o(e,t,n,r);return e[t]=d.model.transform.defaultSchemaValue(i),e[t]}}},d.model.transform.sequence=function(e,t,n){for(var r=0;r<t.length;++r)e=d.model.transform(e,t[r],n);return e},d.model.compareByPathLength=function(e,t){var n=e.path.length-t.path.length;return 0===n?e.sequence-t.sequence:n},d.model.fireSortedChanges=function(e,t){e.sort(d.model.compareByPathLength),d.fireChanges(t,e)},d.model.transformWithRules=function(e,t,n){n=n||{};var r=d.model.escapedGetConfig,i=d.model.escapedSetConfig,o=d.model.transform.decodeStrategy(e,n,r),a={source:e,target:{model:o?d.model.transform.defaultSchemaValue(o(null,"",0,[""])):{}},resolverGetConfig:r,resolverSetConfig:i,collectedFlatSchemaOpts:void 0,queuedChanges:[],queuedTransforms:[]};d.model.transform.makeStrategy(a,d.model.transform.handleTransformStrategy),a.applier={fireChangeRequest:function(e){e.sequence=a.queuedChanges.length,a.queuedChanges.push(e)}},d.bindRequestChange(a.applier),a.expand(t);var s=d.copy(i);return void 0!==a.collectedFlatSchemaOpts&&(l.extend(a.collectedFlatSchemaOpts,n.flatSchema),o=d.model.transform.flatSchemaStrategy(a.collectedFlatSchemaOpts,r)),s.strategies=[d.model.defaultFetchStrategy,o?d.model.transform.schemaToCreatorStrategy(o):d.model.defaultCreatorStrategy],a.finalApplier=n.finalApplier||d.makeHolderChangeApplier(a.target,{resolverSetConfig:s}),0<a.queuedTransforms.length&&(a.typeStack=[],a.pathOp=d.model.makePathStack(a,"path"),d.model.transform.expandWildcards(a,e)),d.model.fireSortedChanges(a.queuedChanges,a.finalApplier),a.target.model},l.extend(d.model.transformWithRules,d.model.transform),d.model.transform=d.model.transformWithRules,d.transformOne=function(e){return{transformOptions:{transformer:"fluid.model.transformWithRules",config:e}}},d.transformMany=function(e){return{transformOptions:{transformer:"fluid.model.transform.sequence",config:e}}}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(l,u){"use strict";u.registerNamespace("fluid.model.transform"),u.registerNamespace("fluid.transforms"),u.defaults("fluid.transforms.value",{gradeNames:"fluid.standardTransformFunction",invertConfiguration:"fluid.identity"}),u.transforms.value=u.identity,u.transforms.identity=u.transforms.value,u.defaults("fluid.transforms.identity",{gradeNames:"fluid.transforms.value"}),u.transforms.invertToIdentity=function(e){return e.type="fluid.transforms.identity",e},u.defaults("fluid.transforms.literalValue",{gradeNames:"fluid.standardOutputTransformFunction"}),u.transforms.literalValue=function(e){return e.input},u.defaults("fluid.transforms.stringToNumber",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.stringToNumber.invert"}),u.transforms.stringToNumber=function(e){var t=Number(e);return isNaN(t)?void 0:t},u.transforms.stringToNumber.invert=function(e){return e.type="fluid.transforms.numberToString",e},u.defaults("fluid.transforms.numberToString",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.numberToString.invert"}),u.transforms.numberToString=function(e){return"number"!=typeof e?void 0:""+e},u.transforms.numberToString.invert=function(e){return e.type="fluid.transforms.stringToNumber",e},u.defaults("fluid.transforms.count",{gradeNames:"fluid.standardTransformFunction"}),u.transforms.count=function(e){return u.makeArray(e).length},u.defaults("fluid.transforms.round",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.invertToIdentity"}),u.transforms.round=function(e){return Math.round(e)},u.defaults("fluid.transforms.delete",{gradeNames:"fluid.transformFunction"}),u.transforms.delete=function(e,t){var n=u.model.composePaths(t.outputPrefix,e.outputPath);t.applier.change(n,null,"DELETE")},u.defaults("fluid.transforms.firstValue",{gradeNames:"fluid.standardOutputTransformFunction"}),u.transforms.firstValue=function(e,t){e.values&&e.values.length||u.fail('firstValue transformer requires an array of values at path named "values", supplied',e);for(var n=0;n<e.values.length;n++){var r=e.values[n],i=t.expand(r);if(void 0!==i)return i}},u.defaults("fluid.transforms.linearScale",{gradeNames:["fluid.multiInputTransformFunction","fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.linearScale.invert",inputVariables:{factor:1,offset:0}}),u.transforms.linearScale=function(e,t){var n=t.factor(),r=t.offset();if("number"==typeof e&&"number"==typeof n&&"number"==typeof r)return e*n+r},u.transforms.linearScale.invert=function(e){return delete e.factorPath,delete e.offsetPath,void 0!==e.factor&&(e.factor=0===e.factor?0:1/e.factor),void 0!==e.offset&&(e.offset=-e.offset*(void 0!==e.factor?e.factor:1)),e},u.defaults("fluid.transforms.binaryOp",{gradeNames:["fluid.multiInputTransformFunction","fluid.standardOutputTransformFunction"],inputVariables:{left:null,right:null}}),u.transforms.binaryLookup={"===":function(e,t){return u.model.isSameValue(e,t)},"!==":function(e,t){return!u.model.isSameValue(e,t)},"<=":function(e,t){return e<=t},"<":function(e,t){return e<t},">=":function(e,t){return t<=e},">":function(e,t){return t<e},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t}},u.transforms.binaryOp=function(e,t,n){var r=e.left(),i=e.right(),o=u.model.transform.getValue(void 0,t.operator,n),a=u.transforms.binaryLookup[o];return void 0===a||void 0===r||void 0===i?void 0:a(r,i)},u.defaults("fluid.transforms.condition",{gradeNames:["fluid.multiInputTransformFunction","fluid.standardOutputTransformFunction"],inputVariables:{true:null,false:null,condition:null}}),u.transforms.condition=function(e){var t=e.condition();if(null!==t)return e[t?"true":"false"]()},u.defaults("fluid.transforms.valueMapper",{gradeNames:["fluid.transformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.valueMapper.invert",collectInputPaths:"fluid.transforms.valueMapper.collect"}),u.model.transform.compareMatches=function(e,t){var n=t.matchValue-e.matchValue;return 0===n?e.index-t.index:n},u.transforms.valueMapper=function(e,t){e.match||u.fail('valueMapper requires an array or hash of matches at path named "match", supplied ',e);var n=u.model.transform.getValue(e.defaultInputPath,void 0,t),r=u.isArrayable(e.match)?u.transforms.valueMapper.longFormMatch(n,e,t):e.match[n];if(void 0===r&&(r=e.noMatch),void 0!==r){var i,o=void 0===r.outputPath?e.defaultOutputPath:r.outputPath;return t.outputPrefixOp.push(o),u.isPrimitive(r)?i=r:r.outputUndefinedValue?i=void 0:i=void 0===(i=u.model.transform.resolveParam(r,t,"outputValue",void 0))?e.defaultOutputValue:i,"string"==typeof o&&void 0!==i&&(u.model.transform.setValue(void 0,i,t,e.merge),i=void 0),t.outputPrefixOp.pop(),i}},u.transforms.valueMapper.longFormMatch=function(e,t,n){var r=t.match;0===r.length&&u.fail("valueMapper supplied empty list of matches: ",t);for(var i=[],o=0;o<r.length;++o){var a=r[o],s=a.inputPath?u.model.transform.getValue(a.inputPath,void 0,n):e,l=u.model.transform.matchValue(a.inputValue,s,a.partialMatches);i[o]={index:o,matchValue:l}}return i.sort(u.model.transform.compareMatches),i[0].matchValue<=0?void 0:r[i[0].index]},u.transforms.valueMapper.invert=function(i,o){var a=[],e={type:"fluid.transforms.valueMapper",match:a},s=u.isArrayable(i.match);e.defaultInputPath=u.model.composePaths(o.outputPrefix,i.defaultOutputPath),e.defaultOutputPath=u.model.composePaths(o.inputPrefix,i.defaultInputPath);var l=u.firstDefined;return u.each(i.match,function(e,t){if(!0!==e.outputUndefinedValue){var n={},r=l(s?e.inputValue:t,i.defaultInputValue);void 0===r&&u.fail("Failure inverting configuration for valueMapper - inputValue could not be resolved for record "+t+": ",i),n.outputValue=r,n.inputValue=!s&&u.isPrimitive(e)?e:l(e.outputValue,i.defaultOutputValue),e.outputPath&&(n.inputPath=u.model.composePaths(o.outputPrefix,l(e.outputPath,i.outputPath))),e.inputPath&&(n.outputPath=u.model.composePaths(o.inputPrefix,l(e.inputPath,i.inputPath))),a.push(n)}}),e},u.transforms.valueMapper.collect=function(e,t){var n=[];return u.model.transform.accumulateInputPath(e.defaultInputPath,t,n),u.each(e.match,function(e){u.model.transform.accumulateInputPath(e.inputPath,t,n)}),n},u.defaults("fluid.transforms.arrayToSetMembership",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.arrayToSetMembership.invert"}),u.transforms.arrayToSetMembership=function(r,i,o){var a={},e=i.options;return r&&u.isArrayable(r)||u.fail("arrayToSetMembership didn't find array at inputPath nor passed as value.",i),e||u.fail("arrayToSetMembership requires an options block set"),void 0===i.presentValue&&(i.presentValue=!0),void 0===i.missingValue&&(i.missingValue=!1),u.each(e,function(e,t){var n=-1!==r.indexOf(t)?i.presentValue:i.missingValue;u.set(a,e,n,o.resolverSetConfig)}),a},u.transforms.arrayToSetMembership.invertWithType=function(e,t,n){e.type=n;var r={};return u.each(e.options,function(e,t){r[e]=t}),e.options=r,e},u.transforms.arrayToSetMembership.invert=function(e,t){return u.transforms.arrayToSetMembership.invertWithType(e,t,"fluid.transforms.setMembershipToArray")},u.defaults("fluid.transforms.setMembershipToArray",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.setMembershipToArray.invert"}),u.transforms.setMembershipToArray=function(n,r,i){var e=r.options;e||u.fail("setMembershipToArray requires an options block specified"),void 0===r.presentValue&&(r.presentValue=!0),void 0===r.missingValue&&(r.missingValue=!1);var o=[];return u.each(e,function(e,t){u.get(n,t,i.resolverGetConfig)===r.presentValue&&o.push(e)}),o},u.transforms.setMembershipToArray.invert=function(e,t){return u.transforms.arrayToSetMembership.invertWithType(e,t,"fluid.transforms.arrayToSetMembership")},u.model.transform.applyPaths=function(e,t,n){for(var r=0;r<n.length;++r)"push"===e?t.push(n[r]):t.pop()},u.model.transform.expandInnerValues=function(e,t,n,r){var i=n.inputPrefixOp,o=n.outputPrefixOp,a=u.model.transform.applyPaths;a("push",i,e),a("push",o,t);var s={};return u.each(r,function(e){var t=n.expand(e);u.isPrimitive(t)?s=t:l.extend(!0,s,t)}),a("pop",o,t),a("pop",i,e),s},u.defaults("fluid.transforms.indexArrayByKey",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.indexArrayByKey.invert"}),u.transforms.indexArrayByKey=function(e,o,a){void 0===o.key&&u.fail("indexArrayByKey requires a 'key' option.",o),u.isArrayable(e)||u.fail("indexArrayByKey didn't find array at inputPath.",o);var s={},l=o.key;return u.each(e,function(e,t){var n=e[l],r=typeof n;"string"!==r&&"boolean"!==r&&"number"!==r&&u.fail("indexArrayByKey encountered untransformable array due to missing or invalid key",e);var i=u.copy(e);delete i[l],o.innerValue&&(i=u.model.transform.expandInnerValues([a.inputPrefix,o.inputPath,t.toString()],[o.outputPath,n],a,o.innerValue)),s[n]=i}),s},u.transforms.indexArrayByKey.invert=function(e){if(e.type="fluid.transforms.deindexIntoArrayByKey",e.innerValue)for(var t=e.innerValue,n=0;n<t.length;++n)t[n]=u.model.transform.invertConfiguration(t[n]);return e},u.defaults("fluid.transforms.deindexIntoArrayByKey",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.deindexIntoArrayByKey.invert"}),u.transforms.deindexIntoArrayByKey=function(e,r,i){void 0===r.key&&u.fail('deindexIntoArrayByKey requires a "key" option.',r);var o=[],a=r.key;return u.each(e,function(e,t){var n={};n[a]=t,r.innerValue&&(e=u.model.transform.expandInnerValues([r.inputPath,t],[r.outputPath,o.length.toString()],i,r.innerValue)),l.extend(!0,n,e),o.push(n)}),o},u.transforms.deindexIntoArrayByKey.invert=function(e){if(e.type="fluid.transforms.indexArrayByKey",e.innerValue)for(var t=e.innerValue,n=0;n<t.length;++n)t[n]=u.model.transform.invertConfiguration(t[n]);return e},u.defaults("fluid.transforms.limitRange",{gradeNames:"fluid.standardTransformFunction"}),u.transforms.limitRange=function(e,t){var n=t.min;void 0!==n&&(e<(n+=t.excludeMin||0)&&(e=n));var r=t.max;void 0!==r&&((r-=t.excludeMax||0)<e&&(e=r));return e},u.defaults("fluid.transforms.indexOf",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.indexOf.invert"}),u.transforms.indexOf=function(e,t){"number"==typeof t.notFound&&0<=t.notFound&&u.fail("A positive number is not allowed as 'notFound' value for indexOf");var n=u.transforms.parseIndexationOffset(t.offset,"indexOf"),r=u.makeArray(t.array).indexOf(e);return-1===r&&t.notFound?t.notFound:r+n},u.transforms.indexOf.invert=function(e,t){var n=u.transforms.invertArrayIndexation(e,t);return n.type="fluid.transforms.dereference",n},u.defaults("fluid.transforms.dereference",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.dereference.invert"}),u.transforms.dereference=function(e,t){if("number"==typeof e){var n=u.transforms.parseIndexationOffset(t.offset,"dereference");return u.makeArray(t.array)[e+n]}},u.transforms.dereference.invert=function(e,t){var n=u.transforms.invertArrayIndexation(e,t);return n.type="fluid.transforms.indexOf",n},u.transforms.parseIndexationOffset=function(e,t){var n=0;return void 0!==e&&(n=u.parseInteger(e),isNaN(n)&&u.fail(t+' requires the value of "offset" to be an integer or a string that can be converted to an integer. '+e+" is invalid.")),n},u.transforms.invertArrayIndexation=function(e){return isNaN(Number(e.offset))||(e.offset=-1*Number(e.offset)),e},u.defaults("fluid.transforms.stringTemplate",{gradeNames:"fluid.standardOutputTransformFunction"}),u.transforms.stringTemplate=function(e){return u.stringTemplate(e.template,e.terms)},u.defaults("fluid.transforms.free",{gradeNames:"fluid.transformFunction"}),u.transforms.free=function(e){var t=u.makeArray(e.args);return u.invokeGlobalFunction(e.func,t)},u.defaults("fluid.transforms.quantize",{gradeNames:"fluid.standardTransformFunction"}),u.transforms.quantize=function(e,t,n){t.ranges&&t.ranges.length||u.fail("fluid.transforms.quantize should have a key called ranges containing an array defining ranges to quantize");for(var r=0;r<t.ranges.length;r++){var i=t.ranges[r];if(e<=i.upperBound||void 0===i.upperBound&&e>=Number.NEGATIVE_INFINITY)return u.isPrimitive(i.output)?i.output:n.expand(i.output)}},u.defaults("fluid.transforms.inRange",{gradeNames:"fluid.standardTransformFunction"}),u.transforms.inRange=function(e,t){return(void 0===t.min||t.min<=e)&&(void 0===t.max||t.max>=e)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(c,p){"use strict";p.thatistBridge=function(e,s){var t=function(e){for(var t=e.split("."),n=s,r=0;r<t.length;++r)n=n[t[r]];var i=[this];2===arguments.length&&(i=i.concat(c.makeArray(arguments[1])));var o=n.apply(null,i);this.that=function(){return o};var a=typeof o;return!o||"string"===a||"number"===a||"boolean"===a||o&&void 0!==o.length?o:this};return c.fn[e]=t},p.thatistBridge("fluid",p),p.thatistBridge("fluid_2_0_0",fluid_2_0_0);var r=function(){return c.browser.msie?"tabIndex":"tabindex"},i=function(e){return!(e.length<=0)&&c(e[0]).is("a, input, button, select, area, textarea, object")};p.tabindex=function(e,t){return e=c(e),null!=t?(n=t,e.each(function(e,t){c(t).attr(r(),n)})):function(e){if(!(e.length<=0)){if(!p.tabindex.hasAttr(e))return i(e)?Number(0):void 0;var t=e.attr(r());return Number(t)}}(e);var n},p.tabindex.remove=function(e){return(e=c(e)).each(function(e,t){c(t).removeAttr(r())})},p.tabindex.hasAttr=function(e){if((e=c(e)).length<=0)return!1;var t=e.map(function(){var e=this.getAttributeNode(r());return!!e&&e.specified});return 1===t.length?t[0]:t},p.tabindex.has=function(e){return e=c(e),p.tabindex.hasAttr(e)||i(e)},p.a11y=c.a11y||{},p.a11y.orientation={HORIZONTAL:0,VERTICAL:1,BOTH:2};var f={next:c.ui.keyCode.DOWN,previous:c.ui.keyCode.UP},h={next:c.ui.keyCode.RIGHT,previous:c.ui.keyCode.LEFT};p.tabbable=function(e){e=c(e),e.each(function(e,t){(!(t=c(t)).fluid("tabindex.has")||t.fluid("tabindex")<0)&&t.fluid("tabindex",0)})};var m="selectionContext",g=-32768,v=function(e,t){var n,r;n=e,(r=t.options.onUnselect)&&n&&r(n)},y=function(e,t){var n;v(t.selectedElement(),t),e=(n=e).jquery?n[0]:n;var r,i,o=t.selectables.index(e);-1!==o&&(t.activeItemIndex=o,r=e,(i=t.options.onSelect)&&i(r))},b=function(e){var t=e.selectables;e.activeItemIndex>=t.length&&(e.activeItemIndex=e.options.noWrap?t.length-1:0),e.activeItemIndex<0&&e.activeItemIndex!==g&&(e.activeItemIndex=e.options.noWrap?0:t.length-1),0<=e.activeItemIndex&&p.focus(t[e.activeItemIndex])},t=function(e){var t=e.selectedElement();t&&p.blur(t),v(e.selectedElement(),e),e.activeItemIndex===g&&(e.activeItemIndex=-1)},o=function(e){t(e),++e.activeItemIndex,b(e)},a=function(e){t(e),--e.activeItemIndex,b(e)},x=function(t,n){return function(e){e.which===n.next?(o(t),e.preventDefault()):e.which===n.previous&&(a(t),e.preventDefault())}},C=function(n){return function(e){var t;e.which===c.ui.keyCode.TAB&&((t=n).activeItemIndex!==g&&(t.options.onLeaveContainer?t.options.onLeaveContainer(t.selectables[t.activeItemIndex]):t.options.onUnselect&&t.options.onUnselect(t.selectables[t.activeItemIndex])),t.options.rememberSelectionState||(t.activeItemIndex=g),e.shiftKey&&(n.focusIsLeavingContainer=!0))}},s=function(e,t,n){var r,i,o,a,s=c.extend(!0,{},t,n),l=((r=s.direction)===p.a11y.orientation.HORIZONTAL?i=h:r===p.a11y.orientation.VERTICAL&&(i=f),i),u=s.selectableElements?s.selectableElements:e.find(s.selectableSelector),d={container:e,activeItemIndex:g,selectables:u,focusIsLeavingContainer:!1,options:s};return d.selectablesUpdated=function(e){var t,n;"number"==typeof d.options.selectablesTabindex&&d.selectables.fluid("tabindex",d.options.selectablesTabindex),d.selectables.off("focus."+m),d.selectables.off("blur."+m),d.selectables.on("focus."+m,(n=d,function(e){return c(e.target).fluid("tabindex",0),y(e.target,n),e.stopPropagation()})),d.selectables.on("blur."+m,(t=d,function(e){return c(e.target).fluid("tabindex",t.options.selectablesTabindex),v(e.target,t),e.stopPropagation()})),l&&d.options.noBubbleListeners&&(d.selectables.off("keydown."+m),d.selectables.on("keydown."+m,x(d,l))),e?y(e,d):b(d)},d.refresh=function(){d.options.selectableSelector||p.fail("Cannot refresh selectable context which was not initialised by a selector"),d.selectables=e.find(s.selectableSelector),d.selectablesUpdated()},d.selectedElement=function(){return d.activeItemIndex<0?null:d.selectables[d.activeItemIndex]},l&&!d.options.noBubbleListeners&&e.keydown(x(d,l)),e.keydown(C(d)),e.focus((a=d,function(e){var t=a.options.autoSelectFirstItem,n="function"==typeof t?t():t;return a.focusIsLeavingContainer&&(n=!1),n&&e.target===a.container.get(0)&&(a.activeItemIndex===g&&(a.activeItemIndex=0),p.focus(a.selectables[a.activeItemIndex])),e.stopPropagation()})),e.blur((o=d,function(e){return o.focusIsLeavingContainer=!1,e.stopPropagation()})),d.selectablesUpdated(),d};p.selectable=function(e,t){e=c(e);var n=s(e,p.selectable.defaults,t);return p.setScopedData(e,m,n),n},p.selectable.select=function(e,t){p.focus(t)},p.selectable.selectNext=function(e){e=c(e),o(p.getScopedData(e,m))},p.selectable.selectPrevious=function(e){e=c(e),a(p.getScopedData(e,m))},p.selectable.currentSelection=function(e){e=c(e);var t=p.getScopedData(e,m);return c(t.selectedElement())},p.selectable.defaults={direction:p.a11y.orientation.VERTICAL,selectablesTabindex:-1,autoSelectFirstItem:!0,rememberSelectionState:!0,selectableSelector:".selectable",selectableElements:null,onSelect:null,onUnselect:null,onLeaveContainer:null,noWrap:!1};var l=function(r){return function(e){var t=e.target;if(p.enabled(t)&&((e.which?e.which:e.keyCode)===r.key&&r.activateHandler&&function(e,t){if(!e.modifier)return!0;var n=e.modifier,r=n&&t.ctrlKey,i=n&&t.altKey,o=n&&t.shiftKey;return r||i||o}(r,e))){var n=c.Event("fluid-activate");c(t).trigger(n,[r.activateHandler]),n.isDefaultPrevented()&&e.preventDefault()}}};p.activatable=function(e,t,n){(function(e,n,t,r){var i=[];c(t).each(function(e,t){i.push({modifier:null,key:t,activateHandler:n})}),r&&r.additionalBindings&&(i=i.concat(r.additionalBindings)),p.initEnablement(e);for(var o=0;o<i.length;++o){var a=i[o];e.keydown(l(a))}e.on("fluid-activate",function(e,t){return(t=t||n)?t(e):null})})(e=c(e),t,p.activatable.defaults.keys,n)},p.activate=function(e){c(e).trigger("fluid-activate")},p.activatable.defaults={keys:[c.ui.keyCode.ENTER,c.ui.keyCode.SPACE]}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(f,h){"use strict";h.defaults("fluid.viewComponent",{gradeNames:["fluid.modelComponent"],initFunction:"fluid.initView",argumentMap:{container:0,options:1},members:{dom:"@expand:fluid.initDomBinder({that}, {that}.options.selectors)"}}),h.dumpSelector=function(e){return"string"==typeof e?e:e.selector?e.selector:""},h.diagnoseFailedView=function(e,t,n,r){if(!t&&h.hasGrade(n,"fluid.viewComponent")){var i=h.wrap(r[1]),o="Instantiation of view component with type "+e+" failed, since ";i?0===i.length?h.fail(o+'selector "',h.dumpSelector(r[1]),'" did not match any markup in the document'):h.fail(o+" component creator function did not return a value"):h.fail(o+" container argument is empty")}},h.checkTryCatchParameter=function(){var e=(window.location||{search:"",protocol:"file:"}).search.slice(1).split("&");return!0===h.find(e,function(e){if(0===e.indexOf("notrycatch"))return!0})},h.notrycatch=h.checkTryCatchParameter(),h.wrap=function(e,t){return t=t||f,!e||e.jquery?e:t(e)},h.unwrap=function(e){return e&&e.jquery?e[0]:e},h.container=function(e,t,n){var r=e.selector||e;n&&(e=h.unwrap(e));var i=h.wrap(e,n);if(t&&(!i||0===i.length))return null;if(!i||!i.jquery||1!==i.length){"string"!=typeof e&&(e=i.selector);var o=void 0!==i.length?i.length:0;h.fail((1<o?"More than one ("+o+") container elements were":"No container element was")+" found for selector "+e)}return h.isDOMNode(i[0])||h.fail("fluid.container was supplied a non-jQueryable element"),i.selector=r,i.context=i.context||e.ownerDocument||document,i},h.createDomBinder=function(l,u){function d(e,t){return h.allocateSimpleId(t)+"-"+e}var c={id:h.allocateGuid(),cache:{}},p=l.constructor;return c.locate=function(e,t){var n,r,i,o,a,s;return n=u[e],(r=t?f(t):l)||h.fail("DOM binder invoked for selector "+e+" without container"),(i=""===n?r:n?"function"==typeof n?p(n.call(null,h.unwrap(r))):p(n,r):p()).selector||(i.selector=n,i.context=r),i.selectorName=e,o=e,a=r,s=i,c.cache[d(o,a)]=s,i},c.fastLocate=function(e,t){var n=d(e,t||l),r=c.cache[n];return r||c.locate(e,t)},c.clear=function(){c.cache={}},c.refresh=function(e,t){var n=t||l;"string"==typeof e&&(e=[e]),void 0===n.length&&(n=[n]);for(var r=0;r<e.length;++r)for(var i=0;i<n.length;++i)c.locate(e[r],n[i])},c.resolvePathSegment=c.locate,c},h.expectFilledSelector=function(e,t){e&&0===e.length&&e.jquery&&h.fail(t+': selector "'+e.selector+'" with name '+e.selectorName+" returned no results in context "+h.dumpEl(e.context))},h.initView=function(e,t,n,r){var i=h.container(t,!0);if(h.expectFilledSelector(i,'Error instantiating component with name "'+e),!i)return null;var o=h.initLittleComponent(e,n,r||{gradeNames:["fluid.viewComponent"]},function(e){e.container=i});o.dom||h.initDomBinder(o);var a=o.options.jQuery;return h.log("Constructing view component "+e+" with container "+i.constructor.expando+(a?" user jQuery "+a.expando:"")+" env: "+f.expando),o},h.initDomBinder=function(e,t){return e.container||h.fail("fluid.initDomBinder called for component with typeName "+e.typeName+' without an initialised container - this has probably resulted from placing "fluid.viewComponent" in incorrect position in grade merging order.  Make sure to place it to the right of any non-view grades in the gradeNames list to ensure that it overrides properly: resolved gradeNames is ',e.options.gradeNames," for component ",e),e.dom=h.createDomBinder(e.container,t||e.options.selectors||{}),e.locate=e.dom.locate,e.dom},h.findAncestor=function(e,t){for(e=h.unwrap(e);e;){if(t(e))return e;e=e.parentNode}},h.findForm=function(e){return h.findAncestor(e,function(e){return"form"===e.nodeName.toLowerCase()})},h.each(["text","html"],function(n){h[n]=function(e,t){return e=f(e),void 0===t?e[n]():e[n](t)}}),h.value=function(e,t){var n=h.unwrap(e),r=!1;if(void 0===n.nodeType&&1<n.length&&(n=n[0],r=!0),"input"!==n.nodeName.toLowerCase()||!/radio|checkbox/.test(n.type))return void 0===t?f(n).val():f(n).val(t);var i,o=n.name;if(void 0===o&&h.fail("Cannot acquire value from node "+h.dumpEl(n)+" which does not have name attribute set"),r)i=e;else{i=n.ownerDocument.getElementsByName(o);var a=h.findForm(n);i=f.grep(i,function(e){return e.name===o&&(!a||h.dom.isContainer(a,e))})}if(void 0===t){var s=f.map(i,function(e){return e.checked?e.value:null});return"radio"===n.type?s[0]:s}"boolean"==typeof t&&(t=t?"true":"false"),f.each(i,function(){this.checked=t instanceof Array?-1!==t.indexOf(this.value):t===this.value})},h.BINDING_ROOT_KEY="fluid-binding-root",h.findData=function(e,t){for(;e;){var n=f.data(e,t);if(n)return n;e=e.parentNode}},h.bindFossils=function(e,t,n){f.data(e,h.BINDING_ROOT_KEY,{data:t,fossils:n})},h.boundPathForNode=function(e,t){var n=t[(e=h.unwrap(e)).name||e.id];return n?n.EL:null},h.applyBoundChange=function(e,t,n){e=h.unwrap(e),void 0===t&&(t=h.value(e)),void 0===e.nodeType&&0<e.length&&(e=e[0]);var r=h.findData(e,h.BINDING_ROOT_KEY);r||h.fail("Bound data could not be discovered in any node above "+h.dumpEl(e));var i=e.name,o=r.fossils[i];o||h.fail("No fossil discovered for name "+i+" in fossil record above "+h.dumpEl(e)),"boolean"==typeof o.oldvalue&&(t=!!t[0]);var a=r.fossils[i].EL;n?n.fireChangeRequest({path:a,value:t,source:"DOM:"+e.id}):h.set(r.data,a,t)},h.jById=function(e,t){t=t&&9===t.nodeType?t:document;var n=h.byId(e,t),r=n?f(n):[];return r.selector="#"+e,r.context=t,r},h.byId=function(e,t){var n=(t=t&&9===t.nodeType?t:document).getElementById(e);return n?(n.id!==e&&h.fail("Problem in document structure - picked up element "+h.dumpEl(n)+" for id "+e+" without this id - most likely the element has a name which conflicts with this id"),n):null},h.getId=function(e){return h.unwrap(e).id},h.allocateSimpleId=function(e){if(!(e=h.unwrap(e))||h.isPrimitive(e))return null;if(!e.id){var t="fluid-id-"+h.allocateGuid();e.id=t}return e.id},h.getDocument=function(e){var t=h.unwrap(e);return 9===t.nodeType?t:t.ownerDocument},h.defaults("fluid.ariaLabeller",{gradeNames:["fluid.viewComponent"],labelAttribute:"aria-label",liveRegionMarkup:'<div class="liveRegion fl-hidden-accessible" aria-live="polite"></div>',liveRegionId:"fluid-ariaLabeller-liveRegion",invokers:{generateLiveElement:{funcName:"fluid.ariaLabeller.generateLiveElement",args:"{that}"},update:{funcName:"fluid.ariaLabeller.update",args:["{that}","{arguments}.0"]}},listeners:{onCreate:{func:"{that}.update",args:[null]}}}),h.ariaLabeller.update=function(e,t){if(t=t||e.options,e.container.attr(e.options.labelAttribute,t.text),t.dynamicLabel){var n=h.jById(e.options.liveRegionId);0===n.length&&(n=e.generateLiveElement()),n.text(t.text)}},h.ariaLabeller.generateLiveElement=function(e){var t=f(e.options.liveRegionMarkup);return t.prop("id",e.options.liveRegionId),f("body").append(t),t};var i="aria-labelling";h.getAriaLabeller=function(e){return e=f(e),h.getScopedData(e,i)},h.updateAriaLabel=function(e,t,n){n=f.extend({},n||{},{text:t});var r=h.getAriaLabeller(e);return r?r.update(n):(r=h.ariaLabeller(e,n),h.setScopedData(e,i,r)),r};var r={};f(document).click(function(n){for(var e=h.resolveEventTarget(n);e;){if(r[e.id])return;e=e.parentNode}h.each(r,function(e,t){e(n),delete r[t]})}),h.globalDismissal=function(e,n){h.each(e,function(e){var t=h.unwrap(e).ownerDocument===document?h.allocateSimpleId(e):h.allocateGuid();n?r[t]=n:delete r[t]})},h.now=function(){return Date.now?Date.now():(new Date).getTime()},h.deadMansBlur=function(n,e){var r={options:f.extend(!0,{},h.defaults("fluid.deadMansBlur"),e),blurPending:!1,lastCancel:0,canceller:function(e){h.log("Cancellation through "+e.type+" on "+h.dumpEl(e.target)),r.lastCancel=h.now(),r.blurPending=!1},noteProceeded:function(){h.globalDismissal(r.options.exclusions)},reArm:function(){h.globalDismissal(r.options.exclusions,r.proceed)},addExclusion:function(e){h.globalDismissal(e,r.proceed)},proceed:function(e){h.log("Direct proceed through "+e.type+" on "+h.dumpEl(e.target)),r.blurPending=!1,r.options.handler(n)}};return h.each(r.options.exclusions,function(e){e=f(e),h.each(e,function(e){f(e).on("focusin",r.canceller).on("fluid-focus",r.canceller).click(r.canceller).mousedown(r.canceller)})}),r.options.cancelByDefault?r.reArm():f(n).on("focusout",function(e){h.log("Starting blur timer for element "+h.dumpEl(e.target));var t=h.now();h.log("back delay: "+(t-r.lastCancel)),t-r.lastCancel>r.options.backDelay&&(r.blurPending=!0),setTimeout(function(){r.blurPending&&r.options.handler(n)},r.options.delay)}),r},h.defaults("fluid.deadMansBlur",{gradeNames:"fluid.function",delay:150,backDelay:100})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(s,l){"use strict";function u(e){return e}l.explodeLocalisedName=function(e,t,n){var r=e.lastIndexOf(".");-1!==r&&0!==r||(r=e.length);var i=e.substring(0,r),o=e.substring(r),a=t.split("_"),s=l.transform(a,function(e,t){var n=a.slice(0,t+1);return i+"_"+n.join("_")+o});return n&&s.unshift(i+"_"+n+o),s};var d={},c={};l.fetchResources=function(e,t,n){var r={options:l.copy(n||{})};return r.resourceSpecs=e,r.callback=t,r.operate=function(){l.fetchResources.fetchResourcesImpl(r)},l.each(e,function(e,t){e.recurseFirer=l.makeEventFirer({name:'I/O completion for resource "'+t+'"'}),e.recurseFirer.addListener(r.operate),e.url&&!e.href&&(e.href=e.url),r.options.defaultLocale&&(e.defaultLocale=r.options.defaultLocale,void 0===e.locale&&(e.locale=r.options.defaultLocale))}),r.options.amalgamateClasses&&l.fetchResources.amalgamateClasses(e,r.options.amalgamateClasses,r.operate),l.fetchResources.explodeForLocales(e),r.operate(),r},l.fetchResources.explodeForLocales=function(a){return l.each(a,function(e,t){if(e.locale){for(var n=l.explodeLocalisedName(e.href,e.locale,e.defaultLocale),r=0;r<n.length;++r){var i=t+"$localised-"+r,o=s.extend(!0,{},e,{href:n[r],localeExploded:!0});a[i]=o}e.localeExploded=n.length}}),a},l.fetchResources.condenseOneResource=function(e,t,n,r){for(var i=[t],o=0;o<r;++o){var a=n+"$localised-"+o;i.unshift(e[a]),delete e[a]}var s=l.find_if(i,function(e){return!e.fetchError});s&&(e[n]=s)},l.fetchResources.condenseForLocales=function(n){l.each(n,function(e,t){"number"==typeof e.localeExploded&&l.fetchResources.condenseOneResource(n,e,t,e.localeExploded)})},l.fetchResources.notifyResources=function(e,t,n){l.fetchResources.condenseForLocales(t),n(t)},l.fetchResources.amalgamateClasses=function(r,e,i){l.each(e,function(n){var e=c[n];l.each(e,function(e,t){(r[n+"!"+t]=e).recurseFirer.addListener(i)})})},l.fetchResources.timeSuccessCallback=function(n){if(n.timeSuccess&&n.options&&n.options.success){var r=n.options.success;n.options.success=function(){var e=new Date,t=r.apply(null,arguments);return l.log("External callback for URL "+n.href+" completed - callback time: "+((new Date).getTime()-e.getTime())+"ms"),t}}},l.fetchResources.clearResourceCache=function(e){e?delete d[u(e)]:l.clear(d)},l.fetchResources.handleCachedRequest=function(e,t,n){var r=u(e.href),i=d[r];if(i.$$firer$$){l.log("Handling request for "+r+" from cache");var o=e.fetchClass;o&&c[o]&&(l.log("Clearing pendingClass entry for class "+o),delete c[o][r]);var a={response:t,fetchError:n};d[r]=a,i.fire(t,n)}},l.fetchResources.completeRequest=function(e){e.queued=!1,e.completeTime=new Date,l.log("Request to URL "+e.href+" completed - total elapsed time: "+(e.completeTime.getTime()-e.initTime.getTime())+"ms"),e.recurseFirer.fire()},l.fetchResources.makeResourceCallback=function(r){return{success:function(e){r.resourceText=e,r.resourceKey=r.href,r.forceCache&&l.fetchResources.handleCachedRequest(r,e),l.fetchResources.completeRequest(r)},error:function(e,t,n){r.fetchError={status:e.status,textStatus:e.textStatus,errorThrown:n},r.forceCache&&l.fetchResources.handleCachedRequest(r,null,r.fetchError),l.fetchResources.completeRequest(r)}}},l.fetchResources.issueCachedRequest=function(e,n){var t=u(e.href),r=d[t];if(r)r.$$firer$$?(l.log("Request for cached resource which is in flight: url "+t),r.addListener(function(e,t){e?n.success(e):n.error(t)})):r.response?n.success(r.response):n.error(r.fetchError);else{l.log("First request for cached resource with url "+t),(r=l.makeEventFirer({name:"cache notifier for resource URL "+t})).$$firer$$=!0,d[t]=r;var i=e.fetchClass;i&&(c[i]||(c[i]={}),c[i][t]=e),n.cache=!1,s.ajax(n)}},l.fetchResources.composeCallbacks=function(e,t){return t?e?function(){try{t.apply(null,arguments)}catch(e){l.log("Exception applying external fetchResources callback: "+e)}e.apply(null,arguments)}:t:e},l.fetchResources.composePolicy=function(e,t){return l.fetchResources.composeCallbacks(e,t)},l.defaults("fluid.fetchResources.issueRequest",{mergePolicy:{success:l.fetchResources.composePolicy,error:l.fetchResources.composePolicy,url:"reverse"}}),l.fetchResources.issueRequest=function(e,t){var n=l.fetchResources.makeResourceCallback(e),r={url:e.href,success:n.success,error:n.error,dataType:e.dataType||"text"};l.fetchResources.timeSuccessCallback(e),r=l.merge(l.defaults("fluid.fetchResources.issueRequest").mergePolicy,r,e.options),e.queued=!0,e.initTime=new Date,l.log("Request with key "+t+" queued for "+e.href),e.forceCache?l.fetchResources.issueCachedRequest(e,r):s.ajax(r)},l.fetchResources.fetchResourcesImpl=function(e){var t=!0,n=!0,r=e.resourceSpecs;for(var i in r){var o=r[i];if(o.options&&!o.options.async||(n=!1),o.href&&!o.completeTime)o.queued||l.fetchResources.issueRequest(o,i),o.queued&&(t=!1);else if(o.nodeId&&!o.resourceText){var a=document.getElementById(o.nodeId);o.resourceText=l.dom.getElementText(a),o.resourceKey=o.nodeId}}t&&e.callback&&!e.callbackCalled&&(e.callbackCalled=!0,s.browser.mozilla&&!n?setTimeout(function(){l.fetchResources.notifyResources(e,r,e.callback)},1):l.fetchResources.notifyResources(e,r,e.callback))},l.fetchResources.primeCacheFromResources=function(e){var t=l.defaults(e).resources,n=(l.expandOptions?l.expandOptions:l.identity)(l.copy(t));l.fetchResources(n)},l.registerNamespace("fluid.expander"),l.expander.makeDefaultFetchOptions=function(r,n,e){return s.extend(!0,{dataType:"text"},e,{success:function(e,t){var n=JSON.parse(e);t(r(n))},error:function(e,t){l.log("Error fetching "+n+": "+t)}})},l.expander.makeFetchExpander=function(e){return{expander:{type:"fluid.expander.deferredFetcher",href:e.url,options:l.expander.makeDefaultFetchOptions(e.disposer,e.url,e.options),resourceSpecCollector:"{resourceSpecCollector}",fetchKey:e.fetchKey}}},l.expander.deferredFetcher=function(t,e,n){var r=e.expander,i=l.copy(r),o=l.expand(r.resourceSpecCollector,n);delete i.type,delete i.resourceSpecCollector,delete i.fetchKey;var a=function(e){t(e)};return i.options.success=function(e){r.options.success(e,a)},o[r.fetchKey||l.allocateGuid()]=i,l.NO_VALUE}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,i){"use strict";i.defaults("fluid.resourceLoader",{gradeNames:["fluid.component"],listeners:{"onCreate.loadResources":{listener:"fluid.resourceLoader.loadResources",args:["{that}",{expander:{func:"{that}.resolveResources"}}]}},defaultLocale:null,locale:null,terms:{},resources:{},resourceOptions:{},invokers:{transformURL:{funcName:"fluid.stringTemplate",args:["{arguments}.0","{that}.options.terms"]},resolveResources:{funcName:"fluid.resourceLoader.resolveResources",args:"{that}"}},events:{onResourcesLoaded:null}}),i.resourceLoader.resolveResources=function(n){var e=i.transform(n.options.resources,n.transformURL);return i.transform(e,function(e){var t={url:e,forceCache:!0,options:n.options.resourceOptions};return r.extend(t,i.filterKeys(n.options,["defaultLocale","locale"]))})},i.resourceLoader.loadResources=function(e,t){i.fetchResources(t,function(){e.resources=t,e.events.onResourcesLoaded.fire(t)})}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(o,i){"use strict";i.registerNamespace("fluid.undo"),i.undo.STATE_INITIAL="state_initial",i.undo.STATE_CHANGED="state_changed",i.undo.STATE_REVERTED="state_reverted",i.undo.defaultRenderer=function(e,t){var n=e.options.strings,r="<span class='flc-undo'><a href='#' class='flc-undo-undoControl'>"+n.undo+"</a><a href='#' class='flc-undo-redoControl'>"+n.redo+"</a></span>",i=o(r).attr({role:"region","aria-live":"polite","aria-relevant":"all"});return t.append(i),i},i.undo.refreshView=function(e){e.state===i.undo.STATE_INITIAL?(e.locate("undoContainer").hide(),e.locate("redoContainer").hide()):e.state===i.undo.STATE_CHANGED?(e.locate("undoContainer").show(),e.locate("redoContainer").hide()):e.state===i.undo.STATE_REVERTED&&(e.locate("undoContainer").hide(),e.locate("redoContainer").show())},i.undo.undoControlClick=function(e){return e.state!==i.undo.STATE_REVERTED&&(i.model.copyModel(e.extremalModel,e.component.model),e.component.updateModel(e.initialModel,e),e.state=i.undo.STATE_REVERTED,i.undo.refreshView(e),e.locate("redoControl").focus()),!1},i.undo.redoControlClick=function(e){return e.state!==i.undo.STATE_CHANGED&&(e.component.updateModel(e.extremalModel,e),e.state=i.undo.STATE_CHANGED,i.undo.refreshView(e),e.locate("undoControl").focus()),!1},i.undo.modelChanged=function(e,t,n,r){r!==e&&(e.state=i.undo.STATE_CHANGED,i.model.copyModel(e.initialModel,n),i.undo.refreshView(e))},i.undo.copyInitialModel=function(e){i.model.copyModel(e.initialModel,e.component.model),i.model.copyModel(e.extremalModel,e.component.model)},i.undo.setTabindex=function(e){i.tabindex(e.locate("undoControl"),0),i.tabindex(e.locate("redoControl"),0)},i.defaults("fluid.undo",{gradeNames:["fluid.component"],members:{state:i.undo.STATE_INITIAL,initialModel:{},extremalModel:{},component:"{fluid.undoable}",container:{expander:{func:"{that}.options.renderer",args:["{that}","{that}.component.container"]}},dom:{expander:{funcName:"fluid.initDomBinder",args:["{that}","{that}.options.selectors"]}}},invokers:{undoControlClick:{funcName:"fluid.undo.undoControlClick",args:"{that}"},redoControlClick:{funcName:"fluid.undo.redoControlClick",args:"{that}"}},listeners:{"onCreate.copyInitialModel":{funcName:"fluid.undo.copyInitialModel",priority:"before:refreshView"},"onCreate.setTabindex":"fluid.undo.setTabindex","onCreate.refreshView":"fluid.undo.refreshView","onCreate.bindUndoClick":{this:"{that}.dom.undoControl",method:"click",args:"{that}.undoControlClick"},"onCreate.bindRedoClick":{this:"{that}.dom.redoControl",method:"click",args:"{that}.redoControlClick"},"{fluid.undoable}.events.modelChanged":{funcName:"fluid.undo.modelChanged",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]}},selectors:{undoContainer:".flc-undo-undoControl",undoControl:".flc-undo-undoControl",redoContainer:".flc-undo-redoControl",redoControl:".flc-undo-redoControl"},strings:{undo:"undo edit",redo:"redo edit"},renderer:i.undo.defaultRenderer}),i.defaults("fluid.undoable",{gradeNames:["fluid.modelComponent"],invokers:{updateModel:{}},events:{modelChanged:null}}),i.defaults("fluid.undoDecorator",{gradeNames:["fluid.undo"]})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,o){"use strict";o.registerNamespace("fluid.tooltip"),o.tooltip.computeContentFunc=function(e){e.contentFunc=e.options.contentFunc?e.options.contentFunc:e.modelToContentFunc()},o.tooltip.updateContentImpl=function(e){e.computeContentFunc(),e.initialised&&e.container.tooltip("option","content",e.contentFunc)},o.tooltip.idSearchFunc=function(n){return function(){if(r.contains(this.ownerDocument,this)){var t=n(),e=o.findAncestor(this,function(e){return t[e.id]});return e?t[e.id]:null}return null}},o.tooltip.modelToContentFunc=function(e){var t=e.model;return t.idToContent?o.tooltip.idSearchFunc(function(){return e.model.idToContent}):t.content?function(){return t.content}:void 0},o.tooltip.resolveTooltipTarget=function(e,t){var n=o.resolveEventTarget(t);return r(n).closest(e)[0]},o.tooltip.makeOpenHandler=function(i){return function(e,t){o.tooltip.closeAll(i);var n=o.tooltip.resolveTooltipTarget(i.options.items,e),r=o.allocateSimpleId(n);i.openIdMap[r]=!0,i.initialised&&i.events.afterOpen.fire(i,n,t.tooltip,e)}},o.tooltip.makeCloseHandler=function(r){return function(e,t){if(r.initialised){var n=o.tooltip.resolveTooltipTarget(r.options.items,e);delete r.openIdMap[n.id],r.events.afterClose.fire(r,n,t.tooltip,e)}}},o.tooltip.closeAll=function(r){var i=o.getDocument(r.container);o.each(r.openIdMap,function(e,t){var n=o.byId(t,i);r.container.tooltip("close",{type:"close",currentTarget:n,target:n})}),o.clear(r.openIdMap)},o.tooltip.setup=function(e){o.tooltip.updateContentImpl(e);var t={content:e.contentFunc,open:o.tooltip.makeOpenHandler(e),close:o.tooltip.makeCloseHandler(e)},n=r.extend(!0,t,e.options.widgetOptions);e.container.tooltip(n),e.initialised=!0},o.tooltip.doDestroy=function(e){if(e.initialised){o.tooltip.closeAll(e,!0);var t=o.getDocument(e.container),n=e.container[0];(r.contains(t,n)||t===n)&&e.container.tooltip("destroy"),e.initialised=!1}},o.defaults("fluid.tooltip",{gradeNames:["fluid.viewComponent"],widgetOptions:{tooltipClass:"{that}.options.styles.tooltip",position:"{that}.options.position",items:"{that}.options.items",show:{duration:"{that}.options.duration",delay:"{that}.options.delay"},hide:{duration:"{that}.options.duration",delay:"{that}.options.delay"}},invokers:{open:{this:"{that}.container",method:"tooltip",args:"open"},close:{funcName:"fluid.tooltip.closeAll",args:"{that}"},updateContent:{changePath:"content",value:"{arguments}.0"},computeContentFunc:{funcName:"fluid.tooltip.computeContentFunc",args:["{that}"]},modelToContentFunc:{funcName:"fluid.tooltip.modelToContentFunc",args:"{that}"}},model:{content:"{that}.options.content"},members:{openIdMap:{}},styles:{tooltip:""},events:{afterOpen:null,afterClose:null},listeners:{"onCreate.setup":"fluid.tooltip.setup","onDestroy.doDestroy":"fluid.tooltip.doDestroy"},modelListeners:{"":{funcName:"fluid.tooltip.updateContentImpl",excludeSource:"init",args:"{that}"}},position:{my:"left top",at:"left bottom"},items:"*",delay:300})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(a,s){"use strict";s.registerNamespace("fluid.inlineEdit"),s.inlineEdit.sendKey=function(e,t,n,r){var i=document.createEvent("KeyEvents");i.initKeyEvent(t,1,1,null,0,0,0,0,n,r),e.dispatchEvent(i)},s.inlineEdit.switchToViewMode=function(e){e.editContainer.hide(),e.displayModeRenderer.show()},s.inlineEdit.cancel=function(e){e.isEditing()&&(setTimeout(function(){e.editView.value(e.model.value)},1),s.inlineEdit.switchToViewMode(e),e.events.afterFinishEdit.fire(e.model.value,e.model.value,e.editField[0],e.viewEl[0]))},s.inlineEdit.finish=function(e){var t=e.editView.value(),n=e.model.value,r=e.viewEl[0],i=e.editField[0];!1!==e.events.onFinishEdit.fire(t,n,i,r)&&(e.updateModelValue(t),e.events.afterFinishEdit.fire(t,n,i,r),s.inlineEdit.switchToViewMode(e))},s.inlineEdit.bindEditFinish=function(t){function n(e){return e.keyCode?e.keyCode:e.which?e.which:0}void 0===t.options.submitOnEnter&&(t.options.submitOnEnter="textarea"!==s.unwrap(t.editField).nodeName.toLowerCase());var r=t.textEditButton||a();t.options.submitOnEnter&&t.editContainer.keypress(function(e){return n(e)!==a.ui.keyCode.ENTER?(r.blur(),!0):(s.inlineEdit.finish(t),r.focus(),!1)}),t.editContainer.keydown(function(e){if(n(e)===a.ui.keyCode.ESCAPE)return r.focus(),s.inlineEdit.cancel(t),!1})},s.inlineEdit.bindBlurHandler=function(e){if(e.options.blurHandlerBinder)e.options.blurHandlerBinder(e);else{e.editField.blur(function(){return e.isEditing()&&s.inlineEdit.finish(e),!1})}},s.inlineEdit.initializeEditView=function(e,t){e.editInitialized||(s.inlineEdit.renderEditContainer(e,!e.options.lazyEditView||!t),e.options.lazyEditView&&t||(e.events.onCreateEditView.fire(),e.textEditButton&&s.inlineEdit.bindEditFinish(e),s.inlineEdit.bindBlurHandler(e),e.editView.refreshView(e),e.editInitialized=!0))},s.inlineEdit.edit=function(e){s.inlineEdit.initializeEditView(e,!1);var t=e.viewEl,n=e.displayView.value();e.updateModelValue(""===e.model.value?"":n),e.options.applyEditPadding&&e.editField.width(Math.max(t.width()+e.options.paddings.edit,e.options.paddings.minimumEdit)),e.displayModeRenderer.hide(),e.editContainer.show(),setTimeout(function(){e.editField.focus(),e.options.selectOnEdit&&e.editField[0].select()},0),e.events.afterBeginEdit.fire()},s.inlineEdit.clearEmptyViewStyles=function(e,t,n){e.removeClass(t.defaultViewStyle),e.css("padding-right",n),e.removeClass(t.emptyDefaultViewText)},s.inlineEdit.showDefaultViewText=function(e){e.displayView.value(e.options.strings.defaultViewText),e.viewEl.css("padding-right",e.existingPadding),e.viewEl.addClass(e.options.styles.defaultViewStyle)},s.inlineEdit.showNothing=function(e){e.displayView.value(""),a.browser.msie&&"inline"===e.viewEl.css("display")&&e.viewEl.css("display","inline-block")},s.inlineEdit.showEditedText=function(e){e.displayView.value(e.model.value),s.inlineEdit.clearEmptyViewStyles(e.viewEl,e.options.styles,e.existingPadding)},s.inlineEdit.refreshView=function(e,t){e.displayView.refreshView(e,t),e.editView&&e.editView.refreshView(e,t)},s.inlineEdit.updateModelValue=function(e,t,n){var r=e.options.modelComparator;if(!(r?r(e.model.value,t):e.model.value===t)){var i=a.extend(!0,{},e.model);e.model.value=t,e.events.modelChanged.fire(e.model,i,n),e.refreshView(n)}},s.inlineEdit.editHandler=function(e){return!1!==e.events.onBeginEdit.fire()&&(s.inlineEdit.edit(e),!0)},s.inlineEdit.initTooltips=function(e){var t={content:e.options.tooltipText,position:{my:"left top",at:"left bottom+25%",of:e.viewEl},target:"*",delay:e.options.tooltipDelay,styles:{tooltip:e.options.styles.tooltip}};s.tooltip(e.viewEl,t),e.textEditButton&&s.tooltip(e.textEditButton,t)},s.inlineEdit.calculateInitialPadding=function(e){var t=e.css("padding-right");return t?parseFloat(t):0},s.inlineEdit.setupEditField=function(e,t,n){var r=a(t);return(r=r.length?r:a(n)).addClass(e),r},s.inlineEdit.setupEditContainer=function(e,t,n,r){var i=a(n);return i=i.length?i:a(r),e.after(i),i.append(t),i},s.inlineEdit.defaultEditModeRenderer=function(e){var t=s.inlineEdit.setupEditField(e.options.styles.edit,e.editField,e.options.markup.editField),n=s.inlineEdit.setupEditContainer(e.displayModeRenderer,t,e.editContainer,e.options.markup.editContainer),r=s.inlineEdit.setupEditModeInstruction(e.options.styles.editModeInstruction,e.options.strings.editModeInstruction,e.options.markup.editModeInstruction),i=s.allocateSimpleId(r);return t.attr("aria-describedby",i),s.inlineEdit.positionEditModeInstruction(r,n,t),{container:n,field:t}},s.inlineEdit.renderEditContainer=function(e,t){if(e.editContainer=e.locate("editContainer"),e.editField=e.locate("edit"),1!==e.editContainer.length&&1<e.editContainer.length&&s.fail("InlineEdit did not find a unique container for selector "+e.options.selectors.editContainer+": "+s.dumpEl(e.editContainer)),t){var n=e.options.editModeRenderer(e);n&&(e.editContainer=n.container,e.editField=n.field)}},s.inlineEdit.setupEditModeInstruction=function(e,t,n){var r=a(n);return r.addClass(e),r.text(t),r},s.inlineEdit.positionEditModeInstruction=function(n,e,r){e.append(n),r.focus(function(){n.show();var e=r.offset(),t=parseInt(r.css("height"),10);n.css({left:e.left}),n.css({top:e.top+t+5})})},s.inlineEdit.setupDisplayModeContainer=function(e,t){var n=a(t);return(n=n.length?n:a("<span></span>")).addClass(e.displayView),n},s.inlineEdit.setupDisplayText=function(e,t){return e.attr("tabindex","-1"),e.addClass(t),e},s.inlineEdit.setupTextEditButton=function(e,t){var n=e.options,r=e.locate("textEditButton");if(0===r.length){var i=a(e.options.markup.textEditButton);i.addClass(n.styles.textEditButton),i.text(n.tooltipText),s.inlineEdit.updateTextEditButton(i,t.value||n.strings.defaultViewText,n.strings.textEditButton),e.events.modelChanged.addListener(function(){s.inlineEdit.updateTextEditButton(i,t.value||n.strings.defaultViewText,n.strings.textEditButton)}),e.locate("text").after(i),r=e.locate("textEditButton")}return r},s.inlineEdit.updateTextEditButton=function(e,t,n){var r=s.stringTemplate(n,{text:t});e.text(r)},s.inlineEdit.bindHoverHandlers=function(e,t){e.hover(function(){e.addClass(t)},function(){e.removeClass(t)})},s.inlineEdit.bindHighlightHandler=function(e,t,n,r,i){var o=function(e){return function(){t.toggleClass(n.focus,e),t.toggleClass(n.invitation,e),i&&i.value||t.prevObject.text(e?r.defaultFocussedViewText:r.defaultViewText)}};(e=a(e)).focus(o(!0)),e.blur(o(!1))},s.inlineEdit.bindMouseHandlers=function(e,t){e=a(e);var n=s.inlineEdit.makeEditTriggerGuard(e,t);e.click(function(e){return n(e),!1})},s.inlineEdit.bindKeyboardHandlers=function(e,t){(e=a(e)).attr("role","button");var n=s.inlineEdit.makeEditTriggerGuard(e,t);s.activatable(e,function(e){return n(e)})},s.inlineEdit.makeEditTriggerGuard=function(e,t){var n=s.unwrap(e);return function(e){if(s.findAncestor(e.target,function(e){if(/input|select|textarea|button|a/i.test(e.nodeName)||e===n)return!0})===n)return t(),!1}},s.inlineEdit.bindEventHandlers=function(e,t,n){var r=e.options.styles;s.inlineEdit.bindHoverHandlers(n,r.invitation),s.inlineEdit.bindMouseHandlers(e.viewEl,t),s.inlineEdit.bindMouseHandlers(e.textEditButton,t),s.inlineEdit.bindKeyboardHandlers(e.textEditButton,t),s.inlineEdit.bindHighlightHandler(e.viewEl,n,e.options.styles,e.options.strings,e.model),s.inlineEdit.bindHighlightHandler(e.textEditButton,n,e.options.styles,e.options.strings,e.model)},s.inlineEdit.defaultDisplayModeRenderer=function(e,t,n){var r=e.options.styles,i=s.inlineEdit.setupDisplayModeContainer(r),o=e.viewEl.wrap(i).parent();return e.textEditButton=s.inlineEdit.setupTextEditButton(e,n),o.append(e.textEditButton),s.inlineEdit.bindEventHandlers(e,t,o),o},s.inlineEdit.getNodeName=function(e){return s.unwrap(e).nodeName.toLowerCase()},s.defaults("fluid.inlineEdit.standardAccessor",{gradeNames:["fluid.viewComponent"],members:{nodeName:{expander:{funcName:"fluid.inlineEdit.getNodeName",args:"{that}.container"}}},invokers:{value:{funcName:"fluid.inlineEdit.standardAccessor.value",args:["{that}.nodeName","{that}.container","{arguments}.0"]}}}),s.inlineEdit.standardAccessor.value=function(e,t,n){return s["input"===e||"textarea"===e?"value":"text"](a(t),n)},s.defaults("fluid.inlineEdit.standardDisplayView",{gradeNames:["fluid.viewComponent"],invokers:{refreshView:{funcName:"fluid.inlineEdit.standardDisplayView.refreshView",args:["{fluid.inlineEdit}","{that}.container","{arguments}.0"]}}}),s.inlineEdit.standardDisplayView.refreshView=function(e){e.model.value?s.inlineEdit.showEditedText(e):e.options.strings.defaultViewText?s.inlineEdit.showDefaultViewText(e):s.inlineEdit.showNothing(e),0===a.trim(e.viewEl.text()).length&&(e.viewEl.addClass(e.options.styles.emptyDefaultViewText),e.existingPadding<e.options.paddings.minimumView&&e.viewEl.css("padding-right",e.options.paddings.minimumView))},s.defaults("fluid.inlineEdit.standardEditView",{gradeNames:["fluid.viewComponent"],invokers:{refreshView:{funcName:"fluid.inlineEdit.standardEditView.refreshView",args:["{fluid.inlineEdit}","{that}.container","{arguments}.0"]}}}),s.inlineEdit.standardEditView.refreshView=function(e,t,n){(!n||t&&-1===t.index(n))&&e.editView.value(e.model.value)},s.inlineEdit.setup=function(e){e.editContainer&&e.editContainer.hide(),e.tooltipEnabled()&&s.inlineEdit.initTooltips(e)},s.inlineEdit.setIsEditing=function(e,t){e.isEditingState=t},s.inlineEdit.tooltipEnabled=function(e){return e&&a.fn.tooltip},s.inlineEdit.processUndoDecorator=function(e){if(e.options.componentDecorators){var t=s.makeArray(e.options.componentDecorators)[0];"string"==typeof t&&(t={type:t}),"fluid.undoDecorator"===t.type&&(s.set(e.options,["components","undo"],{type:"fluid.undo",options:t.options}),e.decorators=[s.initDependent(e,"undo")])}},s.defaults("fluid.inlineEdit",{gradeNames:["fluid.undoable","fluid.viewComponent"],mergePolicy:{"strings.defaultViewText":"defaultViewText"},members:{isEditingState:!1,viewEl:{expander:{funcName:"fluid.inlineEdit.setupDisplayText",args:["{that}.dom.text","{that}.options.styles.text"]}},existingPadding:{expander:{funcName:"fluid.inlineEdit.calculateInitialPadding",args:"{that}.viewEl"}},displayModeRenderer:{expander:{func:"{that}.options.displayModeRenderer",args:["{that}","{that}.edit","{that}.model"]}}},invokers:{edit:{funcName:"fluid.inlineEdit.editHandler",args:"{that}"},isEditing:{funcName:"fluid.identity",args:"{that}.isEditingState"},finish:{funcName:"fluid.inlineEdit.finish",args:"{that}"},cancel:{funcName:"fluid.inlineEdit.cancel",args:"{that}"},tooltipEnabled:{funcName:"fluid.inlineEdit.tooltipEnabled",args:"{that}.options.useTooltip"},refreshView:{funcName:"fluid.inlineEdit.refreshView",args:["{that}","{arguments}.0"]},updateModelValue:{funcName:"fluid.inlineEdit.updateModelValue",args:["{that}","{arguments}.0","{arguments}.1"]},updateModel:{funcName:"fluid.inlineEdit.updateModelValue",args:["{that}","{arguments}.0.value","{arguments}.1"]}},components:{displayView:{type:"{that}.options.displayView.type",container:"{that}.viewEl",options:{gradeNames:"{fluid.inlineEdit}.options.displayAccessor.type"}},editView:{type:"{that}.options.editView.type",createOnEvent:"onCreateEditView",container:"{that}.editField",options:{gradeNames:"{fluid.inlineEdit}.options.editAccessor.type"}}},model:{value:{expander:{func:"{that}.displayView.value"}}},selectors:{text:".flc-inlineEdit-text",editContainer:".flc-inlineEdit-editContainer",edit:".flc-inlineEdit-edit",textEditButton:".flc-inlineEdit-textEditButton"},styles:{text:"fl-inlineEdit-text",edit:"fl-inlineEdit-edit",invitation:"fl-inlineEdit-invitation",defaultViewStyle:"fl-inlineEdit-emptyText-invitation",emptyDefaultViewText:"fl-inlineEdit-emptyDefaultViewText",focus:"fl-inlineEdit-focus",tooltip:"fl-inlineEdit-tooltip",editModeInstruction:"fl-inlineEdit-editModeInstruction",displayView:"fl-inlineEdit-simple-editableText fl-inlineEdit-textContainer",textEditButton:"fl-hidden-accessible"},events:{modelChanged:null,onBeginEdit:"preventable",afterBeginEdit:null,onFinishEdit:"preventable",afterFinishEdit:null,afterInitEdit:null,onCreateEditView:null},listeners:{onCreate:[{func:"{that}.refreshView"},{funcName:"fluid.inlineEdit.initializeEditView",args:["{that}",!0]},{funcName:"fluid.inlineEdit.setup",args:"{that}"},{funcName:"fluid.inlineEdit.processUndoDecorator",args:"{that}"}],onBeginEdit:{funcName:"fluid.inlineEdit.setIsEditing",args:["{that}",!0]},afterFinishEdit:{funcName:"fluid.inlineEdit.setIsEditing",args:["{that}",!1]}},strings:{textEditButton:"Edit text %text",editModeInstruction:"Escape to cancel, Enter or Tab when finished",defaultViewText:"Click here to edit",defaultFocussedViewText:"Click here or press enter to edit"},markup:{editField:"<input type='text' class='flc-inlineEdit-edit'/>",editContainer:"<span></span>",editModeInstruction:"<p></p>",textEditButton:"<a href='#_' class='flc-inlineEdit-textEditButton'></a>"},paddings:{edit:10,minimumEdit:80,minimumView:60},applyEditPadding:!0,blurHandlerBinder:null,submitOnEnter:void 0,modelComparator:null,displayAccessor:{type:"fluid.inlineEdit.standardAccessor"},displayView:{type:"fluid.inlineEdit.standardDisplayView"},editAccessor:{type:"fluid.inlineEdit.standardAccessor"},editView:{type:"fluid.inlineEdit.standardEditView"},displayModeRenderer:s.inlineEdit.defaultDisplayModeRenderer,editModeRenderer:s.inlineEdit.defaultEditModeRenderer,lazyEditView:!1,useTooltip:!0,tooltipText:"Select or press Enter to edit",tooltipDelay:1e3,selectOnEdit:!1}),s.setupInlineEdits=function(i,e){return s.transform(e,function(e,t){var n={type:"fluid.inlineEdit",container:e},r="inlineEdit-"+t;return s.set(i.options,["components",r],n),s.initDependent(i,r)})},s.defaults("fluid.inlineEditsComponent",{gradeNames:["fluid.viewComponent"],distributeOptions:{source:"{that}.options",exclusions:["members.inlineEdits","members.modelRelay","members.applier","members.model","selectors.editables","events"],removeSource:!0,target:"{that > fluid.inlineEdit}.options"},members:{inlineEdits:{expander:{funcName:"fluid.setupInlineEdits",args:["{that}","{that}.dom.editables"]}}},selectors:{editables:".flc-inlineEditable"}}),s.inlineEdits=function(e,t){return s.inlineEditsComponent(e,t).inlineEdits}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(i,o){"use strict";o.defaults("fluid.inlineEdit.editorViewAccessor",{gradeNames:["fluid.viewComponent"],invokers:{value:{funcName:"fluid.inlineEdit.editorViewAccessor.value",args:["{that}.container","{that}.options","{arguments}.0"]}}}),o.inlineEdit.editorViewAccessor.value=function(e,t,n){var r=t.editorGetFn(e);return r&&0!==r.length?void 0===n?t.getValueFn(r):void t.setValueFn(e,r,n):(void 0!==n&&i(e).val(n),"")},o.defaults("fluid.inlineEdit.richTextViewAccessor",{gradeNames:["fluid.viewComponent"],invokers:{value:{funcName:"fluid.inlineEdit.richTextViewAccessor.value",args:["{that}.container","{arguments}.0"]}}}),o.inlineEdit.richTextViewAccessor.value=function(e,t){return o.html(e,t)},o.inlineEdit.normalizeHTML=function(e){var t=i.trim(e.replace(/\s+/g," "));return(t=t.replace(/\s+<\//g,"</")).replace(/<([a-z0-9A-Z\/]+)>/g,function(e){return e.toLowerCase()})},o.inlineEdit.htmlComparator=function(e,t){return o.inlineEdit.normalizeHTML(e)===o.inlineEdit.normalizeHTML(t)},o.inlineEdit.bindRichTextHighlightHandler=function(e,t,n){(e=i(e)).focus(function(){t.addClass(n)}),e.blur(function(){t.removeClass(n)})},o.inlineEdit.setupRichTextEditButton=function(e){var t=e.options,n=e.locate("textEditButton");if(0===n.length){var r=i("<a href='#_' class='flc-inlineEdit-textEditButton'></a>");r.text(t.strings.textEditButton),e.locate("text").after(r),n=e.locate("textEditButton")}return n},o.inlineEdit.richTextDisplayModeRenderer=function(e,t){var n=e.options.styles,r=o.inlineEdit.setupDisplayModeContainer(n),i=e.viewEl.wrap(r).parent();return e.textEditButton=o.inlineEdit.setupRichTextEditButton(e),i.append(e.textEditButton),i.addClass(n.focus),o.inlineEdit.bindHoverHandlers(i,n.invitation),o.inlineEdit.bindMouseHandlers(e.textEditButton,t),o.inlineEdit.bindKeyboardHandlers(e.textEditButton,t),o.inlineEdit.bindRichTextHighlightHandler(e.viewEl,i,n.invitation),o.inlineEdit.bindRichTextHighlightHandler(e.textEditButton,i,n.invitation),i};var e=o.registerNamespace("fluid.inlineEdit.tinyMCE");o.inlineEdit.tinyMCE.getEditor=function(e){return tinyMCE.get(e.prop("id"))},o.inlineEdit.tinyMCE.setValue=function(e,t,n){i(e).val(n),t.setContent(n,{format:"raw"})},o.inlineEdit.tinyMCE.getValue=function(e){return e.getContent()},o.defaults("fluid.inlineEdit.tinyMCE.viewAccessor",{gradeNames:["fluid.inlineEdit.editorViewAccessor"],editorGetFn:e.getEditor,setValueFn:e.setValue,getValueFn:e.getValue}),o.inlineEdit.tinyMCE.blurHandlerBinder=function(n){function r(e){setTimeout(function(){tinyMCE.execCommand("mceFocus",!1,n.editField[0].id),e.selection.select(e.getBody(),1),e.selection.collapse(0)},10)}n.events.afterInitEdit.addListener(function(e){r(e);var t=e.getBody();n.deadMansBlur=o.deadMansBlur(n.editField,{cancelByDefault:!0,exclusions:{body:i(t),container:n.container},handler:function(){n[n.options.onBlur]()}})}),n.events.afterBeginEdit.addListener(function(){var e=tinyMCE.get(n.editField[0].id);e&&r(e),n.deadMansBlur&&n.deadMansBlur.reArm()}),n.events.afterFinishEdit.addListener(function(){n.deadMansBlur.noteProceeded()})},o.inlineEdit.tinyMCE.editModeRenderer=function(t){var e=t.options.tinyMCE;e.elements=o.allocateSimpleId(t.editField);var n=e.init_instance_callback;e.init_instance_callback=function(e){t.events.afterInitEdit.fire(e),n&&n()},setTimeout(function(){tinyMCE.init(e)},1)},o.defaults("fluid.inlineEdit.tinyMCE",{gradeNames:["fluid.inlineEdit"],tinyMCE:{mode:"exact",theme:"simple"},listeners:{onCreate:{this:"tinyMCE",method:"init",namespace:"initTinyMCE",args:"{that}.options.tinyMCE"}},useTooltip:!0,selectors:{edit:"textarea"},styles:{invitation:"fl-inlineEdit-richText-invitation",displayView:"fl-inlineEdit-textContainer",text:""},strings:{textEditButton:"Edit"},displayAccessor:{type:"fluid.inlineEdit.richTextViewAccessor"},editAccessor:{type:"fluid.inlineEdit.tinyMCE.viewAccessor"},lazyEditView:!0,defaultViewText:"Click Edit",modelComparator:o.inlineEdit.htmlComparator,onBlur:"finish",blurHandlerBinder:o.inlineEdit.tinyMCE.blurHandlerBinder,displayModeRenderer:o.inlineEdit.richTextDisplayModeRenderer,editModeRenderer:o.inlineEdit.tinyMCE.editModeRenderer});var t=o.registerNamespace("fluid.inlineEdit.CKEditor");o.inlineEdit.CKEditor.getEditor=function(e){return CKEDITOR.instances[e.prop("id")]},o.inlineEdit.CKEditor.setValue=function(e,t,n){t.setData(n)},o.inlineEdit.CKEditor.getValue=function(e){return e.getData()},o.defaults("fluid.inlineEdit.CKEditor.viewAccessor",{gradeNames:["fluid.inlineEdit.editorViewAccessor"],editorGetFn:t.getEditor,setValueFn:t.setValue,getValueFn:t.getValue}),o.inlineEdit.CKEditor.focus=function(e){setTimeout(function(){e.focus()},0)},o.inlineEdit.CKEditor.normalizeHTML=function(e){var t=o.inlineEdit.normalizeHTML(e),n=t.indexOf(">");return-1!==n&&n<t.length-1&&" "!==t.charAt(n+1)&&(t=t.substring(0,n+1)+" "+t.substring(n+1)),t},o.inlineEdit.CKEditor.htmlComparator=function(e,t){return o.inlineEdit.CKEditor.normalizeHTML(e)===o.inlineEdit.CKEditor.normalizeHTML(t)},o.inlineEdit.CKEditor.blurHandlerBinder=function(t){t.events.afterInitEdit.addListener(o.inlineEdit.CKEditor.focus),t.events.afterBeginEdit.addListener(function(){var e=o.inlineEdit.CKEditor.getEditor(t.editField);e&&o.inlineEdit.CKEditor.focus(e)})},o.inlineEdit.CKEditor.editModeRenderer=function(t){var e=o.allocateSimpleId(t.editField);i.data(o.unwrap(t.editField),"fluid.inlineEdit.CKEditor",t),CKEDITOR.replace(e,t.options.CKEditor).on("instanceReady",function(e){o.inlineEdit.CKEditor.focus(e.editor),t.events.afterInitEdit.fire(e.editor)})},o.defaults("fluid.inlineEdit.CKEditor",{gradeNames:["fluid.inlineEdit"],selectors:{edit:"textarea"},styles:{invitation:"fl-inlineEdit-richText-invitation",displayView:"fl-inlineEdit-textContainer",text:""},strings:{textEditButton:"Edit"},displayAccessor:{type:"fluid.inlineEdit.richTextViewAccessor"},editAccessor:{type:"fluid.inlineEdit.CKEditor.viewAccessor"},lazyEditView:!0,defaultViewText:"Click Edit",modelComparator:o.inlineEdit.CKEditor.htmlComparator,blurHandlerBinder:o.inlineEdit.CKEditor.blurHandlerBinder,displayModeRenderer:o.inlineEdit.richTextDisplayModeRenderer,editModeRenderer:o.inlineEdit.CKEditor.editModeRenderer,CKEditor:{}}),o.registerNamespace("fluid.inlineEdit.dropdown"),o.inlineEdit.dropdown.editModeRenderer=function(e){return o.allocateSimpleId(e.editField),e.editField.selectbox({finishHandler:function(){e.finish()}}),{container:e.editContainer,field:i("input.selectbox",e.editContainer)}},o.inlineEdit.dropdown.blurHandlerBinder=function(e){o.deadMansBlur(e.editField,{exclusions:{selectBox:i("div.selectbox-wrapper",e.editContainer)},handler:function(){e.cancel()}})},o.defaults("fluid.inlineEdit.dropdown",{gradeNames:["fluid.inlineEdit"],applyEditPadding:!1,blurHandlerBinder:o.inlineEdit.dropdown.blurHandlerBinder,editModeRenderer:o.inlineEdit.dropdown.editModeRenderer})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,p){"use strict";p.XMLP=function(e){return p.XMLP.XMLPImpl(e)},p.XMLP.closedTags={abbr:!0,br:!0,col:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,hr:!0,area:!0,embed:!0},p.XMLP._NONE=0,p.XMLP._ELM_B=1,p.XMLP._ELM_E=2,p.XMLP._ELM_EMP=3,p.XMLP._ATT=4,p.XMLP._TEXT=5,p.XMLP._ENTITY=6,p.XMLP._PI=7,p.XMLP._CDATA=8,p.XMLP._COMMENT=9,p.XMLP._DTD=10,p.XMLP._ERROR=11,p.XMLP._CONT_XML=0,p.XMLP._CONT_ALT=1,p.XMLP._ATT_NAME=0,p.XMLP._ATT_VAL=1,p.XMLP._STATE_PROLOG=1,p.XMLP._STATE_DOCUMENT=2,p.XMLP._STATE_MISC=3,p.XMLP._errs=[],p.XMLP._errs[p.XMLP.ERR_CLOSE_PI=0]="PI: missing closing sequence",p.XMLP._errs[p.XMLP.ERR_CLOSE_DTD=1]="DTD: missing closing sequence",p.XMLP._errs[p.XMLP.ERR_CLOSE_COMMENT=2]="Comment: missing closing sequence",p.XMLP._errs[p.XMLP.ERR_CLOSE_CDATA=3]="CDATA: missing closing sequence",p.XMLP._errs[p.XMLP.ERR_CLOSE_ELM=4]="Element: missing closing sequence",p.XMLP._errs[p.XMLP.ERR_CLOSE_ENTITY=5]="Entity: missing closing sequence",p.XMLP._errs[p.XMLP.ERR_PI_TARGET=6]="PI: target is required",p.XMLP._errs[p.XMLP.ERR_ELM_EMPTY=7]="Element: cannot be both empty and closing",p.XMLP._errs[p.XMLP.ERR_ELM_NAME=8]='Element: name must immediately follow "<"',p.XMLP._errs[p.XMLP.ERR_ELM_LT_NAME=9]='Element: "<" not allowed in element names',p.XMLP._errs[p.XMLP.ERR_ATT_VALUES=10]="Attribute: values are required and must be in quotes",p.XMLP._errs[p.XMLP.ERR_ATT_LT_NAME=11]='Element: "<" not allowed in attribute names',p.XMLP._errs[p.XMLP.ERR_ATT_LT_VALUE=12]='Attribute: "<" not allowed in attribute values',p.XMLP._errs[p.XMLP.ERR_ATT_DUP=13]="Attribute: duplicate attributes not allowed",p.XMLP._errs[p.XMLP.ERR_ENTITY_UNKNOWN=14]="Entity: unknown entity",p.XMLP._errs[p.XMLP.ERR_INFINITELOOP=15]="Infinite loop",p.XMLP._errs[p.XMLP.ERR_DOC_STRUCTURE=16]="Document: only comments, processing instructions, or whitespace allowed outside of document element",p.XMLP._errs[p.XMLP.ERR_ELM_NESTING=17]="Element: must be nested correctly",p.XMLP._checkStructure=function(e,t){var n=e.m_stack;if(p.XMLP._STATE_PROLOG==e.m_iState&&(e.m_iState=p.XMLP._STATE_DOCUMENT),p.XMLP._STATE_DOCUMENT===e.m_iState&&(p.XMLP._ELM_B!=t&&p.XMLP._ELM_EMP!=t||(e.m_stack[n.length]=e.getName()),p.XMLP._ELM_E==t||p.XMLP._ELM_EMP==t)){if(0===n.length)return p.XMLP._NONE;var r=n[n.length-1];if(e.m_stack.length--,null===r||r!==e.getName())return p.XMLP._setErr(e,p.XMLP.ERR_ELM_NESTING)}return t},p.XMLP._parseCDATA=function(e,t){var n=e.m_xml.indexOf("]]>",t);return-1==n?p.XMLP._setErr(e,p.XMLP.ERR_CLOSE_CDATA):(p.XMLP._setContent(e,p.XMLP._CONT_XML,t,n),e.m_iP=n+3,p.XMLP._CDATA)},p.XMLP._parseComment=function(e,t){var n=e.m_xml.indexOf("--\x3e",t);return-1==n?p.XMLP._setErr(e,p.XMLP.ERR_CLOSE_COMMENT):(p.XMLP._setContent(e,p.XMLP._CONT_XML,t-4,n+3),e.m_iP=n+3,p.XMLP._COMMENT)},p.XMLP._parseDTD=function(e,t){var n,r,i,o;if(-1==(n=e.m_xml.indexOf(">",t)))return p.XMLP._setErr(e,p.XMLP.ERR_CLOSE_DTD);for(r=-1!=(i=e.m_xml.indexOf("[",t))&&i<n?"]>":">";;){if(n==o)return p.XMLP._setErr(e,p.XMLP.ERR_INFINITELOOP);if(o=n,-1==(n=e.m_xml.indexOf(r,t)))return p.XMLP._setErr(e,p.XMLP.ERR_CLOSE_DTD);if("]]>"!=e.m_xml.substring(n-1,n+2))break}return e.m_iP=n+r.length,p.XMLP._DTD},p.XMLP._parsePI=function(e,t){var n,r,i,o,a;return-1==(n=e.m_xml.indexOf("?>",t))?p.XMLP._setErr(e,p.XMLP.ERR_CLOSE_PI):-1==(r=p.SAXStrings.indexOfNonWhitespace(e.m_xml,t,n))?p.XMLP._setErr(e,p.XMLP.ERR_PI_TARGET):(-1==(i=p.SAXStrings.indexOfWhitespace(e.m_xml,r,n))&&(i=n),-1==(o=p.SAXStrings.indexOfNonWhitespace(e.m_xml,i,n))&&(o=n),-1==(a=p.SAXStrings.lastIndexOfNonWhitespace(e.m_xml,o,n))&&(a=n-1),e.m_name=e.m_xml.substring(r,i),p.XMLP._setContent(e,p.XMLP._CONT_XML,o,a+1),e.m_iP=n+2,p.XMLP._PI)},p.XMLP._parseText=function(e,t){var n=e.m_xml.indexOf("<",t);return-1==n&&(n=e.m_xml.length),p.XMLP._setContent(e,p.XMLP._CONT_XML,t,n),e.m_iP=n,p.XMLP._TEXT},p.XMLP._setContent=function(e,t){var n=arguments;p.XMLP._CONT_XML==t?(e.m_cAlt=null,e.m_cB=n[2],e.m_cE=n[3]):(e.m_cAlt=n[2],e.m_cB=0,e.m_cE=n[2].length),e.m_cSrc=t},p.XMLP._setErr=function(e,t){var n=p.XMLP._errs[t];return e.m_cAlt=n,e.m_cB=0,e.m_cE=n.length,e.m_cSrc=p.XMLP._CONT_ALT,p.XMLP._ERROR},p.XMLP._parseElement=function(e,t){var n,r,i,o;if(r=n=e.m_xml.indexOf(">",t),-1==n)return p.XMLP._setErr(e,p.XMLP.ERR_CLOSE_ELM);if("/"==e.m_xml.charAt(t)?(i=p.XMLP._ELM_E,t++):i=p.XMLP._ELM_B,"/"==e.m_xml.charAt(n-1)){if(i==p.XMLP._ELM_E)return p.XMLP._setErr(e,p.XMLP.ERR_ELM_EMPTY);i=p.XMLP._ELM_EMP,r--}e.nameRegex.lastIndex=t;var a=e.nameRegex.exec(e.m_xml);if(!a)return p.XMLP._setErr(e,p.XMLP.ERR_ELM_NAME);if("li"===(o=a[1].toLowerCase())&&i!==p.XMLP._ELM_E&&0<e.m_stack.length&&"li"===e.m_stack[e.m_stack.length-1]&&!e.m_emitSynthetic)return e.m_name="li",e.m_emitSynthetic=!0,p.XMLP._ELM_E;if(e.m_attributes={},e.m_cAlt="",e.nameRegex.lastIndex<r)for(e.m_iP=e.nameRegex.lastIndex;e.m_iP<r;){e.attrStartRegex.lastIndex=e.m_iP;var s=e.attrStartRegex.exec(e.m_xml);if(!s)return p.XMLP._setErr(e,p.XMLP.ERR_ATT_VALUES);var l,u=s[1].toLowerCase();if(61===e.m_xml.charCodeAt(e.attrStartRegex.lastIndex)){var d=34===e.m_xml.charCodeAt(e.attrStartRegex.lastIndex+1)?e.attrValRegex:e.attrValIERegex;if(d.lastIndex=e.attrStartRegex.lastIndex+1,!(s=d.exec(e.m_xml)))return p.XMLP._setErr(e,p.XMLP.ERR_ATT_VALUES);l=s[1]}else l=u,d=e.attrStartRegex;if(e.m_attributes[u]&&e.m_attributes[u]!==l)return p.XMLP._setErr(e,p.XMLP.ERR_ATT_DUP);e.m_attributes[u]=l,e.m_iP=d.lastIndex}if(-1!=o.indexOf("<"))return p.XMLP._setErr(e,p.XMLP.ERR_ELM_LT_NAME);if(e.m_name=o,e.m_iP=n+1,p.XMLP.closedTags[o]){e.closeRegex.lastIndex=n+1;var c=e.closeRegex.exec;if(c)return e.m_xml.indexOf(o,c.lastIndex)===c.lastIndex?i:p.XMLP._ELM_EMP}return e.m_emitSynthetic=!1,i},p.XMLP._parse=function(e){var t=e.m_iP,n=e.m_xml;if(t===n.length)return p.XMLP._NONE;if("<"!==n.charAt(t))return p.XMLP._parseText(e,t);var r=n.charAt(t+1);return"?"===r?p.XMLP._parsePI(e,t+2):"!"!==r?p.XMLP._parseElement(e,t+1):t===n.indexOf("<!DOCTYPE",t)?p.XMLP._parseDTD(e,t+9):t===n.indexOf("\x3c!--",t)?p.XMLP._parseComment(e,t+4):t===n.indexOf("<![CDATA[",t)?p.XMLP._parseCDATA(e,t+9):void 0},p.XMLP.XMLPImpl=function(e){var t={};return t.m_xml=e,t.m_iP=0,t.m_iState=p.XMLP._STATE_PROLOG,t.m_stack=[],t.m_attributes={},t.m_emitSynthetic=!1,t.getColumnNumber=function(){return p.SAXStrings.getColumnNumber(t.m_xml,t.m_iP)},t.getContent=function(){return t.m_cSrc==p.XMLP._CONT_XML?t.m_xml:t.m_cAlt},t.getContentBegin=function(){return t.m_cB},t.getContentEnd=function(){return t.m_cE},t.getLineNumber=function(){return p.SAXStrings.getLineNumber(t.m_xml,t.m_iP)},t.getName=function(){return t.m_name},t.next=function(){return p.XMLP._checkStructure(t,p.XMLP._parse(t))},t.nameRegex=/([^\s\/>]+)/g,t.attrStartRegex=/\s*([\w:_][\w:_\-\.]*)/gm,t.attrValRegex=/\"([^\"]*)\"\s*/gm,t.attrValIERegex=/([^\>\s]+)\s*/gm,t.closeRegex=/\s*<\//g,t},p.SAXStrings={},p.SAXStrings.WHITESPACE=" \t\n\r",p.SAXStrings.QUOTES="\"'",p.SAXStrings.getColumnNumber=function(e,t){if(!e)return-1;t=t||e.length;var n=e.substring(0,t).split("\n");return n.length--,t-n.join("\n").length},p.SAXStrings.getLineNumber=function(e,t){return e?(t=t||e.length,e.substring(0,t).split("\n").length):-1},p.SAXStrings.indexOfNonWhitespace=function(e,t,n){if(!e)return-1;t=t||0,n=n||e.length;for(var r=t;r<n;++r){var i=e.charAt(r);if(" "!==i&&"\t"!==i&&"\n"!==i&&"\r"!==i)return r}return-1},p.SAXStrings.indexOfWhitespace=function(e,t,n){if(!e)return-1;t=t||0,n=n||e.length;for(var r=t;r<n;r++)if(-1!=p.SAXStrings.WHITESPACE.indexOf(e.charAt(r)))return r;return-1},p.SAXStrings.lastIndexOfNonWhitespace=function(e,t,n){if(!e)return-1;t=t||0;for(var r=(n=n||e.length)-1;t<=r;r--)if(-1==p.SAXStrings.WHITESPACE.indexOf(e.charAt(r)))return r;return-1},p.SAXStrings.replace=function(e,t,n,r,i){return e?(t=t||0,n=n||e.length,e.substring(t,n).split(r).join(i)):""}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(L,N){"use strict";N.parseTemplate=function(e,s,t,n,r){function d(){var e=S(y,b);return C&&(e.line=g.getLineNumber(),e.column=g.getColumnNumber()),m.lumps[y]=e,++y,e}function c(e,t,n){var r=e[t];r||(r=[],e[t]=r),r[r.length]=n}function p(e){return"<"+e.tagname+">"}function f(e,t,n){if(e.predList){for(var r=0;r<e.predList.length;++r){var i=e.predList[r];if(i.id&&t.attributemap.id!==i.id)return!1;if(i.clazz&&(o=i.clazz,!(a=n)||-1===(" "+a+" ").indexOf(" "+o+" ")))return!1;if(i.tag&&t.tagname!==i.tag)return!1}return!0}var o,a}function h(){!function(){if(E)for(var e=0;e<E.length;++e){var t=w[e];0<t.length&&t[t.length-1]===b&&t.length--}}();var e=d();--b,e.text="</"+g.getName()+">",v[v.length-1].close_tag=m.lumps[y-1],v.length--,x=!0}function i(e){(++b,x)&&(x=!1,d().nestingdepth--);-1===m.firstdocumentindex&&(m.firstdocumentindex=y);var t=d(),n=v[v.length-1];t.uplump=n;var r=g.getName();t.tagname=r;var i=t.attributemap=g.m_attributes,o=i[N.ID_ATTRIBUTE];for(var a in void 0===o&&(o=function(e){var t,n,r=e.attributemap.class;if(r){var i=r.split(" ");for(n=0;n<i.length;++n){var o=_[L.trim(i[n])];if(o)return o}}for(n=0;n<E.length;++n){var a=E[n],s=w[n],l=s.length;if(l<a.tree.length){var u=a.tree[l];if(0<l&&a.tree[l-1].child&&s[l-1]!==e.nestingdepth-1)continue;f(u,e,r)&&(s[s.length]=e.nestingdepth,s.length===a.tree.length&&(void 0!==t&&N.fail("Cutpoint specification error - node "+p(e)+" has already matched with rsf:id of "+t),void 0!==a.id&&null!==a.id||N.fail("Error in cutpoints list - entry at position "+n+" does not have an id set"),t=a.id))}}return t}(t)),i)void 0===o&&(/href|src|codebase|action/.test(a)?o="scr=rewrite-url":void 0===o&&/for|headers/.test(a)&&(o="scr=null"));if(o){126===o.charCodeAt(0)&&(o=o.substring(1),t.elide=!0),function(e,t){if(-1!==e.indexOf("scr=contribute-")){var n=e.substring("scr=contribute-".length);c(m.collectmap,n,t)}}(o,t),t.rsfID=o;var s=function(){for(var e=v.length-1;0<=e;--e){var t=v[e];if(void 0!==t.rsfID)return t}return m.rootlump}();for(s.downmap||(s.downmap={});s;)s.downmap&&c(s.downmap,o,t),s=s.uplump;c(m.globalmap,o,t);var l=o.indexOf(":");if(-1!==l){var u=o.substring(0,l);n.finallump||(n.finallump={}),n.finallump[u]=t}}t.text="<"+r+N.dumpAttributes(i)+(e&&!o?"/>":">"),v[v.length]=t,e&&(o?h():(--b,v.length--))}function o(){if(-1!==l){-1===m.firstdocumentindex&&(m.firstdocumentindex=y);var e=g.getContent().substr(l,u-l);x=!1,d().text=e,l=-1}}r=r||{},e||N.fail("empty template supplied to fluid.parseTemplate");var m,g,v,y=0,b=0,x=!1,l=-1,u=-1,C=!1,E=[],_={},w=[],S=function(e,t){return{nestingdepth:t,lumpindex:e,parent:m}};m=N.XMLViewTemplate(),function(e,t,n){if(m.rootlump=S(0,-1),v=[m.rootlump],b=y=0,x=!1,u=l=-1,s=e,C=t,n)for(var r=0;r<n.length;++r){var i=N.parseSelector(n[r].selector,N.simpleCSSMatcher),o=1===(a=i).length&&1===a[0].predList.length&&a[0].predList[0].clazz;o?_[o]=n[r].id:(w.push([]),E.push(L.extend({},n[r],{tree:i})))}var a}(s,r.debugMode,n);var a=e.indexOf(N.ID_ATTRIBUTE);if(t){var T=e.indexOf(">",a);g=N.XMLP(e.substring(T+1))}else g=N.XMLP(e);e:for(;;){switch(g.next()){case N.XMLP._ELM_B:o(),i(!1);break;case N.XMLP._ELM_E:o(),h();break;case N.XMLP._ELM_EMP:o(),i(!0);break;case N.XMLP._PI:case N.XMLP._DTD:l=-1;continue;case N.XMLP._TEXT:case N.XMLP._ENTITY:case N.XMLP._CDATA:case N.XMLP._COMMENT:-1===l&&(l=g.m_cB),u=g.m_cE;break;case N.XMLP._ERROR:N.setLogging(!0);var P="Error parsing template: "+g.m_cAlt+" at line "+g.getLineNumber();N.log(P),N.log("Just read: "+g.m_xml.substring(g.m_iP-30,g.m_iP)),N.log("Still to read: "+g.m_xml.substring(g.m_iP,g.m_iP+30)),N.fail(P);break e;case N.XMLP._NONE:break e}}o();var k=v.length-1;return k&&N.fail("Error parsing template - unclosed tag(s) of depth "+k+": "+N.transform(v.splice(1,k),function(e){return p(e)}).join(", ")),m},N.debugLump=function(e){var t=e.text;return t+=" at ",(t+="lump line "+e.line+" column "+e.column+" index "+e.lumpindex)+(null===e.parent.href?"":" in file "+e.parent.href)},N.ID_ATTRIBUTE="rsf:id",N.getPrefix=function(e){var t=e.indexOf(":");return-1===t?e:e.substring(0,t)},N.SplitID=function(e){var t={},n=e.indexOf(":");return-1===n?t.prefix=e:(t.prefix=e.substring(0,n),t.suffix=e.substring(n+1)),t},N.XMLViewTemplate=function(){return{globalmap:{},collectmap:{},lumps:[],firstdocumentindex:-1}},N.XMLEncode=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")},N.dumpAttributes=function(e){var t="";for(var n in e){var r=e[n];null!=r&&(t+=" "+n+'="'+r+'"')}return t},N.aggregateMMap=function(e,t){for(var n in t){e[n]||(e[n]=[]),e[n]=e[n].concat(t[n])}},N.parseTemplates=function(e,t,n){var r=[];n=n||{},r.globalmap={};for(var i=0;i<t.length;++i){var o=e[t[i]],a=o.href.lastIndexOf("/"),s=-1===a?"":o.href.substring(0,a+1),l=N.parseTemplate(o.resourceText,s,n.scanStart&&0===i,o.cutpoints,n);0===i&&N.aggregateMMap(r.globalmap,l.globalmap),l.href=o.href,l.baseURL=s,l.resourceKey=o.resourceKey,r[i]=l,N.aggregateMMap(r.globalmap,l.rootlump.downmap)}return r}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(ee,te){"use strict";function h(e){return"as child of "+(e.parent.fullID?"component with full ID "+e.parent.fullID:"root")}function m(e){var t="",n=e;for(void 0===e.children&&(t=e.ID+(void 0!==e.localID?e.localID:""),n=e.parent);n.parent;){var r=n.parent;if(void 0!==n.fullID)return n.fullID+t;if(void 0===n.noID){var i=n.ID;void 0===i&&te.fail("Error in component tree - component found with no ID "+h(r)+": please check structure");var o=i.indexOf(":");t=(-1===o?i:i.substring(0,o))+":"+(void 0===n.localID?"":n.localID)+":"+t}n=r}return t}function a(e,t){if(ie.isBoundPrimitive(e))return{componentType:"UIBound",value:e,ID:t};var n=re(e);return n.ID?{ID:t,componentType:"UIContainer",children:[n]}:(n.ID=t,n)}function ne(e,t,n){void 0===e.value&&void 0!==e.valuebinding&&(e.value=te.get(t,e.valuebinding,n))}function d(e,t,n,r){void 0!==e[t]?ie.isBoundPrimitive(e[t])?e[t]={value:e[t]}:e[t].messagekey&&(e[t].componentType="UIMessage"):e[t]={value:null},ne(e[t],n,r)}te.defaults("fluid.messageResolver",{gradeNames:["fluid.component"],mergePolicy:{messageBase:"nomerge",parents:"nomerge"},resolveFunc:te.stringTemplate,parseFunc:te.identity,messageBase:{},members:{messageBase:"@expand:{that}.options.parseFunc({that}.options.messageBase)"},invokers:{lookup:"fluid.messageResolver.lookup({that}, {arguments}.0)",resolve:"fluid.messageResolver.resolve({that}, {arguments}.0, {arguments}.1)"},parents:[]}),te.messageResolver.lookup=function(e,t){var n=te.messageResolver.resolveOne(e.messageBase,t);return void 0===n?te.find(e.options.parents,function(e){return e?e.lookup(t):void 0}):{template:n,resolveFunc:e.options.resolveFunc}},te.messageResolver.resolve=function(e,t,n){if(!t)return"[No messagecodes provided]";t=te.makeArray(t);var r=e.lookup(t);return r?r.resolveFunc(r.template,n):"[Message string for key "+t[0]+" not found]"},te.messageResolver.resolveOne=function(e,t){for(var n=0;n<t.length;++n){var r=e[t[n]];if(void 0!==r)return r}},te.messageLocator=function(e,t){var n=te.messageResolver({messageBase:e,resolveFunc:t});return function(e,t){return n.resolve(e,t)}};var re,ie={};ie.isBoundPrimitive=function(e){return te.isPrimitive(e)||te.isArrayable(e)&&(0===e.length||"string"==typeof e[0])},ie.duckMap={children:"UIContainer",value:"UIBound",valuebinding:"UIBound",messagekey:"UIMessage",markup:"UIVerbatim",selection:"UISelect",target:"UILink",choiceindex:"UISelectChoice",functionname:"UIInitBlock"};ie.boundMap=te.transform({UISelect:["selection","optionlist","optionnames"],UILink:["target","linktext"],UIVerbatim:["markup"],UIMessage:["messagekey"]},te.arrayToHash),ie.inferComponentType=function(e){for(var t in ie.duckMap)if(void 0!==e[t])return ie.duckMap[t]},ie.applyComponentType=function(e){e.componentType=ie.inferComponentType(e),void 0===e.componentType&&void 0!==e.ID&&(e.componentType="UIBound")},re=function(n,r,i){if(n&&ie.applyComponentType(n),!n||void 0===n.componentType){var e=n.decorators;e&&delete n.decorators,(n={componentType:"UIContainer",children:n}).decorators=e}var t=n.componentType;if("UIContainer"===t)n.children=function(e){if(te.isArrayable(e))return e;var t=[];for(var n in e){var r=e[n];if(te.isArrayable(r))for(var i=0;i<r.length;++i){var o=a(r[i],n);t[t.length]=o}else t[t.length]=a(r,n)}return t}(n.children);else{var o=ie.boundMap[t];o&&te.each(o,function(e,t){d(n,t,r,i)})}return n},te.NULL_STRING="â©nullâ©";var oe={a:"href",link:"href",img:"src",frame:"src",script:"src",style:"src",input:"src",embed:"src",form:"action",applet:"codebase",object:"codebase"};ie.decoratorComponentPrefix="**-renderer-",ie.IDtoComponentName=function(e,t){return ie.decoratorComponentPrefix+e.replace(/\./g,"")+"-"+t},ie.invokeFluidDecorator=function(e,t,n,r,i){var o;if(i.parentComponent){var a=i.parentComponent,s=ie.IDtoComponentName(n,r);te.set(a,["options","components",s],{type:e,container:t[0],options:t[1]}),o=te.initDependent(i.parentComponent,s)}else o=te.invokeGlobalFunction(e,t);return o},te.renderer=function(t,n,u,e){function v(e,t,n){return e.resourceKey+t.fullID+n}function y(e,t,n){var r,i=n?n[e]:null;if(i)for(var o=0;o<i.length;++o){var a=i[o];if(r||a.rsfID!==t||(r=a),a.rsfID===e)return a}return r}function r(e,t,n){Q={},X={},K={},G=e,function e(t,n){var r,i,o,a,s,l,u,d,c;for(r=0;r<t.children.length;++r){var p=t.children[r];p.children&&(s=n,c=void 0,u=(l=p).jointID?l.jointID:l.ID,d=te.SplitID(u).prefix+":",(o=(c=y(u,d,s.downmap))||(l.children&&(c=y(u,d,G))?c:null))&&(void 0!==(i=(W[p.fullID]=o).attributemap.id)&&(Q[v(n.parent,t,i)]=p.fullID),a=o.parent,X[a.href]||(te.aggregateMMap(K,a.collectmap),X[a.href]=!0),e(p,o)))}if(n.downmap)for(i in n.downmap){var f=n.downmap[i];for(r=0;r<f.length;++r){var h=f[r],m=h.attributemap.id;if(void 0!==m&&void 0!==h.rsfID&&null!==(o=U(t,h.rsfID))){var g=o.fullID;Q[v(n.parent,t,m)]=g}}}}(t,(W={})[t.fullID]=n)}function g(e,t,n){for(;t<n;++t){e[t].text&&($+=e[t].text)}}function S(e,t,n,r,i){for(var o=t;t!==e.length;){var a=e[t];if(a.nestingdepth<n)break;if(void 0!==a.rsfID){if(!i)break;if(!(i&&a.nestingdepth>n+(r?0:1)))break;te.log("Error in component tree - leaf component found to contain further components - at "+a.toString())}++t}return r||t!==e.length&&e[t].rsfID||--t,g(e,o,t),t}function b(e){return null!=e&&!0}function x(){Z.iselide||($+="<"+Z.uselump.tagname)}function C(){Z.iselide||($+="</"+Z.uselump.tagname+">")}function E(){g(Z.uselump.parent.lumps,Z.uselump.lumpindex+1,Z.close.lumpindex+(Z.iselide?0:1))}function i(){return Z.endopen.lumpindex===Z.close.lumpindex&&te.XMLP.closedTags[Z.uselump.tagname]}function _(){i()?Z.iselide||($+="/>"):(Z.iselide||($+=">"),g(Z.uselump.parent.lumps,Z.endopen.lumpindex,Z.close.lumpindex+(Z.iselide?0:1)))}function o(){Z.iselide||($+=te.dumpAttributes(Z.attrcopy)),_()}function w(){if(Z.iselide)o();else{$+=te.dumpAttributes(Z.attrcopy);var e=i();$+=e?"/>":">",Z.nextpos=e?Z.close.lumpindex+1:Z.endopen.lumpindex}}function T(e){$+=te.dumpAttributes(Z.attrcopy),Z.iselide||($+=">"),$+=te.XMLEncode(e.toString()),C()}function P(e){b(e)?T(e):o()}function a(e){$+='<input type="hidden" ';var t={};t[e.virtual?"id":"name"]=e.name,t.value=e.value,$+=te.dumpAttributes(t),$+=" />\n"}function k(e,t){function n(){te.applyBoundChange(te.byId(t,Y.document),void 0,i)}if(t){var r=Z.uselump.tagname,i=Y.applier;if(Y.autoBind&&/input|select|textarea/.test(r)&&!s[t]){var o=[{jQuery:["change",n]}];ee.browser.msie&&"input"===r&&/radio|checkbox/.test(Z.attrcopy.type)&&o.push({jQuery:["click",n]}),ee.browser.safari&&"input"===r&&"radio"===Z.attrcopy.type&&o.push({jQuery:["keyup",n]}),p(e,o,Z.attrcopy,t)}}}function L(e,t){if(e){var n=t||e;if(Y.fossils&&void 0!==n.valuebinding){var r=n.submittingname||e.finalID;Y.fossils[r]={name:r,EL:n.valuebinding,oldvalue:n.value},k(e,e.finalID)}e.fossilizedbinding&&a(e.fossilizedbinding),e.fossilizedshaper&&a(e.fossilizedshaper)}}function N(e){s[e.selection.fullID]||(s[e.selection.fullID]=!0,L(e.selection),L(e.optionlist),L(e.optionnames))}function R(e,t){var n=e.selection;return te.isArrayable(n.value)?-1!==n.value.indexOf(t):n.value===t}function I(e,t,n,r){n||delete e["rsf:id"],void 0!==t.finalID?e.id=t.finalID:void 0!==r?e.id=r:(e.id||n)&&(e.id=t.fullID);for(var i=1,o=e.id;Y.document.getElementById(e.id)||J[e.id];)e.id=o+"-"+i++;return 1!==i&&(a=o,s=e.id,te.each(Q,function(e,t){e===a&&(Q[t]=s)})),t.finalID=e.id,e.id;var a,s}function M(e,t,n){var r=n||t;return I(e,t,!0,t.fullID),void 0===r.submittingname&&!1!==r.willinput&&(r.submittingname=r.finalID||r.fullID),r.submittingname}function c(e){var t=[];if(e.type)t[0]=e;else for(var n in e){"$"===n&&(n="jQuery");var r=e[n],i={type:n};"jQuery"===n?(i.func=r[0],i.args=r.slice(1)):"addClass"===n||"removeClass"===n?i.classes=r:"attrs"===n?i.attributes=r:"identify"===n&&(i.key=r),t[t.length]=i}return t}function D(e,t){e.decorators&&(void 0===e.decorators.length&&(e.decorators=c(e.decorators)),p(e,e.decorators,t))}function A(e){if("UIMessage"===e.componentType)if(e.componentType="UIBound",Y.messageLocator){d(e,"messagekey",Y.model,Y.resolverGetConfig);var t=(n=e.args)?(n=te.copy(n),te.transform(n,function(e,t){return d(n,t,Y.model,Y.resolverGetConfig),n[t].value})):n;e.value=Y.messageLocator(e.messagekey.value,t)}else e.value="[No messageLocator is configured in options - please consult documentation on options.messageSource]";var n}function F(e){function t(e,t){te.fail("Error in component tree - UISelectChoice with id "+e.fullID+t)}var n,r=Z.attrcopy;A(e);var i,o=e.componentType,a=Z.uselump.tagname;if(D(e,r),"UIBound"===o||"UISelectChoice"===o){var s;void 0!==e.choiceindex&&(void 0!==e.parentRelativeID?(s=function(e,t){for(e=e.parent;0===t.indexOf("..::");)t=t.substring(4),e=e.parent;return e.childmap[t]}(e,e.parentRelativeID))||t(e," has parentRelativeID of "+e.parentRelativeID+" which cannot be resolved"):t(e," does not have parentRelativeID set"),M(r,e,s.selection),N(s));var l=s?s.selection.submittingname:e.submittingname;if(!s&&e.valuebinding&&(l=M(r,e)),"input"!==a&&"textarea"!==a||void 0!==l&&(r.name=l),L(e,s?s.selection:null),"boolean"==typeof e.value||"radio"===r.type||"checkbox"===r.type){var u,d=e.value;void 0!==e.choiceindex&&(s.optionlist.value||te.fail("Error in component tree - selection control with full ID "+s.fullID+" has no values"),d=R(s,u=s.optionlist.value[e.choiceindex])),b(d)&&(d?r.checked="checked":delete r.checked),r.value=te.XMLEncode(u||"true"),P(null)}else te.isArrayable(e.value)?E():(n=s?s["textarea"===a||"input"===a?"optionlist":"optionnames"].value[e.choiceindex]:e.value,"textarea"===a?P(n):"input"===a?((e.willinput||b(n))&&(r.value=te.XMLEncode(String(n))),P(null)):(delete r.name,i=n,Z.iselide?P(Z.value):b(i)?T(i):w()))}else if("UISelect"===o){var c="select"===a;if(te.isArrayable(e.selection.value)&&(!0,c&&(r.multiple="multiple")),M(r,e.selection),c&&(!1!==e.selection.willinput&&(r.name=e.selection.submittingname),k(e,r.id)),$+=te.dumpAttributes(r),c){$+=">";var p=e.optionlist.value,f=null!==e.optionnames&&void 0!==e.optionnames&&e.optionnames.value?e.optionnames.value:p;f&&f.length||te.fail("Error in component tree - UISelect component with fullID "+e.fullID+" does not have optionnames set");for(var h=0;h<f.length;++h)$+='<option value="',null===(n=p[h])&&(n=te.NULL_STRING),$+=te.XMLEncode(n),R(e,n)&&($+='" selected="selected'),$+='">',$+=te.XMLEncode(f[h]),$+="</option>\n";C()}else _();N(e)}else if("UILink"===o){var m=oe[a];if(m){A(e.target);var g=e.target.value;b(g)||(g=r[m]),g=function(e,t){if(Y.urlRewriter){var n=Y.urlRewriter(t);if(n)return n}if(!Y.rebaseURLs)return t;var r=t.indexOf(":/");return"/"===t.charAt(0)||-1!==r&&r<7?t:Y.baseURL+t}(Z.uselump.parent,g),r[m]=te.XMLEncode(g)}n=void 0,e.linktext&&(A(e.linktext),n=e.linktext.value),b(n)?P(n):w()}else if(void 0!==e.markup){A(e.markup);var v=e.markup.value;null===v?($+=te.dumpAttributes(r),$+=">",E()):(Z.iselide||($+=te.dumpAttributes(r),$+=">"),$+=v,C())}void 0!==r.id&&(J[r.id]=!0)}function O(e){$+="\x3c!-- "+te.XMLEncode(e)+"--\x3e"}function B(e){$+='<span style="background-color:#FF466B;color:white;padding:1px;">',$+=e,$+="</span><br/>"}function H(e,t,n){var r=n.lumpindex,i=n.parent.lumps,o=-1,a=i[r+1],s=n.close_tag;o=s.lumpindex+1;var l=n.downmap?n.downmap["payload-component"]:null,u=l?l[0]:null,d=126===n.rsfID.charCodeAt(0),c=a,p=s,f=n,h={};if(ee.extend(!0,h,(null===u?n:u).attributemap),Z.attrcopy=h,Z.uselump=f,Z.endopen=c,Z.close=p,Z.nextpos=o,Z.iselide=d,function(e){var t,n=Z.attrcopy.for;if(void 0!==n?t="for":void 0!==(n=Z.attrcopy.headers)&&(t="headers"),t){var r=Z.uselump.tagname;if(!("for"===t&&"label"!==r||"headers"===t&&"td"!==r&&"th"!==r)){var i=Q[v(Z.uselump.parent,e,n)];void 0!==i&&(Z.attrcopy[t]=i)}}}(e),null===t&&n.rsfID.indexOf("scr=")===(d?1:0)){var m=n.rsfID.substring(4+(d?1:0));"ignore"===m?o=Z.close.lumpindex+1:"rewrite-url"===m?t={componentType:"UILink",target:{}}:(x(),w(),o=Z.endopen.lumpindex)}return null!==t&&(u&&(Z.endopen=i[u.lumpindex+1],Z.close=u.close_tag,g(i,r,(Z.uselump=u).lumpindex),r=u.lumpindex),I(h,t),x(),F(t),null!==u&&Z.nextpos===o&&g(i,Z.close.lumpindex+1,s.lumpindex+1),o=Z.nextpos),o}function V(e,t){var n=t.parent.lumps[t.lumpindex+1];void 0!==e.children?function(e,t){if(!t.elide){var n={};ee.extend(!0,n,t.attributemap),I(n,e),D(e,n),$+="<"+t.tagname+" ",$+=te.dumpAttributes(n),$+=">"}}(e,t):H(e.parent,e,t),q(e,t,n)}function z(e,t){for(var n;e&&!(n=e.childmap[t]);)e=e.parent;return n}n=n||{};var j=(u=u||{}).debugMode;!u.messageLocator&&u.messageSource&&(u.messageLocator=te.resolveMessageSource(u.messageSource)),u.document=u.document||document,u.jQuery=u.jQuery||ee,u.fossils=u.fossils||e||{};var U,p,q,G={},W={},Q={},X={},K={},$="",Y=u,f=[],s={},J={},l={options:u},Z={};return p=function(e,t,n,r){var i,o=function(e,t){null==e?delete n[t]:n[t]=te.XMLEncode(e)};Y.idMap=Y.idMap||{};for(var a=0;a<t.length;++a){var s=t[a],l=s.type;if(l)if("$"===l&&(l=s.type="jQuery"),"jQuery"===l||"event"===l||"fluid"===l)i=I(n,e,!0,r),void 0===s.ids&&(s.ids=[],f[f.length]=s),s.ids.push(i);else if("attrs"===l)te.each(s.attributes,o);else if("addClass"===l||"removeClass"===l){var u=ee("<div>",{class:n.class})[0];Y.jQuery(u)[l](s.classes),n.class=u.className}else"identify"===l?(i=I(n,e,!0,r),Y.idMap[s.key]=i):"null"!==l&&te.log("Unrecognised decorator of type "+l+" found at component of ID "+r);else{var d=c(s);p(e,d,n,r)}}},U=function(e,t){if(0===t.indexOf("msg="))return{componentType:"UIMessage",messagekey:t.substring(4)};for(;e;){var n=e.childmap[t];if(n)return n;e=e.parent}return null},q=function(e,t,n){var r,i,o,a,s,l,u,d,c,p=n.lumpindex,f=t.nestingdepth,h=t.parent;for(j&&(a={});(p=S(h.lumps,p,f,!t.elide,!1))!==h.lumps.length;){var m=h.lumps[p],g=m.rsfID;if(m.nestingdepth<f||void 0===g)break;if(126===g.charCodeAt(0)&&(g=g.substring(1)),-1!==g.indexOf(":")){var v=te.getPrefix(g);r=z(e,v);var y=m.uplump.finallump[v].close_tag;if(r)for(var b=0;b<r.length;++b)if((o=r[b]).children)j&&(a[o.fullID]=!0),(i=W[o.fullID])?(j&&O("Branching for "+o.fullID+" from "+te.debugLump(m)+" to "+te.debugLump(i)),V(o,i),j&&O("Branch returned for "+o.fullID+te.debugLump(m)+" to "+te.debugLump(i))):j&&B("No matching template branch found for branch container with full ID "+o.fullID+" rendering from parent template branch "+te.debugLump(n));else{if(l=t,u=o,c=void 0,d=te.SplitID(u.ID),(c=l.downmap[u.ID])||(c=l.downmap[d.prefix+":"]),!(i=c?c[0]:null)){j&&B("Repetitive leaf with full ID "+o.fullID+" could not be rendered from parent template branch "+te.debugLump(n));continue}var x=H(e,o,i),C=x<h.lumps.lengtn&&h.lumps[x].nestingdepth>=i.nestingdepth,E=o.children?o:e;C&&(q(E,i,h.lumps[x]),x=i.close_tag.lumpindex+1),b!==r.length-1?x<y.lumpindex&&S(h.lumps,x,i.nestingdepth-1,!1,!1):S(h.lumps,x,i.nestingdepth,!0,!1)}else j&&B("No branch container with prefix "+v+": found in container "+(void 0,(s=e.fullID)?"full path "+s:"component tree root")+" rendering at template position "+te.debugLump(n)+", skipping");p=y.lumpindex+1,j&&O("Stack returned from branch for ID "+g+" to "+te.debugLump(n)+": skipping from "+te.debugLump(m)+" to "+te.debugLump(y))}else{var _;g&&(_=U(e,g,m),j&&_&&(a[_.fullID]=!0)),_&&void 0!==_.children?(V(_),p=m.close_tag.lumpindex+1):p=H(e,_,m)}if(p===h.lumps.length)break}if(j){r=e.children;for(var w=0;w<r.length;++w)a[(o=r[w]).fullID]||B("Component "+o.componentType+" with full ID "+o.fullID+" could not be found within template "+te.debugLump(n))}},l.renderTemplates=function(){n=function e(t,n,r){if(void 0===t.componentType&&(t=re(t,n,r)),"UIContainer"===t.componentType||t.parent||(t={children:[t]}),t.children){t.childmap={};for(var i=0;i<t.children.length;++i){var o=t.children[i];void 0===o.componentType&&(o=re(o,n,r),t.children[i]=o),o.parent=t,void 0===o.ID&&te.fail("Error in component tree: component found with no ID "+h(o));var a=(t.childmap[o.ID]=o).ID.indexOf(":");if(-1===a);else{var s=o.ID.substring(0,a),l=t.childmap[s];l||(l=[],t.childmap[s]=l),void 0===o.localID&&0!==l.length&&(o.localID=l.length),l[l.length]=o}o.fullID=m(o);var u=o.componentType;if("UISelect"===u)o.selection.fullID=o.fullID;else if("UIInitBlock"===u){for(var d=o.functionname+"(",c=o.arguments,p=0;p<c.length;++p)c[p]instanceof te.ComponentReference&&(c[p]=o.parent.fullID+c[p].reference),d+=JSON.stringify(c[p]),p<c.length-1&&(d+=", ");o.markup={value:d+")\n"},o.componentType="UIVerbatim"}else"UIBound"===u&&ne(o,n,r);e(o,n,r)}}return t}(n,u.model,u.resolverGetConfig);var e=t[0];return r(t.globalmap,n,e.rootlump),s={},function(){for(var e in K)for(var t=K[e],n=0;n<t.length;++n)g((r=t[n]).parent.lumps,r.lumpindex,r.close_tag.lumpindex+1);var r}(),q(n,e.rootlump,e.lumps[e.firstdocumentindex]),$},l.processDecoratorQueue=function(){!function(){for(var e=0;e<f.length;++e)for(var t=f[e],n=0;n<t.ids.length;++n){var r=t.ids[n],i=te.byId(r,Y.document);if(i||te.fail("Error during rendering - component with id "+r+" which has a queued decorator was not found in the output markup"),"jQuery"===t.type){var o=Y.jQuery(i);o[t.func].apply(o,te.makeArray(t.args))}else if("fluid"===t.type){var a=t.args;if(!a){var s=Y.jQuery(i);t.container?t.container.push(i):t.container=s,a=[s,t.options]}var l=ie.invokeFluidDecorator(t.func,a,r,e,u);t.that=l}else"event"===t.type&&(i[t.event]=t.handler)}}()},l},jQuery.extend(!0,te.renderer,ie),te.ComponentReference=function(e){this.reference=e},te.explode=function(e,t){var n=[];for(var r in e){var i=void 0===t?r:t+"."+r;n[n.length]={ID:r,value:e[r],valuebinding:i}}return n},te.explodeSelectionToInputs=function(e,n){return te.transform(e,function(e,t){return{ID:n.rowID,children:[{ID:n.inputID,parentRelativeID:"..::"+n.selectID,choiceindex:t},{ID:n.labelID,parentRelativeID:"..::"+n.selectID,choiceindex:t}]}})},te.resolveMessageSource=function(e){if("data"===e.type){if(void 0===e.url)return te.messageLocator(e.messages,e.resolveFunc)}else if("resolver"===e.type)return e.resolver.resolve},te.renderTemplates=function(e,t,n,r){return te.renderer(e,t,n,r).renderTemplates()},te.reRender=function(e,t,n,r){r=r||{};var i=te.renderer(e,n,r,r.fossils);r=i.options,t=te.unwrap(t);var o,a=te.getLastFocusedElement?te.getLastFocusedElement():null;a&&te.dom.isContainer(t,a)&&(o=a.id),ee.browser.msie?r.jQuery(t).empty():t.innerHTML="";var s=i.renderTemplates();if(r.renderRaw&&(s=(s=te.XMLEncode(s)).replace(/\n/g,"<br/>")),r.model&&te.bindFossils(t,r.model,r.fossils),ee.browser.msie?r.jQuery(t).html(s):t.innerHTML=s,i.processDecoratorQueue(),o){var l=te.byId(o,r.document);l&&r.jQuery(l).focus()}return e},te.extractTemplate=function(e,t){return t?(n=e,0===(r=te.dom.iterateDom(n,function(e){return 8===e.nodeType||4===e.nodeType?"stop":null},!0).nodeValue).indexOf("[CDATA[")?r.substring(6,r.length-2):r):e.innerHTML;var n,r},te.render=function(e,t,n,r){r=r||{};var i=e;"object"==typeof e&&(i=te.extractTemplate(te.unwrap(e.node),e.armouring)),t=te.unwrap(t);var o={base:{resourceText:i,href:".",resourceKey:".",cutpoints:r.cutpoints}},a=te.parseTemplates(o,["base"],r);return te.reRender(a,t,n,r)},te.selfRender=function(e,t,n){return n=n||{},te.render({node:e,armouring:n.armouring},e,t,n)}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(m,g){"use strict";g.renderer||g.fail("fluidRenderer.js is a necessary dependency of RendererUtilities"),g.renderer.visitDecorators=function(e,n){g.visitComponentChildren(e,function(e,t){0===t.indexOf(g.renderer.decoratorComponentPrefix)&&n(e,t)},{flat:!0},[])},g.renderer.clearDecorators=function(n){var r=g.getInstantiator(n);g.renderer.visitDecorators(n,function(e,t){r.clearComponent(n,t)})},g.renderer.getDecoratorComponents=function(e){var n={};return g.renderer.visitDecorators(e,function(e,t){n[t]=e}),n},g.renderer.modeliseOptions=function(e,t,n){return m.extend({},t,g.filterKeys(n,["model","applier"]),e)},g.renderer.reverseMerge=function(t,n,e){e=g.makeArray(e),g.each(e,function(e){void 0===t[e]&&void 0!==n[e]&&(t[e]=n[e])})},g.renderer.createRendererSubcomponent=function(r,i,o,a,e){var s=(o=o||{}).templateSource?o.templateSource:{node:m(r)},l=void 0===o.rendererOptions.model,u=g.renderer.modeliseOptions(o.rendererOptions,null,a);if(u.fossils=e||{},u.parentComponent=a,r.jquery){var t={document:r[0].ownerDocument,jQuery:r.constructor};g.renderer.reverseMerge(u,t,g.keys(t))}var n={},d=null;return n.render=function(e){var t=o.cutpointGenerator||"fluid.renderer.selectorsToCutpoints";u.cutpoints=u.cutpoints||g.invokeGlobalFunction(t,[i,o]),l&&(u.model=a.model);var n=m(o.renderTarget?o.renderTarget:r);d?(g.clear(u.fossils),g.reRender(d,n,e,u)):("function"==typeof s&&(s=s()),d=g.render(s,n,e,u))},n},g.defaults("fluid.rendererComponent",{gradeNames:["fluid.viewComponent"],initFunction:"fluid.initRendererComponent",mergePolicy:{"rendererOptions.idMap":"nomerge",protoTree:"noexpand, replace",parentBundle:"nomerge","changeApplierOptions.resolverSetConfig":"resolverSetConfig"},invokers:{refreshView:{funcName:"fluid.rendererComponent.refreshView",args:"{that}"},produceTree:{funcName:"fluid.rendererComponent.produceTree",args:"{that}"}},rendererOptions:{autoBind:!0},events:{onResourcesFetched:null,prepareModelForRender:null,onRenderTree:null,afterRender:null},listeners:{onCreate:{funcName:"fluid.rendererComponent.renderOnInit",args:["{that}.options.renderOnInit","{that}"],priority:"last"}}}),g.rendererComponent.renderOnInit=function(e,t){(e||t.renderOnInit)&&t.refreshView()},g.protoExpanderForComponent=function(e,t){var n=g.renderer.modeliseOptions(t.expanderOptions,{ELstyle:"${}"},e);return g.renderer.reverseMerge(n,t,["resolverGetConfig","resolverSetConfig"]),g.renderer.makeProtoExpander(n,e)},g.rendererComponent.refreshView=function(e){if(e.renderer){g.renderer.clearDecorators(e),e.events.prepareModelForRender.fire(e.model,e.applier,e);var t=e.produceTree(e),n=e.renderer.rendererFnOptions;if(!n.noexpand)t=g.protoExpanderForComponent(e,n)(t);e.events.onRenderTree.fire(e,t),e.renderer.render(t),e.events.afterRender.fire(e)}else e.renderOnInit=!0},g.rendererComponent.produceTree=function(e){var t=e.options.produceTree;return t?("string"==typeof t?g.getGlobalValue(t):t)(e):e.options.protoTree},g.initRendererComponent=function(e,t,n){var r=g.initView(e,t,n,{gradeNames:["fluid.rendererComponent"]});g.getForComponent(r,"model"),g.getForComponent(r,"applier"),g.diagnoseFailedView(e,r,g.defaults(e),arguments),g.fetchResources(r.options.resources,r.events.onResourcesFetched.fire);var i,o=g.renderer.modeliseOptions(r.options.rendererOptions,null,r);!o.messageSource&&r.options.strings&&(i=g.messageResolver({messageBase:r.options.strings,resolveFunc:r.options.messageResolverFunction,parents:g.makeArray(r.options.parentBundle)}),o.messageSource={type:"resolver",resolver:i}),g.renderer.reverseMerge(o,r.options,["resolverGetConfig","resolverSetConfig"]),r.rendererOptions=o;var a=m.extend({},r.options.rendererFnOptions,{rendererOptions:o,repeatingSelectors:r.options.repeatingSelectors,selectorsToIgnore:r.options.selectorsToIgnore,expanderOptions:{envAdd:{styles:r.options.styles}}});r.options.resources&&r.options.resources.template&&(a.templateSource=function(){return r.options.resources.template.resourceText}),g.renderer.reverseMerge(a,r.options,["resolverGetConfig","resolverSetConfig"]),a.rendererTargetSelector&&(t=function(){return r.dom.locate(a.rendererTargetSelector)});var s={fossils:{},rendererFnOptions:a,boundPathForNode:function(e){return g.boundPathForNode(e,s.fossils)}},l=g.renderer.createRendererSubcomponent(t,r.options.selectors,a,r,s.fossils);return r.renderer=m.extend(s,l),i&&(r.messageResolver=i),s.refreshView=g.getForComponent(r,"refreshView"),r};var a=function(t,e){return e&&g.each(e,function(e){t===e&&(t+=":")}),t};g.renderer.selectorsToCutpoints=function(e,t){var n,r,i=[];for(var o in t=t||{},e=g.copy(e),t.selectorsToIgnore&&(n=e,r=t.selectorsToIgnore,g.each(g.makeArray(r),function(e){delete n[e]}),e=n),e)i.push({id:a(o,t.repeatingSelectors),selector:e[o]});return i},g.renderer.NO_COMPONENT={},g.renderer.mergeComponents=function(e,t){for(var n in t)e[n]=t[n];return e},g.registerNamespace("fluid.renderer.selection"),g.renderer.selection.inputs=function(i,e,t,n){g.expect("Selection to inputs expander",i,["selectID","inputID","labelID","rowID"]);var r=n.expander(i.tree),o=g.transform(r.optionlist.value,function(e,t){var n={},r={parentRelativeID:"..::"+i.selectID,choiceindex:t};return n[i.inputID]=r,n[i.labelID]=g.copy(r),n}),a={};return a[i.selectID]=r,a[i.rowID]={children:o},n.expander(a)},g.renderer.repeat=function(o,e,t,a){g.expect("Repetition expander",o,["controlledBy","tree"]);var s=a.threadLocal(),l=g.extractContextualPath(o.controlledBy,{ELstyle:"ALL"},s),n=g.get(a.model,l,a.resolverGetConfig);if(!n||0===n.length)return o.ifEmpty?a.expander(o.ifEmpty):{};var u=[];g.each(n,function(e,t){var n=g.model.composePath(l,t),r={};o.pathAs&&(r[o.pathAs]="${"+n+"}"),o.valueAs&&(r[o.valueAs]=g.get(a.model,n,a.resolverGetConfig));var i=g.withEnvironment(r,function(){return a.expander(o.tree)},s);g.isArrayable(i)?0<i.length&&u.push({children:i}):i!==g.renderer.NO_COMPONENT&&u.push(i)});var r=o.repeatID;return-1===r.indexOf(":")&&(r+=":"),g.each(u,function(e){e.ID=r}),u},g.renderer.condition=function(e,t,n,r){var i;if(g.expect("Selection to condition expander",e,["condition"]),e.condition.funcName){var o=r.expandLight(e.condition.args);i=g.invokeGlobalFunction(e.condition.funcName,o)}else i=e.condition.expander?r.expander(e.condition):r.expandLight(e.condition);var a=i?e.trueTree:e.falseTree;return a||(a=g.renderer.NO_COMPONENT),r.expander(a)},g.extractContextualPath=function(e,t,n,r){var i=g.extractELWithContext(e,t);if(i)return i.context?n[i.context]?g.transformContextPath(i,n).path:{value:r(i)}:i.path},g.transformContextPath=function(e,t){if(e.context){var n,r=t[e.context];if("string"==typeof r&&(n=g.extractEL(r,{ELstyle:"${}"})),n)return{noDereference:""===e.path,path:g.model.composePath(n,e.path)}}return e},g.renderer.makeExternalFetcher=function(n){return function(e){var t=g.resolveContext(e.context,n);return t?g.getForComponent(t,e.path):void 0}},g.renderer.makeProtoExpander=function(e,t){var s=m.extend({ELstyle:"${}"},e);t&&(s.externalFetcher=g.renderer.makeExternalFetcher(t));var l,u=s.IDescape||"\\",d=function(e){return g.expand(e,s)},c=function(e,t){if(void 0!==e.messagekey)return{componentType:"UIMessage",messagekey:c(e.messagekey),args:d(e.args)};var n,r,i,o;if(g.isPrimitive(e)||g.isArrayable(e)?n={}:((n=m.extend({},e)).decorators&&(n.decorators=d(n.decorators)),e=n.value,delete n.value),"string"==typeof e){var a=(i=e,o=l(),g.extractContextualPath(i,s,o,s.externalFetcher));r="string"==typeof a?a:null,e=g.get(a,"value")||e}return r?n.valuebinding=r:void 0!==e&&(n.value=e),s.model&&n.valuebinding&&void 0===n.value&&(n.value=g.get(s.model,n.valuebinding,s.resolverGetConfig)),t&&(n.componentType="UIBound"),n};s.filter=g.expander.lightFilter;var o,p,f={model:s.model,resolverGetConfig:s.resolverGetConfig,resolverSetConfig:s.resolverSetConfig,expander:function(e){if(e===g.renderer.NO_COMPONENT)return e;var t,n=[];return p(e,n,function(e){t=e}),t||n},expandLight:d},h=function(e,t){for(var n=e.children,r=0;r<n.length;++r){var i=[],o={children:i},a=n[r];p(a,i,function(e){i[i.length]=e}),1!==o.children.length||o.children[0].ID||(o=o.children[0]),t(o)}};return p=function(e,t,n){var r,i=g.renderer.inferComponentType(e);i||!g.isPrimitive(e)&&(r=e,!(!1!==g.find(r,function(e,t){return"decorators"===t})))||(i="UIBound"),i?n("UIBound"===i?c(e,!0):function(e,t){var n={componentType:t},r=g.renderer.boundMap[t]||{};for(var i in e)/decorators|args/.test(i)?n[i]=d(e[i]):r[i]?n[i]=c(e[i]):n[i]=e[i];return n}(e,i)):(t||g.fail("Illegal cond->cond transition"),o(e,t))},o=function(n,r){var i,e=function(e){var t=g.invokeGlobalFunction(e.type,[e,n,i,f]);t!==g.renderer.NO_COMPONENT&&g.each(t,function(e){r[r.length]=e})},t=function(e){e.ID=i,r[r.length]=e};for(i in n){var o=n[i];if(i.charAt(0)===u&&(i=i.substring(1)),"expander"===i){var a=g.makeArray(o);g.each(a,e)}else o&&(o.children?(-1===i.indexOf(":")&&(i+=":"),h(o,t)):g.renderer.isBoundPrimitive(o)?t(c(o,!0)):p(o,null,t))}},function(e){return l=g.threadLocal(function(){return m.extend({},s.envAdd)}),s.fetcher=g.makeEnvironmentFetcher(s.model,g.transformContextPath,l,s.externalFetcher),f.threadLocal=l,o(e,t=[]),{children:t};var t}}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.registerNamespace("fluid.overviewPanel"),t.overviewPanel.makeBooleanListener=function(t,e,n,r,i){t.locate(e)[n](function(e){t.applier.change(r,"toggle"===i?!t.model[r]:i),e.preventDefault()})},t.defaults("fluid.overviewPanel",{gradeNames:["fluid.rendererComponent"],resources:{template:{href:"../html/overviewPanelTemplate.html"}},listeners:{"onCreate.setVisibility":"{that}.setVisibility","onCreate.showTemplate":"fluid.overviewPanel.showTemplate","afterRender.registerToggleListener":{funcName:"fluid.overviewPanel.makeBooleanListener",args:["{that}","toggleControl","click","showPanel","toggle"]},"afterRender.registerCloseListener":{funcName:"fluid.overviewPanel.makeBooleanListener",args:["{that}","closeControl","click","showPanel",!1]},"afterRender.setLinkHrefs":{funcName:"fluid.overviewPanel.setLinkHrefs",args:["{that}","{that}.options.links"]},"afterRender.setToggleControlAria":{this:"{that}.dom.toggleControl",method:"attr",args:{role:"button","aria-controls":"{that}.containerId"}},"afterRender.setCloseControlAria":{this:"{that}.dom.closeControl",method:"attr",args:{role:"button","aria-label":"{that}.options.strings.closePanelLabel","aria-controls":"{that}.containerId"}},"afterRender.setAriaStates":"{that}.setAriaStates"},model:{showPanel:!0},modelListeners:{"showPanel.setVisibility":"{that}.setVisibility","showPanel.setAriaStates":"{that}.setAriaStates"},members:{containerId:{expander:{funcName:"fluid.allocateSimpleId",args:"{that}.container"}}},invokers:{setVisibility:{funcName:"fluid.overviewPanel.setVisibility",args:["{that}","{that}.model.showPanel"]},setAriaStates:{funcName:"fluid.overviewPanel.setAriaStates",args:["{that}","{that}.model.showPanel"]}},selectors:{toggleControl:".flc-overviewPanel-toggleControl",titleBegin:".flc-overviewPanel-title-begin",titleLink:".flc-overviewPanel-titleLink",titleLinkText:".flc-overviewPanel-title-linkText",titleEnd:".flc-overviewPanel-title-end",componentName:".flc-overviewPanel-componentName",description:".flc-overviewPanel-description",instructionsHeading:".flc-overviewPanel-instructionsHeading",instructions:".flc-overviewPanel-instructions",demoCodeLink:".flc-overviewPanel-demoCodeLink",demoCodeLinkText:".flc-overviewPanel-demoCodeLinkText",infusionCodeLink:".flc-overviewPanel-infusionCodeLink",infusionCodeLinkText:".flc-overviewPanel-infusionCodeLinkText",apiLink:".flc-overviewPanel-apiLink",apiLinkText:".flc-overviewPanel-apiLinkText",designLink:".flc-overviewPanel-designLink",designLinkText:".flc-overviewPanel-designLinkText",feedbackText:".flc-overviewPanel-feedbackText",feedbackLink:".flc-overviewPanel-feedbackLink",feedbackLinkText:".flc-overviewPanel-feedbackLinkText",closeControl:".flc-overviewPanel-closeControl",closeText:".flc-overviewPanel-closeText"},selectorsToIgnore:["toggleControl","titleLink","demoCodeLink","infusionCodeLink","apiLink","designLink","feedbackLink","closeControl"],protoTree:{titleBegin:{messagekey:"titleBegin"},titleLinkText:{messagekey:"titleLinkText"},titleEnd:{messagekey:"titleEnd"},componentName:{messagekey:"componentName"},description:{markup:"${{that}.options.markup.description}"},instructionsHeading:{messagekey:"instructionsHeading"},instructions:{markup:"${{that}.options.markup.instructions}"},demoCodeLinkText:{messagekey:"demoCodeLinkText"},infusionCodeLinkText:{messagekey:"infusionCodeLinkText"},apiLinkText:{messagekey:"apiLinkText"},designLinkText:{messagekey:"designLinkText"},feedbackText:{messagekey:"feedbackText"},feedbackLinkText:{messagekey:"feedbackLinkText"},closeText:{messagekey:"closeText"}},styles:{hidden:"fl-overviewPanel-hidden"},strings:{titleBegin:"An",titleLinkText:"Infusion",titleEnd:"component demo",componentName:"Component Name",instructionsHeading:"Instructions",demoCodeLinkText:"demo code",infusionCodeLinkText:"get Infusion",apiLinkText:"API",designLinkText:"design",feedbackText:"Found a bug? Have a question?",feedbackLinkText:"Let us know!",closeText:"close",openPanelLabel:"Open the overview panel",closePanelLabel:"Close the overview panel"},markup:{description:"A description of the component should appear here. It should say: <ul><li>What the component does.</li><li>Why it is interesting / useful.</li></ul>",instructions:"<p>Do this to do this. Do that to do that.</p>"},links:{titleLink:"http://fluidproject.org/infusion.html",demoCodeLink:"#",infusionCodeLink:"https://github.com/fluid-project/infusion/",apiLink:"#",designLink:"#",feedbackLink:"#"}}),t.overviewPanel.setVisibility=function(e,t){e.container.toggleClass(e.options.styles.hidden,!t)},t.overviewPanel.showTemplate=function(e){t.fetchResources(e.options.resources,function(){e.refreshView()})},t.overviewPanel.setLinkHrefs=function(n,e){t.each(e,function(e,t){n.locate(t).attr("href",e)})},t.overviewPanel.setAriaStates=function(e,t){e.locate("toggleControl").attr("aria-pressed",!t),e.locate("toggleControl").attr("aria-expanded",t),e.locate("closeControl").attr("aria-expanded",t),t?e.locate("toggleControl").attr("aria-label",e.options.strings.closePanelLabel):e.locate("toggleControl").attr("aria-label",e.options.strings.openPanelLabel)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,o){"use strict";o.registerNamespace("fluid.pager"),o.pager.updateStyles=function(e,t,n){n&&void 0!==n.pageIndex&&e.pageLinks.eq(n.pageIndex).removeClass(e.options.styles.currentPage);e.pageLinks.eq(t.pageIndex).addClass(e.options.styles.currentPage)},o.pager.bindLinkClick=function(e,t,n){e.off("click.fluid.pager"),e.on("click.fluid.pager",function(){return t.fire(n),!1})},o.pager.computePageCount=function(e){return Math.max(1,Math.floor((e.totalRange-1)/e.pageSize)+1)},o.pager.computePageLimit=function(e){return Math.min(e.totalRange,(e.pageIndex+1)*e.pageSize)},o.pager.bindLinkClicks=function(e,n){o.each(e,function(e,t){o.pager.bindLinkClick(r(e),n,{pageIndex:t})})},o.defaults("fluid.pager.pageList",{gradeNames:["fluid.viewComponent"]}),o.defaults("fluid.pager.directPageList",{gradeNames:["fluid.pager.pageList"],listeners:{onCreate:{funcName:"fluid.pager.bindLinkClicks",args:["{that}.pageLinks","{pager}.events.initiatePageChange"]}},modelListeners:{"{pager}.model":"fluid.pager.updateStyles({that}, {change}.value, {change}.oldValue)"},members:{pageLinks:"{that}.dom.pageLinks",defaultModel:{totalRange:"{that}.pageLinks.length"}}}),o.pager.everyPageStrategy=o.iota,o.pager.gappedPageStrategy=function(s,l){return s||(s=3),l||(l=s),function(e,t,n){for(var r=[],i=0,o=!1,a=0;a<e;++a)a<s||e-a-1<s||n-l<=a&&a<=n+l?(r[i++]=a,o=!1):o||(r[i++]=-1,o=!0);return r}},o.pager.consistentGappedPageStrategy=function(c,p){c||(c=1),p||(p=c);var f=c+2+p;return function(e,t,n){for(var r=[],i=n<f,o=e-f<=n,a=f+p,s=n-p,l=n+p,u=!1,d=0;d<e;d++)d<c||e-d<=c||i&&d<a||o&&e-a<=d||s<=d&&d<=l?(r.push(d),u=!1):u||(r.push(-1),u=!0);return r}},o.registerNamespace("fluid.pager.renderedPageList"),o.pager.renderedPageList.assembleComponent=function(t,e,n,r,i){var o={ID:"page-link:link",localID:t+1,value:t+1,pageIndex:t,decorators:[{identify:"pageLink:"+t},{type:"jQuery",func:"click",args:function(e){n.fire({pageIndex:t}),e.preventDefault()}}]};return e&&(o.current=!0,o.decorators=o.decorators.concat([{type:"addClass",classes:r},{type:"jQuery",func:"attr",args:["aria-label",i]}])),o},o.pager.renderedPageList.onModelChange=function(t,e){var n,r=t.options.pageStrategy(e.pageCount,0,e.pageIndex),i=o.transform(r,(n=e.pageIndex,function(e){return-1===e?{ID:"page-link:skip"}:t.assembleComponent(e,e===n)}));1<i.length&&(i[i.length-1].value=i[i.length-1].value+t.options.strings.last),t.events.onRenderPageLinks.fire(i,e),t.pageTree=i,t.refreshView()},o.pager.renderedPageList.renderLinkBody=function(e,t){e&&t.cutpoints.push({id:"payload-component",selector:e})},o.defaults("fluid.pager.renderedPageList",{gradeNames:["fluid.pager.pageList","fluid.rendererComponent"],rendererOptions:{idMap:{},cutpoints:[{id:"page-link:link",selector:"{that}.options.selectors.pageLinks"},{id:"page-link:skip",selector:"{that}.options.selectors.pageLinkSkip"}]},rendererFnOptions:{noexpand:!0,templateSource:{node:"{that}.dom.root"},renderTarget:"{that}.dom.root"},events:{onRenderPageLinks:"{pager}.events.onRenderPageLinks"},listeners:{onCreate:{funcName:"fluid.pager.renderedPageList.renderLinkBody",args:["{that}.options.linkBody","{that}.options.rendererOptions"]}},modelListeners:{"{pager}.model":"fluid.pager.renderedPageList.onModelChange({that}, {change}.value)"},invokers:{produceTree:{funcName:"fluid.identity",args:"{that}.pageTree"},assembleComponent:{funcName:"fluid.pager.renderedPageList.assembleComponent",args:["{arguments}.0","{arguments}.1","{pager}.events.initiatePageChange","{pagerBar}.options.styles.currentPage","{pagerBar}.options.strings.currentPageIndexMsg"]}},selectors:{root:".flc-pager-links",pageLinks:"{pagerBar}.options.selectors.pageLinks",pageLinkSkip:"{pagerBar}.options.selectors.pageLinkSkip"},strings:"{pager}.options.strings",linkBody:"a",pageStrategy:o.pager.everyPageStrategy}),o.defaults("fluid.pager.previousNext",{gradeNames:["fluid.viewComponent"],members:{previous:"{that}.dom.previous",next:"{that}.dom.next"},selectors:{previous:".flc-pager-previous",next:".flc-pager-next"},listeners:{onCreate:[{funcName:"fluid.pager.bindLinkClick",args:["{that}.previous","{pager}.events.initiatePageChange",{relativePage:-1}]},{funcName:"fluid.pager.bindLinkClick",args:["{that}.next","{pager}.events.initiatePageChange",{relativePage:1}]}]},modelListeners:{"{pager}.model":"fluid.pager.previousNext.update({that}, {that}.options.styles.disabled, {change}.value)"}}),o.pager.previousNext.update=function(e,t,n){e.previous.toggleClass(t,0===n.pageIndex),e.next.toggleClass(t,n.pageIndex===n.pageCount-1)},o.defaults("fluid.pager.pagerBar",{gradeNames:["fluid.viewComponent"],components:{pageList:{type:"fluid.pager.pageList",container:"{pagerBar}.container",options:{selectors:{pageLinks:"{pagerBar}.options.selectors.pageLinks"},styles:"{pagerBar}.options.styles"}},previousNext:{type:"fluid.pager.previousNext",container:"{pagerBar}.container",options:{selectors:{previous:"{pagerBar}.options.selectors.previous",next:"{pagerBar}.options.selectors.next"},styles:"{pagerBar}.options.styles"}}},events:{initiatePageChange:null,onModelChange:null},selectors:{pageLinks:".flc-pager-pageLink",pageLinkSkip:".flc-pager-pageLink-skip",previous:".flc-pager-previous",next:".flc-pager-next"},styles:{currentPage:"fl-pager-currentPage",disabled:"fl-pager-disabled"},strings:{currentPageIndexMsg:"Current page"}}),o.pager.summaryAria=function(e){e.attr({"aria-relevant":"all","aria-atomic":"false","aria-live":"assertive",role:"status"})},o.defaults("fluid.pager.summary",{gradeNames:["fluid.viewComponent"],listeners:{onCreate:{funcName:"fluid.pager.summaryAria",args:"{that}.container"}},modelListeners:{"{pager}.model":{funcName:"fluid.pager.summary.onModelChange",args:["{that}.container","{that}.options.strings.message","{change}.value"]}}}),o.pager.summary.onModelChange=function(e,t,n){var r=o.stringTemplate(t,{first:n.pageIndex*n.pageSize+1,last:o.pager.computePageLimit(n),total:n.totalRange,currentPage:n.pageIndex+1});e.text(r)},o.defaults("fluid.pager.directPageSize",{gradeNames:["fluid.viewComponent"],listeners:{onCreate:{this:"{that}.container",method:"change",args:{expander:{funcName:"fluid.pager.directPageSize.onChange",args:["{pager}.events.initiatePageSizeChange","{that}.container"]}}}},modelListeners:{"{pager}.model.pageSize":"fluid.pager.updateNodeValue({that}.container, {change}.value)"}}),o.pager.directPageSize.onChange=function(e,t){return function(){e.fire(t.val()||1)}},o.pager.updateNodeValue=function(e,t){e.val(t)},o.pager.initiatePageChangeListener=function(e,t){var n=t.pageIndex;void 0!==t.relativePage&&(n=e.model.pageIndex+t.relativePage),e.applier.change("pageIndex",n)},o.defaults("fluid.pager",{gradeNames:["fluid.viewComponent"],events:{initiatePageChange:null,initiatePageSizeChange:null,onModelChange:null,onRenderPageLinks:null,afterRender:null},model:{pageIndex:0,pageSize:1,totalRange:{expander:{func:"{that}.acquireDefaultRange"}}},selectors:{pagerBar:".flc-pager-top, .flc-pager-bottom",summary:".flc-pager-summary",pageSize:".flc-pager-page-size"},strings:{last:" (last)"},markup:{rangeAnnotation:"<b> %first </b><br/>&mdash;<br/><b> %last </b>"},distributeOptions:{source:"{that}.options.pageList",removeSource:!0,target:"{that fluid.pager.pageList}"},pageList:{type:"fluid.pager.renderedPageList",options:{pageStrategy:o.pager.gappedPageStrategy(3,1)}},modelRelay:[{target:"pageCount",singleTransform:{type:"fluid.transforms.free",args:{totalRange:"{that}.model.totalRange",pageSize:"{that}.model.pageSize"},func:"fluid.pager.computePageCount"}},{target:"pageIndex",singleTransform:{type:"fluid.transforms.limitRange",input:"{that}.model.pageIndex",min:0,max:"{that}.model.pageCount",excludeMax:1}}],modelListeners:{"":"{that}.events.onModelChange.fire({change}.value, {change}.oldValue, {that})"},listeners:{"initiatePageChange.updatePageIndex":{funcName:"fluid.pager.initiatePageChangeListener",args:["{that}","{arguments}.0"]},"initiatePageSizeChange.updateModel":{changePath:"pageSize",value:"{arguments}.0"}},invokers:{acquireDefaultRange:{funcName:"fluid.identity",args:"{that}.pagerBar.pageList.defaultModel.totalRange"}},dynamicComponents:{summary:{sources:"{that}.dom.summary",type:"fluid.pager.summary",container:"{source}",options:{strings:{message:"Viewing page %currentPage. Showing records %first - %last of %total items."},events:{onModelChange:"{pager}.events.onModelChange"}}},pageSize:{sources:"{that}.dom.pageSize",type:"fluid.pager.directPageSize",container:"{source}"},pagerBar:{sources:"{that}.dom.pagerBar",type:"fluid.pager.pagerBar",container:"{source}",options:{strings:"{pager}.options.strings",events:{initiatePageChange:"{pager}.events.initiatePageChange",onModelChange:"{pager}.events.onModelChange"}}}}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(l,u){"use strict";u.registerNamespace("fluid.table"),u.table.findColumnDef=function(e,t){return u.find_if(e,function(e){return e.key===t})},u.table.getRoots=function(e,t,n){e.shortRoot=n,e.longRoot=u.pathUtil.composePath(t,e.shortRoot)},u.table.expandPath=function(e,t,n){return"*"===e.charAt(0)?n+e.substring(1):e.replace("*",t)},u.table.fetchValue=function(e,t,n,r,i){u.table.getRoots(i,e,n);var o=u.table.expandPath(r,i.shortRoot,i.longRoot);return u.get(t,o)},u.table.rowComparator=function(n){return function(e,t){return(e.value>t.value?1:e.value<t.value?-1:0)*n}},u.table.basicSorter=function(e,t,n,r){for(var i={},o=u.table.findColumnDef(e,r.sortKey),a=[],s=0;s<r.totalRange;++s)a[s]={index:s,value:u.table.fetchValue(n,t,s,o.valuebinding,i)};return a.sort(u.table.rowComparator(r.sortDir)),u.getMembers(a,"index")},u.table.IDforColumn=function(e,t,n){var r=e.valuebinding,i=e.key;if(r||u.fail("Error in definition for column with key "+i+": valuebinding is not set"),!i){var o=u.model.parseEL(r);i=o[o.length-1]}return{ID:(t||"")+i,EL:u.table.expandPath(r,n.shortRoot,n.longRoot)}},u.table.bigHeaderForKey=function(e,t){var n=t.rendererOptions.idMap["header:"+e],r=u.jById(n);if(0===r.length)return null;var i=t.selectors.headerSortStylisticOffset;return u.findAncestor(r,function(e){return l(e).is(i)})},u.table.setSortHeaderClass=function(e,t,n){(t=l(t)).removeClass(e.ascendingHeader),t.removeClass(e.descendingHeader),0!==n&&(t.addClass(1===n?e.ascendingHeader:e.descendingHeader),t.attr("aria-sort",1===n?"ascending":"descending"))},u.table.isCurrentColumnSortable=function(e,t){var n=t.sortKey?u.table.findColumnDef(e,t.sortKey):null;return!!n&&n.sortable},u.table.setModelSortHeaderClass=function(e,t,n){var r=n.styles,i=u.table.isCurrentColumnSortable(e,t)?t.sortDir:0;u.table.setSortHeaderClass(r,u.table.bigHeaderForKey(t.sortKey,n),i)},u.table.generateColumnClick=function(o,a,e,s){return function(){if(!0===s.sortable){var e=o.model,t=u.copy(e),n=o.options.styles,r=e.sortKey;if(s.key!==e.sortKey){t.sortKey=s.key,t.sortDir=1;var i=u.table.bigHeaderForKey(r,a);i&&u.table.setSortHeaderClass(n,i,0)}else{if(t.sortKey!==s.key)return!1;t.sortDir=-1*t.sortDir}t.pageIndex=0,o.applier.change("",t)}return!1}},u.table.fetchHeaderDecorators=function(e,t){return e[t.sortable?"sortableHeader":"unsortableHeader"]},u.table.generateHeader=function(t,n,r){var i=n.strings.sortableColumnText;1===r.sortDir?i=n.strings.sortableColumnTextAsc:-1===r.sortDir&&(i=n.strings.sortableColumnTextDesc);var e=t.options.columnDefs;return{children:u.transform(e,function(e){return{ID:u.table.IDforColumn(e,n.keyPrefix,{}).ID,value:e.label,decorators:[{jQuery:["click",u.table.generateColumnClick(t,n,r,e)]},{identify:"header:"+e.key},{type:"attrs",attributes:{title:e.key===r.sortKey?i:n.strings.sortableColumnText}}].concat(u.table.fetchHeaderDecorators(n.decorators,e))}})}},u.table.expandVariables=function(e,t){for(var n="",r=0;;){var i=e.indexOf("${",r);if(-1===i){n+=e.substring(r);break}n+=e.substring(r,i);var o=e.indexOf("}",i+2),a=e.substring(i+2,o);a="VALUE"===a?t.EL:u.table.expandPath(a,t.shortRoot,t.longRoot),n+=u.get(t.dataModel,a),r=o+1}return n},u.table.expandPaths=function(e,t,n){for(var r in t){var i=t[r];u.isMarker(i,u.VALUE)?e[r]="valuebinding"===r?n.EL:{valuebinding:n.EL}:"valuebinding"===r?e[r]=u.table.expandPath(t[r],n):"object"==typeof i?(e[r]=void 0!==i.length?[]:{},u.table.expandPaths(e[r],i,n)):e[r]="string"==typeof i?u.table.expandVariables(i,n):t[r]}return e},u.table.expandColumnDefs=function(e,i,o,a,s){return u.transform(e,function(e){var t,n=u.table.IDforColumn(e,i,s),r=l.extend({dataModel:o},s,n);return e.components?(t="function"==typeof e.components?e.components(a.row,a.index):e.components,(t=u.table.expandPaths({},t,r)).ID=n.ID,t):{ID:n.ID,valuebinding:n.EL}})},u.table.fetchDataModel=function(e,t){return u.get(e,t)},u.table.produceTree=function(t,n){var e=n.options,r=t.options.columnDefs,i={},o=u.transform(t.filtered,function(e){return u.table.getRoots(i,t.options.dataOffset,e.index),"explode"===r?u.explode(e.row,i.longRoot):r.length?u.table.expandColumnDefs(r,n.options.keyPrefix,t.dataModel,e,i):void 0}),a={};return a[e.row]=o,"object"==typeof r&&(a[e.header]=u.table.generateHeader(t,n.options,t.model)),a},u.table.sortInvoker=function(e,t){var n=e.options.columnDefs,r=u.table.isCurrentColumnSortable(n,t)?e.options.sorter(n,e.options.dataModel,e.options.dataOffset,t):null;e.permutation=r},u.table.onModelChange=function(e,t,n){t.sortInvoker(n),e.dataModel=e.fetchDataModel(),e.filtered=e.options.modelFilter(e.dataModel,n,e.permutation)},u.defaults("fluid.table.selfRender",{gradeNames:["fluid.rendererComponent"],listeners:{onCreate:[{this:"{that}.root",method:"addClass",args:"{that}.options.styles.root"}],onIndexModelChange:[{funcName:"fluid.table.onModelChange",namespace:"onModelChange",args:["{fluid.table}","{fluid.table.selfRender}","{arguments}.0","{arguments}.1"]},{func:"{that}.sortInvoker",namespace:"sortInvoker",args:"{arguments}.0"},{priority:"last",namespace:"refreshView",func:"{that}.refreshView"}],afterRender:{funcName:"fluid.table.setModelSortHeaderClass",args:["{that}.options.columnDefs","{fluid.table}.model","{that}.options"]}},modelListeners:{"{fluid.table}.model":"{that}.events.onIndexModelChange.fire({change}.value, {change}.oldValue)"},events:{onIndexModelChange:null},invokers:{sortInvoker:{funcName:"fluid.table.sortInvoker",args:["{fluid.table}","{arguments}.0"]},produceTree:{funcName:"fluid.table.produceTree",args:["{fluid.table}","{fluid.table.selfRender}"]}},selectors:{root:".flc-pager-body-template",headerSortStylisticOffset:"{table}.options.selectors.headerSortStylisticOffset",header:".flc-table-header",row:".flc-table-row"},repeatingSelectors:["header","row"],selectorsToIgnore:["root","headerSortStylisticOffset"],styles:{root:"fl-pager",ascendingHeader:"{table}.options.styles.ascendingHeader",descendingHeader:"{table}.options.styles.descendingHeader"},members:{root:"{that}.dom.root"},decorators:{sortableHeader:[],unsortableHeader:[]},keyStrategy:"id",keyPrefix:"",row:"row:",header:"header:",strings:"{table}.options.strings",columnDefs:"{table}.options.columnDefs",rendererFnOptions:{templateSource:{node:"{that}.dom.root"},renderTarget:"{that}.dom.root",noexpand:!0},rendererOptions:{model:"{table}.options.dataModel",idMap:{}}}),u.table.checkTotalRange=function(e,t){void 0!==e||t||u.fail("Error in Pager configuration - cannot determine total range,  since not configured in model.totalRange and no PagerBar is configured")},u.defaults("fluid.table",{gradeNames:["fluid.viewComponent"],mergePolicy:{dataModel:"preserve",columnDefs:"noexpand"},components:{bodyRenderer:{type:"fluid.table.selfRender",container:"{table}.container"}},listeners:{onCreate:{funcName:"fluid.table.checkTotalRange",namespace:"checkTotalRange",args:["{that}.model.totalRange","{that}.pagerBar"]}},modelFilter:u.table.directModelFilter,sorter:u.table.basicSorter,members:{dataModel:{expander:{func:"{that}.fetchDataModel"}}},invokers:{fetchDataModel:{funcName:"fluid.table.fetchDataModel",args:["{that}.options.dataModel","{that}.options.dataOffset"]}},styles:{ascendingHeader:"fl-pager-asc",descendingHeader:"fl-pager-desc"},selectors:{headerSortStylisticOffset:".flc-pager-sort-header"},strings:{sortableColumnText:"Select to sort",sortableColumnTextDesc:"Select to sort in ascending, currently in descending order.",sortableColumnTextAsc:"Select to sort in descending, currently in ascending order."},dataOffset:"",columnDefs:[]})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,p){"use strict";p.registerNamespace("fluid.pagedTable"),p.defaults("fluid.pagedTable.rangeAnnotator",{gradeNames:["fluid.component"]}),p.pagedTable.rangeAnnotator.onRenderPageLinks=function(t,e,n,r){function a(e){return e=t.permutation?t.permutation[e]:e,p.table.fetchValue(t.options.dataOffset,s,e,u.valuebinding,i)}r.tooltip.close();var i={},o=t.options.annotateColumnRange||(t.options.annotateSortedColumn?n.sortKey:null);if(o){var s=t.options.dataModel,l=t.options.columnDefs,u=p.table.findColumnDef(l,o),d={};p.model.copyModel(d,n);var c={};p.each(e,function(e){if("page-link:link"===e.ID){var t=e.pageIndex,n=t*d.pageSize;d.pageIndex=t;var r=p.pager.computePageLimit(d),i=a(n),o=a(r-1);c[t]={first:i,last:o}}}),r.tooltipInfo=c}},p.pagedTable.directModelFilter=function(e,t,n){for(var r=[],i=p.pager.computePageLimit(t),o=t.pageIndex*t.pageSize;o<i;++o){var a=n?n[o]:o;r[r.length]={index:a,row:e[a]}}return r},p.pagedTable.configureTooltip=function(n,e,t){var r=t.rendererOptions.idMap,i={};p.each(e.tooltipInfo,function(e,t){i[r["pageLink:"+t]]=p.stringTemplate(n.options.markup.rangeAnnotation,e)}),e.tooltip.applier.change("idToContent",i)},p.defaults("fluid.pagedTable",{gradeNames:["fluid.pager","fluid.table"],distributeOptions:[{target:"{that renderedPageList}.options.listeners.afterRender",record:{funcName:"fluid.pagedTable.configureTooltip",args:["{pagedTable}","{pagerBar}","{arguments}.0"]}},{target:"{that renderedPageList}.options.listeners.onRenderPageLinks",record:{funcName:"fluid.pagedTable.rangeAnnotator.onRenderPageLinks",args:["{pagedTable}","{arguments}.0","{arguments}.1","{pagerBar}"]}},{target:"{that pagerBar}.options.components.tooltip",source:"{that}.options.tooltip"}],annotateSortedColumn:!1,annotateColumnRange:void 0,markup:{rangeAnnotation:"<b> %first </b><br/>&mdash;<br/><b> %last </b>"},tooltip:{type:"fluid.tooltip",container:"{that}.container",options:{}},invokers:{acquireDefaultRange:{funcName:"fluid.identity",args:"{that}.dataModel.length"}},modelFilter:p.pagedTable.directModelFilter,model:{pageSize:10}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,a){"use strict";a.registerNamespace("fluid.progress"),a.progress.animateDisplay=function(e,t,n,r){t=t||n,e.animate(t.params,t.duration,r)},a.progress.animateProgress=function(e,t,n){e.queue("fx",[]),e.animate({width:t,queue:!1},n)},a.progress.showProgress=function(e,t){var n=e.events.onProgressBegin.fire;!1===t?(e.displayElement.show(),n()):a.progress.animateDisplay(e.displayElement,t,e.options.showAnimation,n)},a.progress.hideProgress=function(e,t,n){if(t)setTimeout(function(){a.progress.hideProgress(e,0,n)},t);else{var r=e.events.afterProgressHidden.fire;!1===n?(e.displayElement.hide(),r()):a.progress.animateDisplay(e.displayElement,n,e.options.hideAnimation,r)}},a.progress.updateWidth=function(e,t,n){var r=e.indicator.width(),i=e.options.animate;r<t&&("both"===i||"forward"===i)&&!n?a.progress.animateProgress(e.indicator,t,e.options.speed):t<r&&("both"===i||"backward"===i)&&!n?a.progress.animateProgress(e.indicator,t,e.options.speed):e.indicator.width(t)},a.progress.percentToPixels=function(e,t){return Math.round(Math.min(t,100)*e.progressBar.innerWidth()/100)},a.progress.refreshRelativeWidth=function(e){var t=Math.max(a.progress.percentToPixels(e,parseFloat(e.storedPercent)),e.options.minWidth);a.progress.updateWidth(e,t,!0)},a.progress.initARIA=function(e,t){e.attr("role","progressbar"),e.attr("aria-valuemin","0"),e.attr("aria-valuemax","100"),e.attr("aria-valuenow","0"),t&&e.attr("aria-valuetext",""),e.attr("aria-busy","false")},a.progress.updateARIA=function(e,t){var n=e.options.strings,r=t<100&&0<t;if(e.ariaElement.attr("aria-busy",r),e.ariaElement.attr("aria-valuenow",t),n.ariaBusyText)if(r){var i=a.stringTemplate(n.ariaBusyText,{percentComplete:t});e.ariaElement.attr("aria-valuetext",i)}else 100===t&&e.ariaElement.attr("aria-valuetext",n.ariaDoneText)},a.progress.updateText=function(e,t){e.html(t)},a.progress.repositionIndicator=function(e){e.indicator.css("top",e.progressBar.position().top).css("left",0).height(e.progressBar.height()),a.progress.refreshRelativeWidth(e)},a.progress.updateProgress=function(e,t,n,r){if(a.progress.showProgress(e,r),null!==t){e.storedPercent=t;var i=Math.max(a.progress.percentToPixels(e,parseFloat(t)),e.options.minWidth);a.progress.updateWidth(e,i)}if(a.isValue(n)){var o=a.stringTemplate(n,{percentComplete:t});a.progress.updateText(e.label,o)}e.ariaElement&&a.progress.updateARIA(e,t)},a.progress.hideElement=function(e,t){e.toggle(!t)},a.defaults("fluid.progress",{gradeNames:["fluid.viewComponent"],members:{displayElement:"{that}.dom.displayElement",progressBar:"{that}.dom.progressBar",label:"{that}.dom.label",indicator:"{that}.dom.indicator",ariaElement:"{that}.dom.ariaElement",storedPercent:0},events:{onProgressBegin:null,afterProgressHidden:null},listeners:{onCreate:[{this:"{that}.dom.indicator",method:"width",args:"{that}.options.minWidth"},{funcName:"fluid.progress.hideElement",args:["{that}.dom.displayElement","{that}.options.initiallyHidden"]},{funcName:"fluid.progress.initARIA",args:["{that}.ariaElement","{that}.options.strings.ariaBusyText"]}],onProgressBegin:{func:"{that}.options.showAnimation.onProgressBegin"},afterProgressHidden:{func:"{that}.options.hideAnimation.afterProgressHidden"}},invokers:{show:{funcName:"fluid.progress.showProgress",args:["{that}","{arguments}.0"]},hide:{funcName:"fluid.progress.hideProgress",args:["{that}","{arguments}.0","{arguments}.1"]},update:{funcName:"fluid.progress.updateProgress",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]},refreshView:{funcName:"fluid.progress.repositionIndicator",args:"{that}"}},selectors:{displayElement:".flc-progress",progressBar:".flc-progress-bar",indicator:".flc-progress-indicator",label:".flc-progress-label",ariaElement:".flc-progress-bar"},strings:{ariaBusyText:"Progress is %percentComplete percent complete",ariaDoneText:"Progress is complete."},showAnimation:{params:{opacity:"show"},duration:"slow",onProgressBegin:a.identity},hideAnimation:{params:{opacity:"hide"},duration:"slow",afterProgressHidden:a.identity},minWidth:5,delay:0,speed:200,animate:"forward",initiallyHidden:!0,updatePosition:!1})}(jQuery,fluid_2_0_0),function(e){function t(e,t){if(!(1<e.originalEvent.touches.length)){e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,r=e.ui.mouse.prototype,i=r._mouseInit;r._touchStart=function(e){!n&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},r._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},r._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},r._mouseInit=function(){this.element.bind("touchstart",e.proxy(this,"_touchStart")).bind("touchmove",e.proxy(this,"_touchMove")).bind("touchend",e.proxy(this,"_touchEnd")),i.call(this)}}}(jQuery);fluid_2_0_0=fluid_2_0_0||{};!function(t,n){"use strict";n.dom.computeAbsolutePosition=function(e){var t=0,n=0;if(e.offsetParent){for(;t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;);return[t,n]}},n.dom.cleanseScripts=function(e){t.data(e,n.dom.cleanseScripts.MARKER)||(n.dom.iterateDom(e,function(e){return"script"===e.tagName.toLowerCase()?"delete":null}),t.data(e,n.dom.cleanseScripts.MARKER,!0))},n.dom.cleanseScripts.MARKER="fluid-scripts-cleansed",n.dom.insertAfter=function(e,t){var n=t.nextSibling;n?t.parentNode.insertBefore(e,n):t.parentNode.appendChild(e)},n.dom.isWhitespaceNode=function(e){return!/[^\t\n\r ]/.test(e.data)},n.dom.isIgnorableNode=function(e){return 8===e.nodeType||3===e.nodeType&&n.dom.isWhitespaceNode(e)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(g,x){"use strict";x.orientation={HORIZONTAL:4,VERTICAL:1},x.rectSides={4:["left","right"],1:["top","bottom"],8:"top",12:"bottom",2:"left",3:"right"},x.position={BEFORE:-1,AFTER:1,INSIDE:2,REPLACE:3},x.direction={NEXT:1,PREVIOUS:-1,UP:8,DOWN:12,LEFT:2,RIGHT:3},x.directionSign=function(e){return e===x.direction.UP||e===x.direction.LEFT?x.direction.PREVIOUS:x.direction.NEXT},x.directionAxis=function(e){return e===x.direction.LEFT||e===x.direction.RIGHT?0:1},x.directionOrientation=function(e){return x.directionAxis(e)?x.orientation.VERTICAL:x.orientation.HORIZONTAL},x.keycodeDirection={up:x.direction.UP,down:x.direction.DOWN,left:x.direction.LEFT,right:x.direction.RIGHT},x.registerNamespace("fluid.dom"),x.dom.moveDom=function(e,t,n){var r;if(e=x.unwrap(e),t=x.unwrap(t),n===x.position.INSIDE)t.appendChild(e);else if(n===x.position.BEFORE){for(r=t.previousSibling;;r=r.previousSibling)if(!r||!x.dom.isIgnorableNode(r)){r!==e&&(x.dom.cleanseScripts(e),t.parentNode.insertBefore(e,t));break}}else if(n===x.position.AFTER){for(r=t.nextSibling;;r=r.nextSibling)if(!r||!x.dom.isIgnorableNode(r)){r!==e&&(x.dom.cleanseScripts(e),x.dom.insertAfter(e,t));break}}else x.fail("Unrecognised position supplied to fluid.moveDom: "+n)},x.dom.normalisePosition=function(e,t,n,r){return e===x.position.REPLACE&&(e=t&&r<=n?x.position.AFTER:x.position.BEFORE),e},x.dom.permuteDom=function(e,t,n,r,i){e=x.unwrap(e),t=x.unwrap(t);var o=g.inArray(e,r);-1===o&&x.fail("Error in permuteDom: source element "+x.dumpEl(e)+" not found in source list "+x.dumpEl(r));var a=g.inArray(t,i);-1===a&&x.fail("Error in permuteDom: target element "+x.dumpEl(t)+" not found in source list "+x.dumpEl(i));var s=r===i;n=x.dom.normalisePosition(n,s,a,o);var l={};l[x.position.AFTER]=e.nextSibling,l[x.position.BEFORE]=e.previousSibling,x.dom.moveDom(r[o],i[a],n);var u,d=s?a-1:r.length-2;if(n===x.position.BEFORE&&s&&d--,!s||o<a){for(u=d;o<u;--u)x.dom.moveDom(r[u+1],r[u],x.position.AFTER);o+1<r.length&&x.dom.moveDom(r[o+1],l[x.position.AFTER],x.position.BEFORE)}var c=s?o-1:i.length-1;if(n===x.position.AFTER&&a++,!s||a<o){for(u=a;u<c;++u)x.dom.moveDom(i[u],i[u+1],x.position.BEFORE);0<=c&&c<i.length-1&&x.dom.moveDom(i[c],l[x.position.BEFORE],x.position.AFTER)}};var t=function(e,t){return window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]};x.dom.isAttached=function(e){for(;e&&e.nodeName;){if("BODY"===e.nodeName)return!0;e=e.parentNode}return!1},x.dom.generalHidden=function(e){return"hidden"===e.type||"none"===t(e,"display")||"hidden"===t(e,"visibility")||!x.dom.isAttached(e)},x.registerNamespace("fluid.geometricManager"),x.geometricManager.computeGeometry=function(e,t,n){var r={};r.element=e,r.orientation=t,n===x.position.INSIDE&&(r.position=n),x.dom.generalHidden(e)&&(r.clazz="hidden");var i=x.dom.computeAbsolutePosition(e)||[0,0],o=e.offsetWidth,a=e.offsetHeight;return r.rect={left:i[0],top:i[1]},r.rect.right=i[0]+o,r.rect.bottom=i[1]+a,r};x.geometricManager.dumprect=function(e){return"Rect top: "+e.top+" left: "+e.left+" bottom: "+e.bottom+" right: "+e.right},x.geometricManager.dumpelem=function(e){return e&&e.rect?x.geometricManager.dumprect(e.rect)+" position: "+e.position+" for "+x.dumpEl(e.element):"null"},x.dropManager=function(){var l,u,d,c,h=[],m={},p={updateGeometry:function(c){h=[],m={};for(var p=(u=c).elementMapper,f=c.geometryComputor||x.geometricManager.computeGeometry,e=function(e,t,n,r,i,o){var a=t.orientation,s=x.rectSides[a],l=f(e,a,i);l.owner=t,"hidden"!==l.clazz&&p&&(l.clazz=p(e)),m[x.dropManager.cacheKey(e)]=l;var u=x.dropManager.getRelativeClass(t.elements,o,x.position.BEFORE,l.clazz,p),d=x.dropManager.getRelativeClass(t.elements,o,x.position.AFTER,l.clazz,p);return i===x.position.INSIDE?h[h.length]=l:x.dropManager.splitElement(h,s,l,i,u,d),n&&c.sentinelize&&x.dropManager.sentinelizeElement(h,s,l,1,i,u),r&&c.sentinelize&&x.dropManager.sentinelizeElement(h,s,l,0,i,d),l},t=0;t<c.extents.length;++t){for(var n=c.extents[t],r=!0,i=0;i<n.elements.length;++i){"hidden"!==e(n.elements[i],n,0===i,i===n.elements.length-1,x.position.INTERLEAVED,i).clazz&&(r=!1)}r&&n.parentElement&&e(n.parentElement,n,!0,!0,x.position.INSIDE)}x.dropManager.normalizeSentinels(h)},startDrag:function(e,t,n,r){var i=t[0]+n/2,o=t[1]+r/2,a=i-e.pageX,s=o-e.pageY;p.updateGeometry(u),l=null,d=a,c=s,g("body").on("mousemove.fluid-dropManager",p.mouseMove)},lastPosition:function(){return l},endDrag:function(){g("body").off("mousemove.fluid-dropManager")},mouseMove:function(e){var t=e.pageX+d,n=e.pageY+c,r=p.closestTarget(t,n,l);r&&r!==x.dropManager.NO_CHANGE&&(l=r,p.dropChangeFirer.fire(r))}};p.dropChangeFirer=x.makeEventFirer();var f={element:null};return p.closestTarget=function(e,t,n){for(var r=Number.MAX_VALUE,i=f,o=Number.MAX_VALUE,a=f,s=0;s<h.length;++s){var l=h[s];if("hidden"!==l.clazz){var u=x.geom.minPointRectangle(e,t,l.rect);if("locked"===l.clazz)u<o&&(o=u,a=l);else if(u<r&&(r=u,i=l),0===u)break}}return i?(r<=o&&(a=f),n&&n.position===i.position&&x.unwrap(n.element)===x.unwrap(i.element)&&x.unwrap(n.lockedelem)===x.unwrap(a.element)?x.dropManager.NO_CHANGE:{position:i.position,element:i.element,lockedelem:a.element}):i},p.shuffleProjectFrom=function(e,t,n,r){var i=p.projectFrom(e,t,n,r);return i&&(i.position=x.position.REPLACE),i},p.projectFrom=function(e,t,n,r){p.updateGeometry(u);var i=m[x.dropManager.cacheKey(e)],o=x.geom.projectFrom(i.rect,t,h,n,r);if(!o.cacheelem)return null;var a=o.cacheelem.position;return{element:o.cacheelem.element,position:a||x.position.BEFORE}},p.logicalFrom=function(e,t,n,r){var i=p.getOwningSpan(e,x.position.INTERLEAVED,n);return{element:x.dropManager.getRelativeElement(e,t,i,r),position:x.position.REPLACE}},p.lockedWrapFrom=function(e,t,n,r){var i=p.logicalFrom(e,t,n,r),o=p.getOwningSpan(e,x.position.INTERLEAVED,n),a=m[x.dropManager.cacheKey(e)].owner.elements;if(n||o[0]===a[0])return i;var s=x.dropManager.getRelativeElement(e,t,a,r);return"locked"===u.elementMapper(s)&&(i.element=null,i.clazz="locked"),i},p.getOwningSpan=function(e,t,n){var r=m[x.dropManager.cacheKey(e)].owner,i=t===x.position.INSIDE?[r.parentElement]:r.elements;return!n&&u.elementMapper&&(i=x.makeArray(i),x.remove_if(i,function(e){return"locked"===u.elementMapper(e)})),i},p.geometricMove=function(e,t,n){var r=p.getOwningSpan(e,null,!0),i=p.getOwningSpan(t,n,!0);x.dom.permuteDom(e,t,n,r,i)},p},x.dropManager.NO_CHANGE="no change",x.dropManager.cacheKey=function(e){return x.allocateSimpleId(e)},x.dropManager.sentinelizeElement=function(e,t,n,r,i,o){var a=g.extend(!0,{},n);a.origRect=x.copy(a.rect),a.rect[t[r]]=a.rect[t[1-r]]+(r?1:-1),a.rect[t[1-r]]=1e4*(r?-1:1),a.position=i===x.position.INSIDE?i:r?x.position.BEFORE:x.position.AFTER,a.clazz=o,e[e.length]=a},x.dropManager.normalizeSentinels=function(e){for(var t=0;t<e.length;++t)for(var n=0;n<e.length;++n){var r=e[t],i=e[n],o=i.origRect||i.rect;r.element!==i.element&&r.origRect&&0===x.geom.minRectRect(r.rect,o)&&(r.rect=r.origRect,delete r.origRect)}},x.dropManager.splitElement=function(e,t,n,r,i,o){var a=g.extend(!0,{},n),s=g.extend(!0,{},n),l=(a.rect[t[0]]+a.rect[t[1]])/2;a.rect[t[1]]=l,a.position=x.position.BEFORE,s.rect[t[0]]=l,s.position=x.position.AFTER,a.clazz=i,s.clazz=o,e[e.length]=a,e[e.length]=s},x.dropManager.getRelativeClass=function(e,t,n,r,i){return(t+=n)<0&&"locked"===r?"locked":t>=e.length||null===i?null:"locked"===i(n=e[t])&&"locked"===r?"locked":null},x.dropManager.getRelativeElement=function(e,t,n,r){var i=x.directionSign(t),o=g(n).index(e)+i;return o<0&&(o+=n.length),!r||o!==n.length&&o!==n.length+i?n[o%=n.length]:e},x.geom=x.geom||{},x.geom.minPointRectangle=function(e,t,n){var r=e<n.left?n.left-e:e>n.right?e-n.right:0,i=t<n.top?n.top-t:t>n.bottom?t-n.bottom:0;return r*r+i*i},x.geom.minRectRect=function(e,t){var n=e.right<t.left?t.left-e.right:t.right<e.left?e.left-t.right:0,r=e.bottom<t.top?t.top-e.bottom:t.bottom<e.top?e.top-t.bottom:0;return n*n+r*r};var C=function(){return{mindist:Number.MAX_VALUE,minrdist:Number.MAX_VALUE}};x.geom.projectFrom=function(a,e,t,n,r){function i(e,t,n){var r=t.rect,i=x.geom.minRectRect(d,r),o=-u*n*(a[1===n?s:l]-r[1===n?l:s]);if(i<=e.mindist&&0<=o){if(i===e.mindist&&o*n>e.minrdist)return;e.minrdist=o*n,e.mindist=i,e.minelem=t}}var o=x.directionAxis(e),s=x.rectSides[e],l=x.rectSides[15*o+5-e],u=x.directionSign(e),d={left:(7*a.left+1*a.right)/8,right:(5*a.left+3*a.right)/8,top:(7*a.top+1*a.bottom)/8,bottom:(5*a.top+3*a.bottom)/8};d[s]=1e4*u,d[l]=-d[s];for(var c=C(),p=C(),f=C(),h=0;h<t.length;++h){var m=t[h],g=m.owner&&m.element===m.owner.parentElement;"hidden"===m.clazz||n&&g||(n||"locked"!==m.clazz?(i(c,m,1),i(p,m,-1)):i(f,m,1))}var v=!c.minelem||p.mindist<c.mindist,y=(v=v&&!r)?p:c,b={wrapped:v,cacheelem:y.minelem};return f.mindist<y.mindist&&(b.lockedelem=f.minelem),b}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(c,p){"use strict";p.registerNamespace("fluid.reorderer"),p.reorderer.defaultAvatarCreator=function(e,t,n){p.dom.cleanseScripts(p.unwrap(e));var r=c(e).clone();if(p.dom.iterateDom(r.get(0),function(e){e.removeAttribute("id"),"input"===e.tagName.toLowerCase()&&e.setAttribute("disabled","disabled")}),r.removeProp("id"),r.removeClass("ui-droppable"),r.addClass(t),n){var i=c(document.createElement("div"));i.append(r),i.append(n),r=i}return c("body").append(r),c.browser.safari||r.css("display","block").width(e.offsetWidth).height(e.offsetHeight),c.browser.opera&&r.hide(),r},p.reorderer.bindHandlersToContainer=function(e,t,n){var r=t,i=!1;c.browser.opera&&(e.keypress(function(e){if(i)return i=!1,e.preventDefault(),!1}),r=function(e){!1===t(e)&&(i=!0)}),e.keydown(r),e.keyup(n)},p.reorderer.addRolesToContainer=function(e){e.container.attr("role",e.options.containerRole.container),e.container.attr("aria-multiselectable","false"),e.container.attr("aria-readonly","false"),e.container.attr("aria-disabled","false")},p.reorderer.createAvatarId=function(e){return e+"_avatar"},p.reorderer.keys={TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:19,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,i:73,j:74,k:75,m:77},p.reorderer.defaultKeysets=[{modifier:function(e){return e.ctrlKey},up:p.reorderer.keys.UP,down:p.reorderer.keys.DOWN,right:p.reorderer.keys.RIGHT,left:p.reorderer.keys.LEFT},{modifier:function(e){return e.ctrlKey},up:p.reorderer.keys.i,down:p.reorderer.keys.m,right:p.reorderer.keys.k,left:p.reorderer.keys.j}],p.reorderer.keysetsPolicy=function(e,t){var n=t||e;return p.makeArray(n)},p.reorderer.copyDropWarning=function(e){return e?e.clone():e},p.defaults("fluid.reorderer",{gradeNames:["fluid.viewComponent"],styles:{defaultStyle:"fl-reorderer-movable-default",selected:"fl-reorderer-movable-selected",dragging:"fl-reorderer-movable-dragging",mouseDrag:"fl-reorderer-movable-dragging",hover:"fl-reorderer-movable-hover",dropMarker:"fl-reorderer-dropMarker",avatar:"fl-reorderer-avatar"},selectors:{dropWarning:".flc-reorderer-dropWarning",movables:".flc-reorderer-movable",selectables:".flc-reorderer-movable",dropTargets:".flc-reorderer-movable",grabHandle:"",stylisticOffset:""},avatarCreator:p.reorderer.defaultAvatarCreator,keysets:p.reorderer.defaultKeysets,containerRole:"{that}.layoutHandler.options.containerRole",selectablesTabindex:"{that}.layoutHandler.options.selectablesTabindex",layoutHandler:"fluid.listLayoutHandler",members:{dropManager:"@expand:fluid.dropManager()",activeItem:null,kbDropWarning:"{that}.dom.dropWarning",mouseDropWarning:"@expand:fluid.reorderer.copyDropWarning({that}.kbDropWarning)"},events:{onShowKeyboardDropWarning:null,onSelect:null,onBeginMove:"preventable",onMove:null,afterMove:null,onHover:null,onRefresh:null},listeners:{onCreate:[{namespace:"bindKeyHandlers",funcName:"fluid.reorderer.bindHandlersToContainer",args:["{that}.container","{that}.handleKeyDown","{that}.handleKeyUp"]},{namespace:"addContainerRoles",funcName:"fluid.reorderer.addRolesToContainer",args:"{that}"},{namespace:"makeTabbable",funcName:"fluid.tabbable",args:"{that}.container"},{namespace:"processAfterMoveCallback",funcName:"fluid.reorderer.processAfterMoveCallbackUrl",args:"{that}"},"{that}.refresh"],onRefresh:{listener:"fluid.reorderer.initItems",args:"{that}",priority:-1e3},onHover:{funcName:"fluid.reorderer.hoverStyleHandler",args:["{that}.dom","{that}.options.styles","{arguments}.0","{arguments}.1"]}},invokers:{changeSelectedToDefault:{funcName:"fluid.reorderer.changeSelectedToDefault",args:["{arguments}.0","{that}.options.styles"]},setDropEffects:{funcName:"fluid.reorderer.setDropEffects",args:["{that}.dom","{arguments}.0"]},createDropMarker:{funcName:"fluid.reorderer.createDropMarker",args:["{arguments}.0","{that}.options.styles.dropMarker"]},refresh:{funcName:"fluid.reorderer.refresh",args:["{that}.dom","{that}.events","{that}.selectableContext","{that}.activeItem"]},selectItem:{funcName:"fluid.reorderer.selectItem",args:["{that}","{arguments}.0"]},initSelectables:{funcName:"fluid.reorderer.initSelectables",args:["{that}"]},initMovable:{funcName:"fluid.reorderer.initMovable",args:["{that}","{that}.dropManager","{arguments}.0"]},isMove:{funcName:"fluid.reorderer.isMove",args:["{that}.options.keysets","{arguments}.0"]},isActiveItemMovable:{funcName:"fluid.reorderer.isActiveItemMovable",args:["{that}.activeItem","{that}.dom"]},handleKeyDown:{funcName:"fluid.reorderer.handleKeyDown",args:["{that}","{that}.options.styles","{arguments}.0"]},handleDirectionKeyDown:{funcName:"fluid.reorderer.handleDirectionKeyDown",args:["{that}","{arguments}.0"]},handleKeyUp:{funcName:"fluid.reorderer.handleKeyUp",args:["{that}","{that}.options.styles","{arguments}.0"]},requestMovement:{funcName:"fluid.reorderer.requestMovement",args:["{that}","{arguments}.0","{arguments}.1"]}},mergePolicy:{keysets:p.reorderer.keysetsPolicy,"selectors.labelSource":"selectors.grabHandle","selectors.selectables":"selectors.movables","selectors.dropTargets":"selectors.movables"},components:{layoutHandler:{type:"{that}.options.layoutHandler",container:"{reorderer}.container"},labeller:{type:"fluid.reorderer.labeller",options:{members:{dom:"{reorderer}.dom"},getGeometricInfo:"{reorderer}.layoutHandler.getGeometricInfo",orientation:"{reorderer}.layoutHandler.options.orientation",layoutType:"{reorderer}.options.layoutHandler"}}},disableWrap:!1}),p.reorderer.noModifier=function(e){return!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)},p.reorderer.isMove=function(e,t){for(var n=0;n<e.length;n++)if(e[n].modifier(t))return!0;return!1},p.reorderer.isActiveItemMovable=function(e,t){return 0<=c.inArray(e,t.fastLocate("movables"))},p.reorderer.handleKeyDown=function(e,t,n){if(!e.activeItem||e.activeItem!==n.target)return!0;var r=c(e.activeItem);return!r.hasClass(t.dragging)&&e.isMove(n)?(e.isActiveItemMovable()&&(r.removeClass(t.selected),r.addClass(t.dragging),r.attr("aria-grabbed","true"),e.setDropEffects("move")),!1):e.handleDirectionKeyDown(n)},p.reorderer.handleDirectionKeyDown=function(e,t){var n=e.activeItem;if(!n)return!0;for(var r=e.options.keysets,i=0;i<r.length;i++){var o=r[i],a=p.keyForValue(o,t.keyCode);if(a){var s=o.modifier(t),l=p.keycodeDirection[a],u=e.layoutHandler.getRelativePosition(n,l,!s);if(u){if(s){if(!1===e.events.onBeginMove.fire(n))return!1;var d=e.kbDropWarning;0<d.length&&("locked"===u.clazz?(e.events.onShowKeyboardDropWarning.fire(n,d),d.show()):d.hide()),u.element&&e.requestMovement(u,n)}else p.reorderer.noModifier(t)&&(p.blur(n),p.focus(c(u.element)));return!1}}}return!0},p.reorderer.handleKeyUp=function(e,t,n){if(!e.activeItem||e.activeItem!==n.target)return!0;var r=c(e.activeItem);return!(!r.hasClass(t.dragging)||e.isMove(n)||(e.kbDropWarning&&e.kbDropWarning.hide(),r.removeClass(t.dragging),r.addClass(t.selected),r.attr("aria-grabbed","false"),e.setDropEffects("none"),1))},p.reorderer.requestMovement=function(e,t,n){if(n=p.unwrap(n),t&&p.unwrap(t.element)!==n){var r=c(e.activeItem);r.off("blur.fluid.reorderer"),e.events.onMove.fire(n,t),e.dropManager.geometricMove(n,t.element,t.position),p.focus(r),e.refresh(),e.dropManager.updateGeometry(e.layoutHandler.getGeometricInfo()),e.events.afterMove.fire(n,t,e.dom.fastLocate("movables"))}},p.reorderer.hoverStyleHandler=function(e,t,n,r){e.fastLocate("grabHandle",n)[r?"addClass":"removeClass"](t.hover)},p.reorderer.processAfterMoveCallbackUrl=function(n){var r=n.options;r.afterMoveCallbackUrl&&n.events.afterMove.addListener(function(){var e=n.layoutHandler,t=e.getModel?e.getModel():r.acquireModel(n);c.post(r.afterMoveCallbackUrl,JSON.stringify(t))},"postModel")},p.reorderer.setDropEffects=function(e,t){e.fastLocate("dropTargets").attr("aria-dropeffect",t)},p.reorderer.createDropMarker=function(e,t){var n=c(document.createElement(e));return n.addClass(t),n.hide(),n},p.reorderer.changeSelectedToDefault=function(e,t){e.removeClass(t.selected),e.removeClass(t.dragging),e.addClass(t.defaultStyle),e.attr("aria-selected","false")},p.reorderer.initSelectables=function(n){for(var e=function(e){return n.changeSelectedToDefault(c(this)),e.stopPropagation()},t=function(e){return n.selectItem(this),e.stopPropagation()},r=function(e){var t=p.unwrap(n.dom.fastLocate("grabHandle",this));p.dom.isContainer(t,e.target)&&c(this).focus()},i=n.dom.fastLocate("selectables"),o=0;o<i.length;++o){var a=c(i[o]);c.data(a[0],"fluid.reorderer.selectable-initialised")||(a.addClass(n.options.styles.defaultStyle),a.on("blur.fluid.reorderer",e),a.focus(t),a.click(r),a.attr("role",n.options.containerRole.item),a.attr("aria-selected","false"),a.attr("aria-disabled","false"),c.data(a[0],"fluid.reorderer.selectable-initialised",!0))}n.selectableContext||(n.selectableContext=p.selectable(n.container,{selectableElements:i,selectablesTabindex:n.options.selectablesTabindex,direction:null}))},p.reorderer.selectItem=function(e,t){e.events.onSelect.fire(t),e.activeItem&&e.activeItem!==t&&e.changeSelectedToDefault(c(e.activeItem)),e.activeItem=t;var n=c(t),r=e.options.styles;n.removeClass(r.defaultStyle),n.addClass(r.selected),n.attr("aria-selected","true")},p.reorderer.initMovable=function(o,a,s){var l=o.options,t=l.styles;s.attr("aria-grabbed","false"),s.mouseover(function(){o.events.onHover.fire(s,!0)}),s.mouseout(function(){o.events.onHover.fire(s,!1)});var u,e=o.dom.fastLocate("grabHandle",s);s.draggable({refreshPositions:!1,scroll:!0,helper:function(){var e;return o.mouseDropWarning&&(e=o.mouseDropWarning[0]),(u=c(l.avatarCreator(s[0],t.avatar,e))).prop("id",p.reorderer.createAvatarId(o.container.id)),u},start:function(e){if(!1===o.events.onBeginMove.fire(s))return!1;var t=o.dom.fastLocate("grabHandle",s)[0],n=p.dom.computeAbsolutePosition(t),r=t.offsetWidth,i=t.offsetHeight;s.focus(),s.removeClass(l.styles.selected),s.addClass(l.styles.mouseDrag),s.attr("aria-grabbed","true"),o.setDropEffects("move"),a.startDrag(e,n,r,i),u.show()},stop:function(e,t){s.removeClass(l.styles.mouseDrag),s.addClass(l.styles.selected),c(o.activeItem).attr("aria-grabbed","false");var n=p.unwrap(o.dropMarker);n.parentNode&&n.parentNode.removeChild(n),u.hide(),t.helper=null,o.setDropEffects("none"),a.endDrag(),o.requestMovement(a.lastPosition(),s),o.activeItem.focus()},handle:p.unwrap(e)===p.unwrap(s)?null:e})},p.reorderer.initItems=function(t){var e=t.dom.fastLocate("movables"),n=t.dom.fastLocate("dropTargets");t.initSelectables();for(var r=0;r<e.length;r++){var i=e[r];c.data(i,"fluid.reorderer.movable-initialised")||(t.initMovable(c(i)),c.data(i,"fluid.reorderer.movable-initialised",!0))}0<e.length&&!t.dropMarker&&(t.dropMarker=t.createDropMarker(e[0].tagName)),t.dropManager.updateGeometry(t.layoutHandler.getGeometricInfo());t.dropManager.dropChangeFirer.addListener(function(e){p.dom.moveDom(t.dropMarker,e.element,e.position),t.dropMarker.css("display",""),t.mouseDropWarning&&(e.lockedelem?t.mouseDropWarning.show():t.mouseDropWarning.hide())},"fluid.reorderer"),n.attr("aria-dropeffect","none")},p.reorderer.refresh=function(e,t,n,r){e.refresh("movables"),e.refresh("selectables"),e.refresh("grabHandle",e.fastLocate("movables")),e.refresh("stylisticOffset",e.fastLocate("movables")),e.refresh("dropTargets"),n&&(n.selectables=e.fastLocate("selectables"),n.selectablesUpdated(r)),t.onRefresh.fire()},p.reorderer.roles={GRID:{container:"grid",item:"gridcell"},LIST:{container:"list",item:"listitem"},REGIONS:{container:"main",item:"article"}},p.defaults("fluid.reorderList",{gradeNames:["fluid.reorderer"],layoutHandler:"fluid.listLayoutHandler"}),p.defaults("fluid.reorderGrid",{gradeNames:["fluid.reorderer"],layoutHandler:"fluid.gridLayoutHandler"}),p.reorderer.SHUFFLE_GEOMETRIC_STRATEGY="shuffleProjectFrom",p.reorderer.GEOMETRIC_STRATEGY="projectFrom",p.reorderer.LOGICAL_STRATEGY="logicalFrom",p.reorderer.WRAP_LOCKED_STRATEGY="lockedWrapFrom",p.reorderer.NO_STRATEGY=null,p.reorderer.relativeInfoGetter=function(i,o,a,s,l){return function(e,t,n){var r=p.directionOrientation(t)===i?o:a;return null!==r?s[r](e,t,n,l):null}},p.reorderer.makeGeometricInfoGetter=function(e,t,n){var r={sentinelize:t,extents:[{orientation:e,elements:n.fastLocate("dropTargets")}],elementMapper:function(e){return-1===c.inArray(e,n.fastLocate("movables"))?"locked":null},elementIndexer:function(e){var t=n.fastLocate("selectables");return{elementClass:r.elementMapper(e),index:c.inArray(e,t),length:t.length}}};return r},p.defaults("fluid.layoutHandler",{gradeNames:["fluid.viewComponent"],disableWrap:"{reorderer}.options.disableWrap",members:{reordererDom:"{reorderer}.dom",dropManager:"{reorderer}.dropManager"},invokers:{getGeometricInfo:"fluid.reorderer.makeGeometricInfoGetter({that}.options.orientation, {that}.options.sentinelize, {that}.reordererDom)"}}),p.defaults("fluid.listLayoutHandler",{gradeNames:["fluid.layoutHandler"],orientation:p.orientation.VERTICAL,containerRole:p.reorderer.roles.LIST,selectablesTabindex:-1,sentinelize:!0,members:{getRelativePosition:{expander:{funcName:"fluid.reorderer.relativeInfoGetter",args:["{that}.options.orientation",p.reorderer.LOGICAL_STRATEGY,null,"{that}.dropManager","{that}.options.disableWrap"]}}}}),p.defaults("fluid.gridLayoutHandler",{gradeNames:["fluid.layoutHandler"],orientation:p.orientation.HORIZONTAL,containerRole:p.reorderer.roles.GRID,selectablesTabindex:-1,sentinelize:!1,coStrategy:"@expand:fluid.gridLayoutHandler.computeCoStrategy({that}.options.disableWrap)",members:{getRelativePosition:{expander:{funcName:"fluid.reorderer.relativeInfoGetter",args:["{that}.options.orientation","{that}.options.coStrategy",p.reorderer.SHUFFLE_GEOMETRIC_STRATEGY,"{that}.dropManager","{that}.options.disableWrap"]}}}}),p.gridLayoutHandler.computeCoStrategy=function(e){return e?p.reorderer.SHUFFLE_GEOMETRIC_STRATEGY:p.reorderer.LOGICAL_STRATEGY},p.defaults("fluid.reorderer.labeller",{gradeNames:["fluid.component"],members:{movedMap:{},moduleCell:{expander:{funcName:"fluid.reorderer.labeller.computeModuleCell",args:["{that}.resolver","{that}.options.orientation"]}},layoutType:{expander:{funcName:"fluid.computeNickName",args:"{that}.options.layoutType"}},positionTemplate:{expander:{funcName:"fluid.reorderer.labeller.computePositionTemplate",args:["{that}.resolver","{that}.layoutType"]}}},strings:{overallTemplate:"%recentStatus %item %position %movable",position:"%index of %length",position_moduleLayoutHandler:"%index of %length in %moduleCell %moduleIndex of %moduleLength",moduleCell_0:"row",moduleCell_1:"column",movable:"movable",fixed:"fixed",recentStatus:"moved from position %position"},components:{resolver:{type:"fluid.messageResolver",options:{messageBase:"{labeller}.options.strings"}}},invokers:{renderLabel:{funcName:"fluid.reorderer.labeller.renderLabel",args:["{labeller}","{arguments}.0","{arguments}.1"]}},listeners:{"{reorderer}.events.onRefresh":{listener:"fluid.reorderer.labeller.onRefresh",args:"{that}"},"{reorderer}.events.onMove":{listener:"fluid.reorderer.labeller.onMove",args:["{that}","{arguments}.0","{arguments}.1"]}}}),p.reorderer.labeller.computeModuleCell=function(e,t){return e.resolve("moduleCell_"+t)},p.reorderer.labeller.computePositionTemplate=function(e,t){return e.lookup(["position_"+t,"position"])},p.reorderer.labeller.onRefresh=function(a){var e=a.dom.locate("selectables"),s=a.movedMap;p.each(e,function(t){var e={},n=p.allocateSimpleId(t),r=s[n],i=a.renderLabel(t),o=i;r&&(r.newRender=o,i=a.renderLabel(t,r.oldRender.position),c(t).one("focusout.ariaLabeller",function(){if(s[n]){var e=s[n].newRender.label;delete s[n],p.updateAriaLabel(t,e)}}),e.dynamicLabel=!0),p.updateAriaLabel(t,i.label,e)})},p.reorderer.labeller.onMove=function(e,t){p.clear(e.movedMap),c(t).off("focusout.ariaLabeller");var n=p.allocateSimpleId(t);e.movedMap[n]={oldRender:e.renderLabel(t)}},p.reorderer.indexRebaser=function(e){return e.index++,void 0!==e.moduleIndex&&e.moduleIndex++,e},p.reorderer.labeller.renderLabel=function(e,t,n){var r=e.options.getGeometricInfo(),i=p.reorderer.indexRebaser(r.elementIndexer(t));i.moduleCell=e.moduleCell;var o,a=r.elementMapper(t),s=e.dom.locate("labelSource",t);n&&(o=e.resolver.resolve("recentStatus",{position:n}));var l={item:"string"==typeof s?s:p.dom.getElementText(p.unwrap(s)),position:e.positionTemplate.resolveFunc(e.positionTemplate.template,i),movable:e.resolver.resolve("locked"===a?"fixed":"movable"),recentStatus:o||""},u=e.resolver.lookup(["overallTemplate"]),d=u.resolveFunc(u.template,l);return{position:l.position,label:d}}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(o,a){"use strict";a.registerNamespace("fluid.reorderImages"),a.reorderImages.deriveLightboxCellBase=function(e,t){return e+"lightbox-cell:"+t+":"},a.reorderImages.addThumbnailActivateHandler=function(e){e.keypress(function(e){if(e.which===a.reorderer.keys.ENTER){var t=o("a",e.target);document.location=t.attr("href")}})},a.reorderImages.seekNodesById=function(e,t,n){for(var r=e.getElementsByTagName(t),i=[],o=0;o<r.length;o+=1){var a=r[o],s=a.id;s&&s.match(n)&&i.push(a)}return i},a.reorderImages.createImageCellFinder=function(e,t){t=t||e.prop("id"),e=a.unwrap(e);var n="^"+a.reorderImages.deriveLightboxCellBase(t,"[0-9]+")+"$";return function(){return a.reorderImages.seekNodesById(e,"div",n)}},a.reorderImages.seekForm=function(e){return a.findAncestor(e,function(e){return o(e).is("form")})},a.reorderImages.seekInputs=function(e,t){return a.reorderImages.seekNodesById(t,"input","^"+a.reorderImages.deriveLightboxCellBase(e.prop("id"),"[^:]*")+"reorder-index$")},a.reorderImages.mapIdsToNames=function(e,t){for(var n=a.reorderImages.seekInputs(e,t),r=0;r<n.length;r++){var i=n[r],o=i.name;i.name=o||i.id}},a.reorderImages.createIDAfterMoveListener=function(r){var i=a.reorderImages.seekForm(r);return a.reorderImages.mapIdsToNames(r,i),function(){var e,t;for(e=a.reorderImages.seekInputs(r,i),t=0;t<e.length;t+=1)e[t].value=t;if(i&&i.action){var n=o(i).serialize();o.post(i.action,n,function(){})}}},a.defaults("fluid.reorderImages",{gradeNames:["fluid.reorderer"],layoutHandler:"fluid.gridLayoutHandler",listeners:{"afterMove.postModel":{expander:{funcName:"fluid.reorderImages.createIDAfterMoveListener",args:"{that}.container"}}},selectors:{movables:{expander:{funcName:"fluid.reorderImages.createImageCellFinder",args:"{that}.container"}},labelSource:".flc-reorderer-imageTitle"}}),a.lightbox=a.reorderImages}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(i,l){"use strict";l.registerNamespace("fluid.moduleLayout"),l.moduleLayout.findColumnAndItemIndices=function(r,e){return l.find(e.columns,function(e,t){var n=i.inArray(r,e.elements);return-1===n?void 0:{columnIndex:t,itemIndex:n}},{columnIndex:-1,itemIndex:-1})},l.moduleLayout.findColIndex=function(n,e){return l.find(e.columns,function(e,t){return n===e.container?t:void 0},-1)},l.moduleLayout.updateLayout=function(e,t,n,r){e=l.unwrap(e),t=l.unwrap(t);var i,o=l.moduleLayout.findColumnAndItemIndices(e,r);if(r.columns[o.columnIndex].elements.splice(o.itemIndex,1),n===l.position.INSIDE)(i=r.columns[l.moduleLayout.findColIndex(t,r)].elements).splice(i.length,0,e);else{var a=l.moduleLayout.findColumnAndItemIndices(t,r);i=r.columns[a.columnIndex].elements;var s=(n=l.dom.normalisePosition(n,o.columnIndex===a.columnIndex,a.itemIndex,o.itemIndex))===l.position.BEFORE?0:1;i.splice(a.itemIndex+s,0,e)}},l.moduleLayout.layoutFromFlat=function(e,t,n){var r={};return r.container=e,r.columns=l.transform(t,function(e){return{container:e,elements:l.makeArray(n.filter(function(){return l.dom.isContainer(e,this)}))}}),r},l.moduleLayout.layoutFromIds=function(e){return{container:l.byId(e.id),columns:l.transform(e.columns,function(e){return{container:l.byId(e.id),elements:l.transform(e.children,l.byId)}})}},l.moduleLayout.layoutToIds=function(e){return{id:l.getId(e.container),columns:l.transform(e.columns,function(e){return{id:l.getId(e.container),children:l.transform(e.elements,l.getId)}})}},l.moduleLayout.defaultOnShowKeyboardDropWarning=function(e,t){if(t){var n=i(e).offset();(t=i(t)).css("position","absolute"),t.css("top",n.top),t.css("left",n.left)}},l.defaults("fluid.moduleLayoutHandler",{gradeNames:["fluid.layoutHandler"],orientation:l.orientation.VERTICAL,containerRole:l.reorderer.roles.REGIONS,selectablesTabindex:-1,sentinelize:!0,events:{onMove:"{reorderer}.events.onMove",onRefresh:"{reorderer}.events.onRefresh",onShowKeyboardDropWarning:"{reorderer}.events.onShowKeyboardDropWarning"},listeners:{"onShowKeyboardDropWarning.setPosition":"fluid.moduleLayout.defaultOnShowKeyboardDropWarning",onRefresh:{priority:"first",listener:"{that}.computeLayout"},onMove:{priority:"last",listener:"fluid.moduleLayout.onMoveListener",args:["{arguments}.0","{arguments}.1","{that}.layout"]}},members:{layout:{expander:{func:"{that}.computeLayout"}},getRelativePosition:{expander:{funcName:"fluid.reorderer.relativeInfoGetter",args:["{that}.options.orientation",l.reorderer.WRAP_LOCKED_STRATEGY,l.reorderer.GEOMETRIC_STRATEGY,"{that}.dropManager","{that}.options.disableWrap"]}}},invokers:{computeLayout:{funcName:"fluid.moduleLayout.computeLayout",args:["{that}","{reorderer}.options.selectors.modules","{that}.dom"]},computeModules:{funcName:"fluid.moduleLayout.computeModules",args:["{that}.layout","{that}.isLocked","{arguments}.0"]},makeComputeModules:{funcName:"fluid.moduleLayout.makeComputeModules",args:["{that}","{arguments}.0"]},isLocked:{funcName:"fluid.moduleLayout.isLocked",args:["{arguments}.0","{reorderer}.options.selectors.lockedModules","{that}.reordererDom"]},getGeometricInfo:"fluid.moduleLayout.getGeometricInfo({that})",getModel:"fluid.moduleLayout.getModel({that})"},selectors:{modules:"{reorderer}.options.selectors.modules",columns:"{reorderer}.options.selectors.columns"},distributeOptions:{target:"{reorderer}.options",record:{selectors:{movables:{expander:{func:"{that}.makeComputeModules",args:[!1]}},dropTargets:{expander:{func:"{that}.makeComputeModules",args:[!1]}},selectables:{expander:{func:"{that}.makeComputeModules",args:[!0]}}}}}}),l.moduleLayout.getGeometricInfo=function(n){for(var e=n.options,t=[],r={extents:t,sentinelize:e.sentinelize,elementMapper:function(e){return n.isLocked(e)?"locked":null},elementIndexer:function(e){var t=l.moduleLayout.findColumnAndItemIndices(e,n.layout);return{index:t.itemIndex,length:n.layout.columns[t.columnIndex].elements.length,moduleIndex:t.columnIndex,moduleLength:n.layout.columns.length}}},i=0;i<n.layout.columns.length;i++){var o=n.layout.columns[i],a={orientation:e.orientation,elements:l.makeArray(o.elements),parentElement:o.container};t.push(a)}return r},l.moduleLayout.getModel=function(e){return l.moduleLayout.layoutToIds(e.layout)},l.moduleLayout.computeLayout=function(e,t,n){var r;if(t&&(r=l.moduleLayout.layoutFromFlat(e.container,n.locate("columns"),n.locate("modules"))),!r){var i=l.get(e.options,"moduleLayout.layout");r=l.moduleLayout.layoutFromIds(i)}return e.layout=r},l.moduleLayout.computeModules=function(e,t,n){var r=l.accumulate(e.columns,function(e,t){return t.concat(e.elements)},[]);return n||l.remove_if(r,t),r},l.moduleLayout.makeComputeModules=function(e,t){return function(){return e.computeModules(t)}},l.moduleLayout.isLocked=function(e,t,n){var r=t?n.fastLocate("lockedModules"):[];return-1!==i.inArray(e,r)},l.moduleLayout.onMoveListener=function(e,t,n){l.moduleLayout.updateLayout(e,t.element,t.position,n)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,i){"use strict";i.reorderLayout=function(e,t){var n=r.extend(!0,{layoutHandler:"fluid.moduleLayoutHandler",selectors:{columns:".flc-reorderer-column",modules:".flc-reorderer-module"}},t);return i.reorderer(e,n)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.defaults("fluid.slidingPanel",{gradeNames:["fluid.viewComponent"],selectors:{panel:".flc-slidingPanel-panel",toggleButton:".flc-slidingPanel-toggleButton",toggleButtonLabel:".flc-slidingPanel-toggleButton"},strings:{showText:"show",hideText:"hide",panelLabel:"panel"},events:{onPanelHide:null,onPanelShow:null,afterPanelHide:null,afterPanelShow:null},listeners:{"onCreate.bindClick":{this:"{that}.dom.toggleButton",method:"click",args:["{that}.togglePanel"]},"onCreate.bindModelChange":{listener:"{that}.applier.modelChanged.addListener",args:["isShowing","{that}.refreshView"]},"onCreate.setAriaProps":"{that}.setAriaProps","onCreate.setInitialState":{listener:"{that}.refreshView"},"onPanelHide.setText":{this:"{that}.dom.toggleButtonLabel",method:"text",args:["{that}.options.strings.showText"],priority:"first"},"onPanelHide.setAriaLabel":{this:"{that}.dom.toggleButtonLabel",method:"attr",args:["aria-label","{that}.options.strings.showTextAriaLabel"]},"onPanelShow.setText":{this:"{that}.dom.toggleButtonLabel",method:"text",args:["{that}.options.strings.hideText"],priority:"first"},"onPanelShow.setAriaLabel":{this:"{that}.dom.toggleButtonLabel",method:"attr",args:["aria-label","{that}.options.strings.hideTextAriaLabel"]},"onPanelHide.operate":{listener:"{that}.operateHide"},"onPanelShow.operate":{listener:"{that}.operateShow"},"onCreate.setAriaStates":"{that}.setAriaStates"},members:{panelId:{expander:{funcName:"fluid.allocateSimpleId",args:"{that}.dom.panel"}}},model:{isShowing:!1},modelListeners:{isShowing:{funcName:"{that}.setAriaStates",excludeSource:"init"}},invokers:{operateHide:{this:"{that}.dom.panel",method:"slideUp",args:["{that}.options.animationDurations.hide","{that}.events.afterPanelHide.fire"]},operateShow:{this:"{that}.dom.panel",method:"slideDown",args:["{that}.options.animationDurations.show","{that}.events.afterPanelShow.fire"]},hidePanel:{func:"{that}.applier.change",args:["isShowing",!1]},showPanel:{func:"{that}.applier.change",args:["isShowing",!0]},setAriaStates:{funcName:"fluid.slidingPanel.setAriaStates",args:["{that}","{that}.model.isShowing"]},setAriaProps:{funcName:"fluid.slidingPanel.setAriaProperties",args:["{that}","{that}.panelId"]},togglePanel:{funcName:"fluid.slidingPanel.togglePanel",args:["{that}"]},refreshView:{funcName:"fluid.slidingPanel.refreshView",args:["{that}"]}},animationDurations:{hide:400,show:400}}),t.slidingPanel.togglePanel=function(e){e.applier.change("isShowing",!e.model.isShowing)},t.slidingPanel.refreshView=function(e){e.events[e.model.isShowing?"onPanelShow":"onPanelHide"].fire()},t.slidingPanel.setAriaProperties=function(e,t){e.locate("toggleButton").attr({role:"button","aria-controls":t}),e.locate("panel").attr({"aria-label":e.options.strings.panelLabel,role:"group"})},t.slidingPanel.setAriaStates=function(e,t){e.locate("toggleButton").attr("aria-pressed",t),e.locate("panel").attr("aria-expanded",t)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(a,s){"use strict";s.registerNamespace("fluid.tableOfContents"),s.tableOfContents.headingTextToAnchorInfo=function(e){var t=s.allocateSimpleId(e);return{id:t,url:"#"+t}},s.tableOfContents.locateHeadings=function(e){var t=e.locate("headings");return s.each(e.options.ignoreForToC,function(e){t=t.not(e).not(e+" :header")}),t},s.tableOfContents.refreshView=function(t){var e=t.locateHeadings();t.anchorInfo=s.transform(e,function(e){return t.headingTextToAnchorInfo(e)});var n=t.modelBuilder.assembleModel(e,t.anchorInfo);t.applier.change("",n),t.events.onRefresh.fire()},s.defaults("fluid.tableOfContents",{gradeNames:["fluid.viewComponent"],components:{levels:{type:"fluid.tableOfContents.levels",createOnEvent:"onCreate",container:"{tableOfContents}.dom.tocContainer",options:{model:{headings:"{tableOfContents}.model"},events:{afterRender:"{tableOfContents}.events.afterRender"},listeners:{"{tableOfContents}.events.onRefresh":"{that}.refreshView"},strings:"{tableOfContents}.options.strings"}},modelBuilder:{type:"fluid.tableOfContents.modelBuilder"}},model:[],invokers:{headingTextToAnchorInfo:"fluid.tableOfContents.headingTextToAnchorInfo",locateHeadings:{funcName:"fluid.tableOfContents.locateHeadings",args:["{that}"]},refreshView:{funcName:"fluid.tableOfContents.refreshView",args:["{that}"]},hide:{this:"{that}.dom.tocContainer",method:"hide"},show:{this:"{that}.dom.tocContainer",method:"show"}},strings:{tocHeader:"Table of Contents"},selectors:{headings:":header:visible",tocContainer:".flc-toc-tocContainer"},ignoreForToC:{tocContainer:"{that}.options.selectors.tocContainer"},events:{onRefresh:null,afterRender:null,onReady:{events:{onCreate:"onCreate",afterRender:"afterRender"},args:["{that}"]}},listeners:{"onCreate.refreshView":"{that}.refreshView"}}),s.registerNamespace("fluid.tableOfContents.modelBuilder"),s.tableOfContents.modelBuilder.toModel=function(e,o){var t=s.copy(e),a=function(e,t){for(var n=[];0<e.length;){var r=e[0];if(r.level<t)break;if(r.level>t){var i=a(e,t+1);0<n.length?n[n.length-1].headings=i:n=o(n,i)}r.level===t&&(n.push(r),e.shift())}return n};return a(t,1)},s.tableOfContents.modelBuilder.gradualModelLevelFn=function(e,t){var n=s.copy(t);return n[0].level--,n},s.tableOfContents.modelBuilder.skippedModelLevelFn=function(e,t){return e.push({headings:t}),e},s.tableOfContents.modelBuilder.convertToHeadingObjects=function(n,e,r){return e=a(e),s.transform(e,function(e,t){return{level:n.headingCalculator.getHeadingLevel(e),text:a(e).text(),url:r[t].url}})},s.tableOfContents.modelBuilder.assembleModel=function(e,t,n){var r=e.convertToHeadingObjects(t,n);return e.toModel(r)},s.defaults("fluid.tableOfContents.modelBuilder",{gradeNames:["fluid.component"],components:{headingCalculator:{type:"fluid.tableOfContents.modelBuilder.headingCalculator"}},invokers:{toModel:{funcName:"fluid.tableOfContents.modelBuilder.toModel",args:["{arguments}.0","{modelBuilder}.modelLevelFn"]},modelLevelFn:"fluid.tableOfContents.modelBuilder.gradualModelLevelFn",convertToHeadingObjects:"fluid.tableOfContents.modelBuilder.convertToHeadingObjects({that}, {arguments}.0, {arguments}.1)",assembleModel:"fluid.tableOfContents.modelBuilder.assembleModel({that}, {arguments}.0, {arguments}.1)"}}),s.registerNamespace("fluid.tableOfContents.modelBuilder.headingCalculator"),s.tableOfContents.modelBuilder.headingCalculator.getHeadingLevel=function(e,t){return e.options.levels.indexOf(t.tagName)+1},s.defaults("fluid.tableOfContents.modelBuilder.headingCalculator",{gradeNames:["fluid.component"],invokers:{getHeadingLevel:"fluid.tableOfContents.modelBuilder.headingCalculator.getHeadingLevel({that}, {arguments}.0)"},levels:["H1","H2","H3","H4","H5","H6"]}),s.registerNamespace("fluid.tableOfContents.levels"),s.tableOfContents.levels.objModel=function(e,t){return{ID:e+t+":",children:[]}},s.tableOfContents.levels.handleEmptyItemObj=function(e){e.decorators=[{type:"addClass",classes:"fl-tableOfContents-hide-bullet"}]},s.tableOfContents.levels.generateTree=function(e,i){i=i||0;var o=s.tableOfContents.levels.objModel("level",i);return 0===e.headings.length?i?[]:{children:[]}:0===i?{children:[s.tableOfContents.levels.generateTree(e,i+1)]}:(a.each(e.headings,function(e,t){var n=s.tableOfContents.levels.objModel("items",i),r={ID:"link"+i,target:t.url,linktext:t.text};t.level?n.children.push(r):s.tableOfContents.levels.handleEmptyItemObj(n),t.headings&&n.children.push(s.tableOfContents.levels.generateTree(t,i+1)),o.children.push(n)}),o)},s.tableOfContents.levels.produceTree=function(e){var t=s.tableOfContents.levels.generateTree(e.model);return t.children.push({ID:"tocHeader",messagekey:"tocHeader"}),t},s.tableOfContents.levels.fetchResources=function(e){s.fetchResources(e.options.resources,function(){e.container.append(e.options.resources.template.resourceText),e.refreshView()})},s.defaults("fluid.tableOfContents.levels",{gradeNames:["fluid.rendererComponent"],produceTree:"fluid.tableOfContents.levels.produceTree",strings:{tocHeader:"Table of Contents"},selectors:{tocHeader:".flc-toc-header",level1:".flc-toc-levels-level1",level2:".flc-toc-levels-level2",level3:".flc-toc-levels-level3",level4:".flc-toc-levels-level4",level5:".flc-toc-levels-level5",level6:".flc-toc-levels-level6",items1:".flc-toc-levels-items1",items2:".flc-toc-levels-items2",items3:".flc-toc-levels-items3",items4:".flc-toc-levels-items4",items5:".flc-toc-levels-items5",items6:".flc-toc-levels-items6",link1:".flc-toc-levels-link1",link2:".flc-toc-levels-link2",link3:".flc-toc-levels-link3",link4:".flc-toc-levels-link4",link5:".flc-toc-levels-link5",link6:".flc-toc-levels-link6"},repeatingSelectors:["level1","level2","level3","level4","level5","level6","items1","items2","items3","items4","items5","items6"],model:{headings:[]},listeners:{"onCreate.fetchResources":"fluid.tableOfContents.levels.fetchResources"},resources:{template:{forceCache:!0,url:"../html/TableOfContents.html"}},rendererFnOptions:{noexpand:!0},rendererOptions:{debugMode:!1}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.defaults("fluid.tabs",{gradeNames:["fluid.viewComponent"],tabOptions:{},events:{tabsselect:"preventable",tabsload:null,tabsshow:null},listeners:{"onCreate.initTabs":{this:"{that}.container",method:"tabs",args:"{that}.options.tabOptions"},"onCreate.bindEvents":{priority:"after:initTabs",funcName:"fluid.tabs.bindEvents"}}}),t.tabs.bindEvents=function(r){t.each(r.options.events,function(e,n){r.container.on(n,function(e,t){return r.events[n].fire(r,e,t)})})}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,o){"use strict";o.registerNamespace("fluid.contextAware"),o.defaults("fluid.contextAware.marker",{gradeNames:["fluid.component"]}),o.contextAware.makeCheckMarkers=function(e,n,r){o.each(e,function(e,t){o.constructSingle(n,{type:t,gradeNames:"fluid.contextAware.marker",value:e},r)})},o.contextAware.performChecks=function(e){return o.transform(e,function(e){return"function"==typeof e?e={func:e}:"string"==typeof e&&(e={funcName:e}),o.isPrimitive(e)?e:"value"in e?e.value:"func"in e?e.func():"funcName"in e?o.invokeGlobalFunction(e.funcName):void o.fail("Error in contextAwareness check record ",e," - must contain an entry with name value, func, or funcName")})},o.contextAware.makeChecks=function(e,t,n){var r=o.contextAware.performChecks(e);o.contextAware.makeCheckMarkers(r,t,n)},o.contextAware.forgetChecks=function(e,r,i){i=i||o.globalInstantiator,r=r||[];var t=o.makeArray(e);o.each(t,function(e){var t=o.typeNameToMemberName(e),n=o.model.parseToSegments(r,i.parseEL,!0);n.push(t),o.destroy(n,i)})},o.defaults("fluid.contextAware",{gradeNames:["{that}.check"],mergePolicy:{contextAwareness:"noexpand"},contextAwareness:{},invokers:{check:{funcName:"fluid.contextAware.check",args:["{that}","{that}.options.contextAwareness"]}}}),o.contextAware.getCheckValue=function(e,t){var n=o.parseContextReference(t),r=o.resolveContext(n.context,e),i=n.path||["options","value"];return o.getForComponent(r,i)},o.contextAware.checkOne=function(n,e){e.checks&&e.checks.contextValue&&o.fail("Nesting error in contextAwareness record ",e,' - the "checks" entry must contain a hash and not a contextValue/gradeNames record at top level');var t=o.parsePriorityRecords(e.checks,"contextAwareness checkRecord");return o.find(t,function(e){e.contextValue||o.fail("Cannot perform check for contextAwareness record ",e,' without a valid field named "contextValue"');var t=o.contextAware.getCheckValue(n,e.contextValue);if(void 0===e.equals?t:t===e.equals)return e.gradeNames},e.defaultGradeNames)},o.contextAware.check=function(n,e){var r=[],t=o.parsePriorityRecords(e,"contextAwareness adaptationRecord");return o.each(t,function(e){var t=o.contextAware.checkOne(n,e);r=r.concat(o.makeArray(t))}),r},o.contextAware.makeAdaptation=function(e){o.expect("fluid.contextAware.makeAdaptation",e,["distributionName","targetName","adaptationName","checkName","record"]),o.defaults(e.distributionName,{gradeNames:["fluid.component"],distributeOptions:{target:"{/ "+e.targetName+"}.options.contextAwareness."+e.adaptationName+".checks."+e.checkName,record:e.record}}),o.constructSingle([],e.distributionName)},o.contextAware.isBrowser=function(){return"undefined"!=typeof window&&window.document},o.contextAware.makeChecks({"fluid.browser":{funcName:"fluid.contextAware.isBrowser"}}),o.registerNamespace("fluid.contextAware.browser"),o.contextAware.browser.getPlatformName=function(){return"undefined"!=typeof navigator&&navigator.platform?navigator.platform:void 0},o.contextAware.makeChecks({"fluid.browser.platformName":{funcName:"fluid.contextAware.browser.getPlatformName"}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.registerNamespace("fluid.enhance"),t.contextAware.isBrowser()&&e.fn&&e("head").append("<style type='text/css'>.fl-progEnhance-basic, .fl-ProgEnhance-basic { display: none; } .fl-progEnhance-enhanced, .fl-ProgEnhance-enhanced { display: block; }</style>")}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,e){"use strict";e.defaults("fluid.textfieldSlider",{gradeNames:["fluid.viewComponent","fluid.contextAware"],components:{textfield:{type:"fluid.textfieldSlider.textfield",container:"{textfieldSlider}.dom.textfield",options:{model:"{textfieldSlider}.model",range:"{textfieldSlider}.options.range",ariaOptions:"{textfieldSlider}.options.ariaOptions",strings:"{textfieldSlider}.options.strings"}},slider:{container:"{textfieldSlider}.dom.slider",options:{model:"{textfieldSlider}.model",range:"{textfieldSlider}.options.range",sliderOptions:"{textfieldSlider}.options.sliderOptions",ariaOptions:"{textfieldSlider}.options.ariaOptions",strings:"{textfieldSlider}.options.strings"}}},contextAwareness:{sliderVariety:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.textfieldSlider.jQueryUI"}},defaultGradeNames:"fluid.textfieldSlider.nativeHTML"}},selectors:{textfield:".flc-textfieldSlider-field",slider:".flc-textfieldSlider-slider"},model:{value:null},modelRelay:{target:"value",singleTransform:{type:"fluid.transforms.limitRange",input:"{that}.model.value",min:"{that}.options.range.min",max:"{that}.options.range.max"}},range:{min:0,max:100},ariaOptions:{},sliderOptions:{orientation:"horizontal",step:1},strings:{}}),e.defaults("fluid.textfieldSlider.nativeHTML",{components:{slider:{type:"fluid.slider.native"}}}),e.defaults("fluid.textfieldSlider.jQueryUI",{components:{slider:{type:"fluid.slider.jQuery"}}}),e.defaults("fluid.textfieldSlider.textfield",{gradeNames:["fluid.viewComponent"],range:{},modelRelay:{target:"value",singleTransform:{type:"fluid.transforms.stringToNumber",input:"{that}.model.stringValue"}},modelListeners:{value:{this:"{that}.container",method:"val",args:["{change}.value"]},stringValue:{this:"{that}.container",method:"val",args:["{that}.model.value"]}},listeners:{"onCreate.bindChangeEvt":{this:"{that}.container",method:"change",args:["{that}.setModel"]},"onCreate.initTextfieldAttributes":{this:"{that}.container",method:"attr",args:[{"aria-labelledby":"{that}.options.ariaOptions.aria-labelledby","aria-label":"{that}.options.strings.aria-label"}]}},invokers:{setModel:{changePath:"stringValue",value:"{arguments}.0.target.value"}}}),e.defaults("fluid.slider",{gradeNames:["fluid.viewComponent"],range:{}}),e.defaults("fluid.slider.native",{gradeNames:["fluid.slider"],modelRelay:{target:"value",singleTransform:{type:"fluid.transforms.stringToNumber",input:"{that}.model.stringValue"}},invokers:{setModel:{changePath:"stringValue",value:{expander:{this:"{that}.container",method:"val"}}}},listeners:{"onCreate.initSliderAttributes":{this:"{that}.container",method:"attr",args:[{min:"{that}.options.range.min",max:"{that}.options.range.max",step:"{that}.options.sliderOptions.step",type:"range",value:"{that}.model.value","aria-labelledby":"{that}.options.ariaOptions.aria-labelledby","aria-label":"{that}.options.strings.aria-label"}]},"onCreate.bindSlideEvt":{this:"{that}.container",method:"on",args:["input","{that}.setModel"]},"onCreate.bindRangeChangeEvt":{this:"{that}.container",method:"on",args:["change","{that}.setModel"]}},modelListeners:{value:[{this:"{that}.container",method:"val",args:["{change}.value"],excludeSource:"init"}]}}),e.defaults("fluid.slider.jQuery",{gradeNames:["fluid.slider"],selectors:{thumb:".ui-slider-handle"},styles:{handle:"fl-slider-handle",range:"fl-slider-range"},members:{slider:{expander:{this:"{that}.container",method:"slider",args:["{that}.combinedSliderOptions"]}},combinedSliderOptions:{expander:{funcName:"fluid.slider.combineSliderOptions",args:["{that}.options.sliderOptions","{that}.options.range"]}}},sliderOptions:{orientation:"horizontal",step:1,classes:{"ui-slider-handle":"{that}.options.styles.handle","ui-slider-range":"{that}.options.styles.range"}},invokers:{setSliderValue:{this:"{that}.slider",method:"slider",args:["value","{arguments}.0"]},setSliderAriaValueNow:{this:"{that}.dom.thumb",method:"attr",args:["aria-valuenow","{arguments}.0"]},setModel:{changePath:"value",value:"{arguments}.1.value"}},listeners:{"onCreate.initSliderAria":{this:"{that}.dom.thumb",method:"attr",args:[{role:"slider","aria-valuenow":"{that}.combinedSliderOptions.value","aria-valuemin":"{that}.combinedSliderOptions.min","aria-valuemax":"{that}.combinedSliderOptions.max","aria-labelledby":"{that}.options.ariaOptions.aria-labelledby","aria-label":"{that}.options.strings.aria-label"}]},"onCreate.bindSlideEvt":{this:"{that}.slider",method:"on",args:["slide","{that}.setModel"]}},modelListeners:{value:[{listener:"{that}.setSliderValue",args:["{change}.value"]},{listener:"{that}.setSliderAriaValueNow",args:["{change}.value"]}]}}),e.slider.combineSliderOptions=function(e,t,n){return r.extend(!0,{},e,t,n)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(a,s){"use strict";s.registerNamespace("fluid.textToSpeech"),s.textToSpeech.isSupported=function(){return!(!window||!window.speechSynthesis)},s.textToSpeech.checkTTSSupport=function(e){var t=s.promise();if(s.textToSpeech.isSupported()){var n=new SpeechSynthesisUtterance("short");n.volume=0;var r=setTimeout(function(){s.textToSpeech.deferredSpeechSynthesisControl("cancel"),t.reject()},e||5e3);n.onend=function(){clearTimeout(r),s.textToSpeech.deferredSpeechSynthesisControl("cancel"),t.resolve()},s.textToSpeech.deferredSpeechSynthesisControl("speak",n)}else setTimeout(t.reject,0);return t},s.defaults("fluid.textToSpeech",{gradeNames:["fluid.modelComponent"],events:{onStart:null,onStop:null,onError:null,onSpeechQueued:null},members:{queue:[]},model:{utteranceOpts:{}},modelListeners:{speaking:{listener:"fluid.textToSpeech.speak",args:["{that}","{change}.value"]},pauseRequested:{listener:"fluid.textToSpeech.requestControl",args:["{that}","pause","{change}"]},resumeRequested:{listener:"fluid.textToSpeech.requestControl",args:["{that}","resume","{change}"]}},invokers:{queueSpeech:{funcName:"fluid.textToSpeech.queueSpeech",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]},cancel:{funcName:"fluid.textToSpeech.cancel",args:["{that}"]},pause:{changePath:"pauseRequested",value:!0},resume:{changePath:"resumeRequested",value:!0},getVoices:{this:"speechSynthesis",method:"getVoices"},handleStart:{changePath:"speaking",value:!0},handleEnd:{funcName:"fluid.textToSpeech.handleEnd",args:["{that}"]},handleError:"{that}.events.onError.fire",handlePause:{changePath:"paused",value:!0},handleResume:{changePath:"paused",value:!1}}}),s.textToSpeech.deferredSpeechSynthesisControl=function(e,t){setTimeout(function(){speechSynthesis[e](t)},1)},s.textToSpeech.throttle=function(n,r,i){var o,a,s,l,u=0;i||(i={});var d=function(){u=!1===i.leading?0:(new Date).getTime(),o=null,l=n.apply(a,s),o||(a=s=null)},e=function(){var e=(new Date).getTime();u||!1!==i.leading||(u=e);var t=r-(e-u);return a=this,s=arguments,t<=0||r<t?(o&&(clearTimeout(o),o=null),u=e,l=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(d,t)),l};return e.cancel=function(){clearTimeout(o),u=0,o=a=s=null},e},s.textToSpeech.throttleControl=s.textToSpeech.throttle(s.textToSpeech.deferredSpeechSynthesisControl,100,{leading:!1}),s.textToSpeech.speak=function(e,t){e.events[t?"onStart":"onStop"].fire()},s.textToSpeech.requestControl=function(e,t,n){n.value&&(e.applier.change(n.path,!1),s.textToSpeech.throttleControl(t))},s.textToSpeech.handleEnd=function(e){e.queue.shift();if(e.queue.length)e.applier.change("pending",!0);else if(!e.queue.length){var t=a.extend({},e.model,{speaking:!1,pending:!1,paused:!1});e.applier.change("",t)}},s.textToSpeech.queueSpeech=function(e,t,n,r){n&&e.cancel();var i=new SpeechSynthesisUtterance(t),o={onstart:e.handleStart,onend:e.handleEnd,onerror:function(){e.handleError(t)},onpause:e.handlePause,onresume:e.handleResume};a.extend(i,e.model.utteranceOpts,r,o),e.queue.push({text:t,utterance:i}),e.events.onSpeechQueued.fire(t),s.textToSpeech.deferredSpeechSynthesisControl("speak",i)},s.textToSpeech.cancel=function(e){e.queue=[],s.textToSpeech.deferredSpeechSynthesisControl("cancel")}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,l){"use strict";l.registerNamespace("fluid.url"),l.url.generateDepth=function(e){return l.generate(e,"../").join("")},l.url.parsePathInfo=function(e){var t={},n=e.split("/");if(0<n.length){var r=n.length-1,i=n[r].indexOf(".");-1!==i&&(t.extension=n[r].substring(i+1),n[r]=n[r].substring(0,i))}return t.pathInfo=n,t},l.url.parsePathInfoTrim=function(e){var t=l.url.parsePathInfo(e);return""===t.pathInfo[t.pathInfo.length-1]&&t.pathInfo.length--,t},l.url.collapseSegs=function(e,t,n){var r="";void 0===t&&(t=0),void 0===n&&(n=e.length);for(var i=t;i<n-1;++i)r+=e[i]+"/";return t<n&&(r+=e[n-1]),r},l.url.makeRelPath=function(e,t){var n=l.kettle.collapseSegs(e.pathInfo,t);return e.extension&&(n+="."+e.extension),n},l.url.cononocolosePath=function(e){for(var t=0,n=0;n<e.length;++n)".."===e[n]?++t:0!==t&&(e.splice(n-2*t,2*t),n-=2*t,t=0);return e},l.url.parseUri=function(e){for(var r=l.url.parseUri.options,t=r.parser[r.strictMode?"strict":"loose"].exec(e),i={},n=14;n--;)i[r.key[n]]=t[n]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i},l.url.parseUri.options={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},l.url.parseSegs=function(e){var t=l.url.parseUri(e);return l.url.parsePathInfoTrim(t.directory).pathInfo},l.url.isAbsoluteUrl=function(e){var t=l.url.parseUri(e);return t.host||t.protocol||"/"===t.directory.charAt(0)},l.url.computeRelativePrefix=function(e,t,n){if(l.url.isAbsoluteUrl(n))return n;var r=l.url.parsePathInfo(n).pathInfo,i=l.url.parseSegs(e).concat(r);l.url.cononocolosePath(i);for(var o=l.url.parseSegs(t),a=0;a<i.length&&i[a]===o[a];++a);var s=o.length-a;return l.url.generateDepth(s)+l.url.collapseSegs(i,a)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,s){"use strict";s.defaults("fluid.prefs.dataSource",{gradeNames:["fluid.component"],invokers:{get:"fluid.notImplemented",set:"fluid.notImplemented"}}),s.defaults("fluid.prefs.store",{gradeNames:["fluid.prefs.dataSource","fluid.contextAware"],contextAwareness:{strategy:{defaultGradeNames:"fluid.prefs.cookieStore"}}}),s.defaults("fluid.prefs.cookieStore",{gradeNames:["fluid.prefs.store"],cookie:{name:"fluid-ui-settings",path:"/",expires:""},invokers:{get:{funcName:"fluid.prefs.cookieStore.get",args:"{that}.options.cookie.name"},set:{funcName:"fluid.prefs.cookieStore.set",args:["{arguments}.0","{that}.options.cookie"]}}}),s.prefs.cookieStore.get=function(e){var t=document.cookie;if(!(t.length<=0)){var n=e+"=",r=t.indexOf(n);if(!(r<0)){r+=n.length;var i=t.indexOf(";",r);i<r&&(i=t.length);var o,a=t.substring(r,i);try{o=JSON.parse(decodeURIComponent(a))}catch(e){s.log("Error parsing cookie "+a+" as JSON - clearing"),document.cookie=""}return o}}},s.prefs.cookieStore.assembleCookie=function(e){var t=e.name+"="+e.data;return e.expires&&(t+="; expires="+e.expires),e.path&&(t+="; path="+e.path),t},s.prefs.cookieStore.set=function(e,t){t.data=encodeURIComponent(JSON.stringify(e)),document.cookie=s.prefs.cookieStore.assembleCookie(t)},s.defaults("fluid.prefs.tempStore",{gradeNames:["fluid.prefs.store","fluid.modelComponent"],invokers:{get:{funcName:"fluid.identity",args:"{that}.model"},set:{funcName:"fluid.prefs.tempStore.set",args:["{arguments}.0","{that}.applier"]}}}),s.prefs.tempStore.set=function(e,t){t.fireChangeRequest({path:"",type:"DELETE"}),t.change("",e)},s.defaults("fluid.prefs.globalSettingsStore",{gradeNames:["fluid.component"],components:{settingsStore:{type:"fluid.prefs.store",options:{gradeNames:["fluid.resolveRootSingle"],singleRootType:"fluid.prefs.store"}}}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.defaults("fluid.prefs.initialModel",{gradeNames:["fluid.component"],members:{initialModel:{preferences:{}}}}),t.defaults("fluid.uiEnhancer",{gradeNames:["fluid.viewComponent"],invokers:{updateModel:{func:"{that}.applier.change",args:["","{arguments}.0"]}},userGrades:"@expand:fluid.prefs.filterEnhancerGrades({that}.options.gradeNames)"}),t.defaults("fluid.uiEnhancer.root",{gradeNames:["fluid.uiEnhancer","fluid.resolveRootSingle"],singleRootType:"fluid.uiEnhancer"}),t.uiEnhancer.ignorableGrades=["fluid.uiEnhancer","fluid.uiEnhancer.root","fluid.resolveRoot","fluid.resolveRootSingle"],t.prefs.filterEnhancerGrades=function(e){return t.remove_if(t.makeArray(e),function(e){return-1!==t.frameworkGrades.indexOf(e)||-1!==t.uiEnhancer.ignorableGrades.indexOf(e)})},t.prefs.filterEnhancerOptions=function(e){return t.filterKeys(e,["classnameMap","fontSizeMap","tocTemplate","components"])},t.defaults("fluid.pageEnhancer",{gradeNames:["fluid.component","fluid.originalEnhancerOptions","fluid.prefs.initialModel","fluid.prefs.settingsGetter","fluid.resolveRootSingle"],distributeOptions:{source:"{that}.options.uiEnhancer",target:"{that > uiEnhancer}.options"},singleRootType:"fluid.pageEnhancer",components:{uiEnhancer:{type:"fluid.uiEnhancer.root",container:"body"}},originalUserOptions:"@expand:fluid.prefs.filterEnhancerOptions({uiEnhancer}.options)",listeners:{"onCreate.initModel":"fluid.pageEnhancer.init"}}),t.pageEnhancer.init=function(e){e.uiEnhancer.updateModel(t.get(e.getSettings(),"preferences"))}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,o){"use strict";o.defaults("fluid.prefs.prefsEditorLoader",{gradeNames:["fluid.prefs.settingsGetter","fluid.prefs.initialModel","fluid.viewComponent"],defaultLocale:"en",members:{settings:{expander:{funcName:"fluid.prefs.prefsEditorLoader.getCompleteSettings",args:["{that}.initialModel","{that}.getSettings"]}}},components:{prefsEditor:{priority:"last",type:"fluid.prefs.prefsEditor",createOnEvent:"onCreatePrefsEditorReady",options:{members:{initialModel:"{prefsEditorLoader}.initialModel"},invokers:{getSettings:"{prefsEditorLoader}.getSettings"}}},templateLoader:{type:"fluid.resourceLoader",options:{events:{onResourcesLoaded:"{prefsEditorLoader}.events.onPrefsEditorTemplatesLoaded"}}},messageLoader:{type:"fluid.resourceLoader",options:{defaultLocale:"{prefsEditorLoader}.options.defaultLocale",locale:"{prefsEditorLoader}.settings.locale",resourceOptions:{dataType:"json"},events:{onResourcesLoaded:"{prefsEditorLoader}.events.onPrefsEditorMessagesLoaded"}}}},events:{onPrefsEditorTemplatesLoaded:null,onPrefsEditorMessagesLoaded:null,onCreatePrefsEditorReady:{events:{templateLoaded:"onPrefsEditorTemplatesLoaded",prefsEditorMessagesLoaded:"onPrefsEditorMessagesLoaded"}}},distributeOptions:[{source:"{that}.options.templateLoader",removeSource:!0,target:"{that > templateLoader}.options"},{source:"{that}.options.messageLoader",removeSource:!0,target:"{that > messageLoader}.options"},{source:"{that}.options.terms",target:"{that > templateLoader}.options.terms"},{source:"{that}.options.terms",target:"{that > messageLoader}.options.terms"},{source:"{that}.options.prefsEditor",removeSource:!0,target:"{that > prefsEditor}.options"}]}),o.prefs.prefsEditorLoader.getCompleteSettings=function(e,t){var n=t();return r.extend(!0,{},e,n)},o.defaults("fluid.prefs.transformDefaultPanelsOptions",{gradeNames:["fluid.viewComponent"],distributeOptions:[{source:"{that}.options.textSize",removeSource:!0,target:"{that textSize}.options"},{source:"{that}.options.lineSpace",removeSource:!0,target:"{that lineSpace}.options"},{source:"{that}.options.textFont",removeSource:!0,target:"{that textFont}.options"},{source:"{that}.options.contrast",removeSource:!0,target:"{that contrast}.options"},{source:"{that}.options.layoutControls",removeSource:!0,target:"{that layoutControls}.options"},{source:"{that}.options.linksControls",removeSource:!0,target:"{that linksControls}.options"}]}),o.defaults("fluid.prefs.settingsGetter",{gradeNames:["fluid.component"],members:{getSettings:"{fluid.prefs.store}.get"}}),o.defaults("fluid.prefs.settingsSetter",{gradeNames:["fluid.component"],invokers:{setSettings:{funcName:"fluid.prefs.settingsSetter.setSettings",args:["{arguments}.0","{fluid.prefs.store}.set"]}}}),o.prefs.settingsSetter.setSettings=function(e,t){t(o.copy(e))},o.defaults("fluid.prefs.uiEnhancerRelay",{gradeNames:["fluid.modelComponent"],listeners:{"onCreate.addListener":"{that}.addListener","onDestroy.removeListener":"{that}.removeListener"},events:{updateEnhancerModel:"{fluid.prefs.prefsEditor}.events.onUpdateEnhancerModel"},invokers:{addListener:{funcName:"fluid.prefs.uiEnhancerRelay.addListener",args:["{that}.events.updateEnhancerModel","{that}.updateEnhancerModel"]},removeListener:{funcName:"fluid.prefs.uiEnhancerRelay.removeListener",args:["{that}.events.updateEnhancerModel","{that}.updateEnhancerModel"]},updateEnhancerModel:{funcName:"fluid.prefs.uiEnhancerRelay.updateEnhancerModel",args:["{uiEnhancer}","{fluid.prefs.prefsEditor}.model.preferences"]}}}),o.prefs.uiEnhancerRelay.addListener=function(e,t){e.addListener(t)},o.prefs.uiEnhancerRelay.removeListener=function(e,t){e.removeListener(t)},o.prefs.uiEnhancerRelay.updateEnhancerModel=function(e,t){e.updateModel(t)},o.defaults("fluid.prefs.prefsEditor",{gradeNames:["fluid.prefs.settingsGetter","fluid.prefs.settingsSetter","fluid.prefs.initialModel","fluid.viewComponent"],invokers:{fetch:{funcName:"fluid.prefs.prefsEditor.fetch",args:["{that}","{arguments}.0"]},applyChanges:{funcName:"fluid.prefs.prefsEditor.applyChanges",args:["{that}"]},save:{funcName:"fluid.prefs.prefsEditor.save",args:["{that}"]},saveAndApply:{funcName:"fluid.prefs.prefsEditor.saveAndApply",args:["{that}"]},reset:{funcName:"fluid.prefs.prefsEditor.reset",args:["{that}"]},cancel:{funcName:"fluid.prefs.prefsEditor.cancel",args:["{that}"]}},selectors:{cancel:".flc-prefsEditor-cancel",reset:".flc-prefsEditor-reset",save:".flc-prefsEditor-save",previewFrame:".flc-prefsEditor-preview-frame"},events:{onSave:null,onCancel:null,beforeReset:null,afterReset:null,onAutoSave:null,modelChanged:null,onPrefsEditorRefresh:null,onUpdateEnhancerModel:null,onPrefsEditorMarkupReady:null,onReady:null},listeners:{"onCreate.init":"fluid.prefs.prefsEditor.init","onAutoSave.save":"{that}.save"},modelListeners:{"":[{listener:"fluid.prefs.prefsEditor.handleAutoSave",args:["{that}"]},{listener:"{that}.events.modelChanged.fire",args:["{change}.value"]}]},resources:{template:"{templateLoader}.resources.prefsEditor"},autoSave:!1}),o.prefs.prefsEditor.applyChanges=function(e){e.events.onUpdateEnhancerModel.fire()},o.prefs.prefsEditor.fetch=function(e,t){var n=e.getSettings();n=r.extend(!0,{},e.initialModel,n),e.applier.change("",n),t&&e.events[t].fire(e),e.events.onPrefsEditorRefresh.fire(),e.applyChanges()},o.prefs.prefsEditor.save=function(e){if(e.model){var n=o.copy(e.model),t=e.initialModel,r={changes:0,unchanged:0,changeMap:{}},i={};return o.model.diff(n.preferences,o.get(t,["preferences"]),r),0===r.changes?delete n.preferences:(o.each(r.changeMap,function(e,t){o.set(i,t,n.preferences[t])}),n.preferences=i),e.events.onSave.fire(n),e.setSettings(n),n}},o.prefs.prefsEditor.saveAndApply=function(e){var t=e.getSettings(),n=e.save();o.model.diff(o.get(n,"preferences"),o.get(t,"preferences"))||(e.events.onPrefsEditorRefresh.fire(),e.applyChanges())},o.prefs.prefsEditor.reset=function(e){e.events.beforeReset.fire(e),e.applier.fireChangeRequest({path:"",type:"DELETE"}),e.applier.change("",o.copy(e.initialModel)),e.events.onPrefsEditorRefresh.fire(),e.events.afterReset.fire(e)},o.prefs.prefsEditor.cancel=function(e){e.events.onCancel.fire(),e.fetch()},o.prefs.prefsEditor.finishInit=function(e){e.container.append(e.options.resources.template.resourceText),function(e){var t=e.locate("save");if(0<t.length){t.click(e.saveAndApply);var n=o.findForm(t);r(n).submit(function(){e.saveAndApply()})}e.locate("reset").click(e.reset),e.locate("cancel").click(e.cancel)}(e),e.fetch("onPrefsEditorMarkupReady"),e.events.onReady.fire(e)},o.prefs.prefsEditor.handleAutoSave=function(e){e.options.autoSave&&e.events.onAutoSave.fire()},o.prefs.prefsEditor.init=function(e){setTimeout(function(){o.isDestroyed(e)||o.prefs.prefsEditor.finishInit(e)},1)},o.defaults("fluid.prefs.preview",{gradeNames:["fluid.viewComponent"],components:{enhancer:{type:"fluid.uiEnhancer",container:"{preview}.enhancerContainer",createOnEvent:"onReady"},templateLoader:"{templateLoader}"},invokers:{updateModel:{funcName:"fluid.prefs.preview.updateModel",args:["{preview}","{prefsEditor}.model.preferences"]}},events:{onReady:null},listeners:{"onCreate.startLoadingContainer":"fluid.prefs.preview.startLoadingContainer","{prefsEditor}.events.modelChanged":"{that}.updateModel","onReady.updateModel":"{that}.updateModel"},templateUrl:"%prefix/PrefsEditorPreview.html"}),o.prefs.preview.updateModel=function(e,t){setTimeout(function(){e.enhancer&&e.enhancer.updateModel(t)},0)},o.prefs.preview.startLoadingContainer=function(e){var t=e.templateLoader.transformURL(e.options.templateUrl);e.container.on("load",function(){e.enhancerContainer=r("body",e.container.contents()),e.events.onReady.fire()}),e.container.attr("src",t)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(d,c){"use strict";c.defaults("fluid.prefs.msgLookup",{gradeNames:["fluid.component"],members:{msgLookup:{expander:{funcName:"fluid.prefs.stringLookup",args:["{msgResolver}","{that}.options.stringArrayIndex"]}}},stringArrayIndex:{}}),c.prefs.stringLookup=function(n,r){var i={id:c.allocateGuid(),singleLookup:function(e){var t=n.lookup([e]);return c.get(t,"template")},multiLookup:function(e){return c.transform(e,function(e){return i.singleLookup(e)})},lookup:function(e){var t=c.get(r,e)||e,n=c.isArrayable(t)?"multiLookup":"singleLookup";return i[n](t)}};return i.resolvePathSegment=i.lookup,i},c.defaults("fluid.prefs.panel",{gradeNames:["fluid.prefs.msgLookup","fluid.rendererComponent"],events:{onDomBind:null},listeners:{"onCreate.onDomBind":"{that}.events.onDomBind"},components:{msgResolver:{type:"fluid.messageResolver"}},rendererOptions:{messageLocator:"{msgResolver}.resolve"},distributeOptions:{source:"{that}.options.messageBase",target:"{that > msgResolver}.options.messageBase"}}),c.defaults("fluid.prefs.subPanel",{gradeNames:["fluid.prefs.panel","{that}.getDomBindGrade"],listeners:{"{compositePanel}.events.afterRender":{listener:"{that}.events.afterRender",args:["{that}"]},"onCreate.onDomBind":null,"afterRender.onDomBind":"{that}.resetDomBinder"},rules:{expander:{func:"fluid.prefs.subPanel.generateRules",args:["{that}.options.preferenceMap"]}},invokers:{refreshView:"{compositePanel}.refreshView",resetDomBinder:{funcName:"fluid.prefs.subPanel.resetDomBinder",args:["{that}"]},getDomBindGrade:{funcName:"fluid.prefs.subPanel.getDomBindGrade",args:["{prefsEditor}"]}},strings:{},parentBundle:"{compositePanel}.messageResolver",renderOnInit:!1}),c.defaults("fluid.prefs.subPanel.domBind",{gradeNames:["fluid.component"],listeners:{"onDomBind.domChange":{listener:"{prefsEditor}.events.onSignificantDOMChange"}}}),c.prefs.subPanel.getDomBindGrade=function(e){if(void 0!==c.get(e,"options.events.onSignificantDOMChange"))return"fluid.prefs.subPanel.domBind"},c.prefs.subPanel.resetDomBinder=function(e){var t=e.container.constructor,n=e.container[0].ownerDocument,r=e.container.selector;e.container=t(r,n),e.container.selector=r,e.container.context=n,0===e.container.length&&c.fail("resetDomBinder got no elements in DOM for container searching for selector "+e.container.selector),c.initDomBinder(e,e.options.selectors),e.events.onDomBind.fire(e)},c.prefs.subPanel.safePrefKey=function(e){return e.replace(/[.]/g,"_")},c.prefs.subPanel.generateRules=function(e){var r={};return c.each(e,function(e,n){c.each(e,function(e,t){0===t.indexOf("model.")&&(r[c.prefs.subPanel.safePrefKey(n)]=t.slice("model.".length))})}),r},c.registerNamespace("fluid.prefs.compositePanel"),c.prefs.compositePanel.arrayMergePolicy=function(t,e){return t=c.makeArray(t),e=c.makeArray(e),c.each(e,function(e){t.indexOf(e)<0&&t.push(e)}),t},c.defaults("fluid.prefs.compositePanel",{gradeNames:["fluid.prefs.panel","{that}.getDistributeOptionsGrade","{that}.getSubPanelLifecycleBindings"],mergePolicy:{subPanelOverrides:"noexpand",selectorsToIgnore:c.prefs.compositePanel.arrayMergePolicy},selectors:{},selectorsToIgnore:[],repeatingSelectors:[],events:{initSubPanels:null},listeners:{"onCreate.combineResources":"{that}.combineResources","onCreate.appendTemplate":{this:"{that}.container",method:"append",args:["{that}.options.resources.template.resourceText"]},"onCreate.initSubPanels":"{that}.events.initSubPanels","onCreate.hideInactive":"{that}.hideInactive","onCreate.surfaceSubpanelRendererSelectors":"{that}.surfaceSubpanelRendererSelectors","afterRender.hideInactive":"{that}.hideInactive"},invokers:{getDistributeOptionsGrade:{funcName:"fluid.prefs.compositePanel.assembleDistributeOptions",args:["{that}.options.components"]},getSubPanelLifecycleBindings:{funcName:"fluid.prefs.compositePanel.subPanelLifecycleBindings",args:["{that}.options.components"]},combineResources:{funcName:"fluid.prefs.compositePanel.combineTemplates",args:["{that}.options.resources","{that}.options.selectors"]},surfaceSubpanelRendererSelectors:{funcName:"fluid.prefs.compositePanel.surfaceSubpanelRendererSelectors",args:["{that}","{that}.options.components","{that}.options.selectors"]},produceSubPanelTrees:{funcName:"fluid.prefs.compositePanel.produceSubPanelTrees",args:["{that}"]},expandProtoTree:{funcName:"fluid.prefs.compositePanel.expandProtoTree",args:["{that}"]},produceTree:{funcName:"fluid.prefs.compositePanel.produceTree",args:["{that}"]},hideInactive:{funcName:"fluid.prefs.compositePanel.hideInactive",args:["{that}"]},handleRenderOnPreference:{funcName:"fluid.prefs.compositePanel.handleRenderOnPreference",args:["{that}","{that}.refreshView","{that}.conditionalCreateEvent","{arguments}.0","{arguments}.1","{arguments}.2"]},conditionalCreateEvent:{funcName:"fluid.prefs.compositePanel.conditionalCreateEvent"}},subPanelOverrides:{gradeNames:["fluid.prefs.subPanel"]},rendererFnOptions:{noexpand:!0,cutpointGenerator:"fluid.prefs.compositePanel.cutpointGenerator",subPanelRepeatingSelectors:{expander:{funcName:"fluid.prefs.compositePanel.surfaceRepeatingSelectors",args:["{that}.options.components"]}}},components:{},resources:{}}),c.prefs.compositePanel.prefetchComponentOptions=function(e,t){var n=c.getMergedDefaults(e,c.get(t,"gradeNames"));return c.merge(n.mergePolicy,c.copy(n),t)},c.prefs.compositePanel.isPanel=function(e,t){var n=c.prefs.compositePanel.prefetchComponentOptions(e,t);return c.hasGrade(n,"fluid.prefs.panel")},c.prefs.compositePanel.isActivePanel=function(e){return e&&c.hasGrade(e.options,"fluid.prefs.panel")},c.prefs.compositePanel.assembleDistributeOptions=function(e){var t="fluid.prefs.compositePanel.distributeOptions_"+c.allocateGuid(),o=[],a={};return c.each(e,function(e,t){c.prefs.compositePanel.isPanel(e.type,e.options)&&o.push({source:"{that}.options.subPanelOverrides",target:"{that > "+t+"}.options"});var r={},n=c.prefs.compositePanel.prefetchComponentOptions(e.type,e.options),i=c.get(n,["preferenceMap"]);c.each(i,function(e,n){c.each(e,function(e,t){0===t.indexOf("model.")&&c.set(r,t.slice("model.".length),"{compositePanel}.model."+c.prefs.subPanel.safePrefKey(n))})}),a[t]=r,o.push({source:"{that}.options.relayOption."+t,target:"{that > "+t+"}.options.model"})}),c.defaults(t,{gradeNames:["fluid.component"],relayOption:a,distributeOptions:o}),t},c.prefs.compositePanel.conditionalCreateEvent=function(e,t){e&&t()},c.prefs.compositePanel.handleRenderOnPreference=function(n,e,t,r,i,o){o=c.makeArray(o),t(r,i),c.each(o,function(e){var t=n[e];!r&&t&&t.destroy()}),e()},c.prefs.compositePanel.creationEventName=function(e){return"initOn_"+e},c.prefs.compositePanel.generateModelListeners=function(e){return c.transform(e,function(e,t){return{func:"{that}.handleRenderOnPreference",args:["{change}.value","{that}.events."+c.prefs.compositePanel.creationEventName(t)+".fire",e]}})},c.prefs.compositePanel.subPanelLifecycleBindings=function(e){var t="fluid.prefs.compositePanel.subPanelCreationTimingDistibution_"+c.allocateGuid(),a=[],s={default:"initSubPanels"},l={},u={},d={};return c.each(e,function(e,t){if(c.prefs.compositePanel.isPanel(e.type,e.options)){var n="default",r=c.get(e,"options.renderOnPreference");if(r){var i=c.prefs.subPanel.safePrefKey(r),o="onCreate."+i;n=c.prefs.compositePanel.creationEventName(i),s[n]=n,d[n]=null,l[i]=l[i]||[],l[i].push(t),u[o]={listener:"{that}.conditionalCreateEvent",args:["{that}.model."+i,"{that}.events."+n+".fire"]}}a.push({source:"{that}.options.subPanelCreationOpts."+n,target:"{that}.options.components."+t+".createOnEvent"})}}),c.defaults(t,{gradeNames:["fluid.component"],events:d,listeners:u,modelListeners:c.prefs.compositePanel.generateModelListeners(l),subPanelCreationOpts:s,distributeOptions:a}),t},c.prefs.compositePanel.hideInactive=function(n){c.each(n.options.components,function(e,t){c.prefs.compositePanel.isPanel(e.type,e.options)&&!c.prefs.compositePanel.isActivePanel(n[t])&&n.locate(t).hide()})},c.prefs.compositePanel.combineTemplates=function(e,n){var r=[],i={children:[]};c.each(e,function(e,t){"template"!==t&&(i.children.push({ID:t,markup:e.resourceText}),r.push({id:t,selector:n[t]}))});var t={base:{resourceText:e.template.resourceText,href:".",resourceKey:".",cutpoints:r}},o=c.parseTemplates(t,["base"]),a=c.renderer(o,i,{cutpoints:r,debugMode:!0});e.template.resourceText=a.renderTemplates()},c.prefs.compositePanel.rebaseSelectorName=function(e,t){return e+"_"+t},c.prefs.compositePanel.surfaceSubpanelRendererSelectors=function(e,t,i){c.each(t,function(e,n){if(c.prefs.compositePanel.isPanel(e.type,e.options)){var r=c.prefs.compositePanel.prefetchComponentOptions(e.type,e.options);c.each(r.selectors,function(e,t){(!r.selectorsToIgnore||r.selectorsToIgnore.indexOf(t)<0)&&c.set(i,c.prefs.compositePanel.rebaseSelectorName(n,t),i[n]+" "+e)})}})},c.prefs.compositePanel.surfaceRepeatingSelectors=function(e){var i=[];return c.each(e,function(e,t){if(c.prefs.compositePanel.isPanel(e.type,e.options)){var n=c.prefs.compositePanel.prefetchComponentOptions(e.type,e.options),r=c.transform(n.repeatingSelectors,function(e){return c.prefs.compositePanel.rebaseSelectorName(t,e)});i=i.concat(r)}}),i},c.prefs.compositePanel.cutpointGenerator=function(e,t){var n={selectorsToIgnore:t.selectorsToIgnore,repeatingSelectors:t.repeatingSelectors.concat(t.subPanelRepeatingSelectors)};return c.renderer.selectorsToCutpoints(e,n)},c.prefs.compositePanel.rebaseID=function(e,t){return t+"_"+e},c.prefs.compositePanel.rebaseParentRelativeID=function(e,t){var n="..::".length;return e.slice(0,n)+c.prefs.compositePanel.rebaseID(e.slice(n),t)},c.prefs.compositePanel.rebaseValueBinding=function(n,e){return c.find(e,function(e,t){return n===e?t:0===n.indexOf(e)?n.replace(e,t):void 0})||n},c.prefs.compositePanel.rebaseTreeComp=function(e,t,n,r,i){var o=c.copy(n);if(o.ID&&(o.ID=c.prefs.compositePanel.rebaseID(o.ID,r)),o.children)o.children=c.prefs.compositePanel.rebaseTree(e,t,o.children,r,i);else if(o.selection)o.selection=c.prefs.compositePanel.rebaseTreeComp(e,t,o.selection,r,i);else if(o.messagekey)o.componentType="UIBound",o.value=e.resolve(o.messagekey.value,o.messagekey.args),delete o.messagekey;else if(o.parentRelativeID)o.parentRelativeID=c.prefs.compositePanel.rebaseParentRelativeID(o.parentRelativeID,r);else if(o.valuebinding&&(o.valuebinding=c.prefs.compositePanel.rebaseValueBinding(o.valuebinding,i),o.value)){var a=c.get(t,o.valuebinding);o.value=void 0!==a?a:o.value}return o},c.prefs.compositePanel.rebaseTree=function(t,n,e,r,i){return c.isArrayable(e)?c.transform(e,function(e){return c.prefs.compositePanel.rebaseTreeComp(t,n,e,r,i)}):c.prefs.compositePanel.rebaseTreeComp(t,n,e,r,i)},c.prefs.compositePanel.produceTree=function(e){var t=e.options.produceTree,n=t?("string"==typeof t?c.getGlobalValue(t):t)(e):e.expandProtoTree(),r=e.produceSubPanelTrees();return{children:n.children.concat(r.children)}},c.prefs.compositePanel.expandProtoTree=function(e){var t=c.renderer.modeliseOptions(e.options.expanderOptions,{ELstyle:"${}"},e);return c.renderer.makeProtoExpander(t,e)(e.options.protoTree||{})},c.prefs.compositePanel.produceSubPanelTrees=function(s){var l={children:[]};return c.each(s.options.components,function(e,t){var n=s[t];if(c.prefs.compositePanel.isActivePanel(n)){var r=c.renderer.modeliseOptions(n.options.expanderOptions,{ELstyle:"${}"},n),i=c.renderer.makeProtoExpander(r,n),o=n.produceTree();o=c.get(n.options,"rendererFnOptions.noexpand")?o:i(o);var a=c.prefs.compositePanel.rebaseTree(n.msgResolver,s.model,o,t,n.options.rules);l.children=l.children.concat(a.children)}}),l},c.defaults("fluid.prefs.prefsEditorConnections",{gradeNames:["fluid.component"],listeners:{"{fluid.prefs.prefsEditor}.events.onPrefsEditorRefresh":"{fluid.prefs.panel}.refreshView"},strings:{},parentBundle:"{fluid.prefs.prefsEditorLoader}.msgResolver"}),c.defaults("fluid.prefs.panel.textSize",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.textSize":{"model.textSize":"default","range.min":"minimum","range.max":"maximum"}},range:{min:1,max:2},selectors:{textSize:".flc-prefsEditor-min-text-size",label:".flc-prefsEditor-min-text-size-label",multiplier:".flc-prefsEditor-multiplier",textSizeDescr:".flc-prefsEditor-text-size-descr"},selectorsToIgnore:["textSize"],components:{textfieldSlider:{type:"fluid.textfieldSlider",container:"{that}.dom.textSize",createOnEvent:"afterRender",options:{model:{value:"{fluid.prefs.panel.textSize}.model.textSize"},range:"{fluid.prefs.panel.textSize}.options.range",sliderOptions:"{fluid.prefs.panel.textSize}.options.sliderOptions",ariaOptions:{"aria-labelledby":"{textSize}.options.panelOptions.labelId"}}}},protoTree:{label:{messagekey:"textSizeLabel",decorators:{attrs:{id:"{that}.options.panelOptions.labelId"}}},multiplier:{messagekey:"multiplier"},textSizeDescr:{messagekey:"textSizeDescr"}},sliderOptions:{orientation:"horizontal",step:.1,range:"min"},panelOptions:{labelId:"textSize-label-"+c.allocateGuid()}}),c.defaults("fluid.prefs.panel.textFont",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.textFont":{"model.value":"default","controlValues.textFont":"enum"}},selectors:{textFont:".flc-prefsEditor-text-font",label:".flc-prefsEditor-text-font-label",textFontDescr:".flc-prefsEditor-text-font-descr"},stringArrayIndex:{textFont:["textFont-default","textFont-times","textFont-comic","textFont-arial","textFont-verdana"]},protoTree:{label:{messagekey:"textFontLabel"},textFontDescr:{messagekey:"textFontDescr"},textFont:{optionnames:"${{that}.msgLookup.textFont}",optionlist:"${{that}.options.controlValues.textFont}",selection:"${value}",decorators:{type:"fluid",func:"fluid.prefs.selectDecorator",options:{styles:"{that}.options.classnameMap.textFont"}}}},classnameMap:null,controlValues:{textFont:["default","times","comic","arial","verdana"]}}),c.defaults("fluid.prefs.panel.lineSpace",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.lineSpace":{"model.lineSpace":"default","range.min":"minimum","range.max":"maximum"}},range:{min:1,max:2},selectors:{lineSpace:".flc-prefsEditor-line-space",label:".flc-prefsEditor-line-space-label",multiplier:".flc-prefsEditor-multiplier",lineSpaceDescr:".flc-prefsEditor-line-space-descr"},selectorsToIgnore:["lineSpace"],components:{textfieldSlider:{type:"fluid.textfieldSlider",container:"{that}.dom.lineSpace",createOnEvent:"afterRender",options:{model:{value:"{fluid.prefs.panel.lineSpace}.model.lineSpace"},range:"{fluid.prefs.panel.lineSpace}.options.range",sliderOptions:"{fluid.prefs.panel.lineSpace}.options.sliderOptions",ariaOptions:{"aria-labelledby":"{lineSpace}.options.panelOptions.labelId"}}}},protoTree:{label:{messagekey:"lineSpaceLabel",decorators:{attrs:{id:"{that}.options.panelOptions.labelId"}}},multiplier:{messagekey:"multiplier"},lineSpaceDescr:{messagekey:"lineSpaceDescr"}},sliderOptions:{orientation:"horizontal",step:.1,range:"min"},panelOptions:{labelId:"lineSpace-label-"+c.allocateGuid()}}),c.defaults("fluid.prefs.panel.contrast",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.contrast":{"model.value":"default","controlValues.theme":"enum"}},listeners:{"afterRender.style":"{that}.style"},selectors:{themeRow:".flc-prefsEditor-themeRow",themeLabel:".flc-prefsEditor-theme-label",themeInput:".flc-prefsEditor-themeInput",label:".flc-prefsEditor-contrast-label",contrastDescr:".flc-prefsEditor-contrast-descr"},styles:{defaultThemeLabel:"fl-prefsEditor-contrast-defaultThemeLabel"},stringArrayIndex:{theme:["contrast-default","contrast-bw","contrast-wb","contrast-by","contrast-yb","contrast-lgdg"]},repeatingSelectors:["themeRow"],protoTree:{label:{messagekey:"contrastLabel"},contrastDescr:{messagekey:"contrastDescr"},expander:{type:"fluid.renderer.selection.inputs",rowID:"themeRow",labelID:"themeLabel",inputID:"themeInput",selectID:"theme-radio",tree:{optionnames:"${{that}.msgLookup.theme}",optionlist:"${{that}.options.controlValues.theme}",selection:"${value}"}}},controlValues:{theme:["default","bw","wb","by","yb","lgdg"]},markup:{label:'<span class="fl-preview-A" aria-hidden="true"></span><span class="fl-hidden-accessible">%theme</span><div class="fl-crossout" aria-hidden="true"></div>'},invokers:{style:{funcName:"fluid.prefs.panel.contrast.style",args:["{that}.dom.themeLabel","{that}.msgLookup.theme","{that}.options.markup.label","{that}.options.controlValues.theme","default","{that}.options.classnameMap.theme","{that}.options.styles.defaultThemeLabel"]}}}),c.prefs.panel.contrast.style=function(e,i,o,a,s,l,u){c.each(e,function(e,t){e=d(e);var n=i[t];e.html(c.stringTemplate(o,{theme:n})),e.attr("aria-label",n);var r=a[t];r===s&&e.addClass(u),e.addClass(l[r])})},c.defaults("fluid.prefs.panel.layoutControls",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.tableOfContents":{"model.toc":"default"}},selectors:{toc:".flc-prefsEditor-toc",label:".flc-prefsEditor-toc-label",tocDescr:".flc-prefsEditor-toc-descr"},protoTree:{label:{messagekey:"tocLabel"},tocDescr:{messagekey:"tocDescr"},toc:"${toc}"}}),c.defaults("fluid.prefs.panel.emphasizeLinks",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.emphasizeLinks":{"model.links":"default"}},selectors:{links:".flc-prefsEditor-links",linksChoiceLabel:".flc-prefsEditor-links-choice-label"},protoTree:{linksChoiceLabel:{messagekey:"linksChoiceLabel"},links:"${links}"}}),c.defaults("fluid.prefs.panel.inputsLarger",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.inputsLarger":{"model.inputsLarger":"default"}},selectors:{inputsLarger:".flc-prefsEditor-inputs-larger",inputsChoiceLabel:".flc-prefsEditor-links-inputs-choice-label"},protoTree:{inputsChoiceLabel:{messagekey:"inputsChoiceLabel"},inputsLarger:"${inputsLarger}"}}),c.defaults("fluid.prefs.panel.linksControls",{gradeNames:["fluid.prefs.compositePanel"],selectors:{label:".flc-prefsEditor-linksControls-label"},protoTree:{label:{messagekey:"linksControlsLabel"}}}),c.defaults("fluid.prefs.selectDecorator",{gradeNames:["fluid.viewComponent"],listeners:{"onCreate.decorateOptions":"fluid.prefs.selectDecorator.decorateOptions"},styles:{preview:"fl-preview-theme"}}),c.prefs.selectDecorator.decorateOptions=function(n){c.each(d("option",n.container),function(e){var t=n.options.styles;d(e).addClass(t.preview+" "+t[c.value(e)])})}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";fluid_2_0_0.defaults("fluid.prefs.panel.speak",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.speak":{"model.speak":"default"}},selectors:{speak:".flc-prefsEditor-speak",label:".flc-prefsEditor-speak-label",speakDescr:".flc-prefsEditor-speak-descr"},protoTree:{label:{messagekey:"speakLabel"},speakDescr:{messagekey:"speakDescr"},speak:"${speak}"}})}(jQuery);fluid_2_0_0=fluid_2_0_0||{};!function(n,r){"use strict";r.defaults("fluid.prefs.enactor",{gradeNames:["fluid.modelComponent"]}),r.defaults("fluid.prefs.enactor.styleElements",{gradeNames:["fluid.prefs.enactor"],cssClass:null,elementsToStyle:null,invokers:{applyStyle:{funcName:"fluid.prefs.enactor.styleElements.applyStyle",args:["{arguments}.0","{arguments}.1"]},resetStyle:{funcName:"fluid.prefs.enactor.styleElements.resetStyle",args:["{arguments}.0","{arguments}.1"]},handleStyle:{funcName:"fluid.prefs.enactor.styleElements.handleStyle",args:["{arguments}.0","{that}.options.elementsToStyle","{that}.options.cssClass","{that}.applyStyle","{that}.resetStyle"]}},modelListeners:{value:{listener:"{that}.handleStyle",args:["{change}.value"]}}}),r.prefs.enactor.styleElements.applyStyle=function(e,t){e.addClass(t)},r.prefs.enactor.styleElements.resetStyle=function(e,t){n(e,"."+t).addBack().removeClass(t)},r.prefs.enactor.styleElements.handleStyle=function(e,t,n,r,i){(e?r:i)(t,n)},r.defaults("fluid.prefs.enactor.classSwapper",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],classes:{},invokers:{clearClasses:{funcName:"fluid.prefs.enactor.classSwapper.clearClasses",args:["{that}.container","{that}.classStr"]},swap:{funcName:"fluid.prefs.enactor.classSwapper.swap",args:["{arguments}.0","{that}","{that}.clearClasses"]}},modelListeners:{value:{listener:"{that}.swap",args:["{change}.value"]}},members:{classStr:{expander:{func:"fluid.prefs.enactor.classSwapper.joinClassStr",args:"{that}.options.classes"}}}}),r.prefs.enactor.classSwapper.clearClasses=function(e,t){e.removeClass(t)},r.prefs.enactor.classSwapper.swap=function(e,t,n){n(),t.container.addClass(t.options.classes[e])},r.prefs.enactor.classSwapper.joinClassStr=function(e){var t="";return r.each(e,function(e){e&&(t+=t?" "+e:e)}),t},r.defaults("fluid.prefs.enactor.emphasizeLinks",{gradeNames:["fluid.prefs.enactor.styleElements","fluid.viewComponent"],preferenceMap:{"fluid.prefs.emphasizeLinks":{"model.value":"default"}},cssClass:null,elementsToStyle:"{that}.container"}),r.defaults("fluid.prefs.enactor.inputsLarger",{gradeNames:["fluid.prefs.enactor.styleElements","fluid.viewComponent"],preferenceMap:{"fluid.prefs.inputsLarger":{"model.value":"default"}},cssClass:null,elementsToStyle:"{that}.container"}),r.defaults("fluid.prefs.enactor.textFont",{gradeNames:["fluid.prefs.enactor.classSwapper"],preferenceMap:{"fluid.prefs.textFont":{"model.value":"default"}}}),r.defaults("fluid.prefs.enactor.contrast",{gradeNames:["fluid.prefs.enactor.classSwapper"],preferenceMap:{"fluid.prefs.contrast":{"model.value":"default"}}}),r.prefs.enactor.getTextSizeInPx=function(e,t){var n=e.css("font-size");return t[n]&&(n=t[n]),parseFloat(n)},r.defaults("fluid.prefs.enactor.textSize",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],preferenceMap:{"fluid.prefs.textSize":{"model.value":"default"}},members:{root:{expander:{this:"{that}.container",method:"closest",args:["html"]}}},fontSizeMap:{},invokers:{set:{funcName:"fluid.prefs.enactor.textSize.set",args:["{arguments}.0","{that}","{that}.getTextSizeInPx"]},getTextSizeInPx:{funcName:"fluid.prefs.enactor.getTextSizeInPx",args:["{that}.root","{that}.options.fontSizeMap"]}},modelListeners:{value:{listener:"{that}.set",args:["{change}.value"]}}}),r.prefs.enactor.textSize.set=function(e,t,n){if(e=e||1,t.initialSize||(t.initialSize=n()),t.initialSize){var r=e*t.initialSize;t.root.css("font-size",r+"px")}},r.defaults("fluid.prefs.enactor.lineSpace",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],preferenceMap:{"fluid.prefs.lineSpace":{"model.value":"default"}},fontSizeMap:{},invokers:{set:{funcName:"fluid.prefs.enactor.lineSpace.set",args:["{arguments}.0","{that}","{that}.getLineHeightMultiplier"]},getTextSizeInPx:{funcName:"fluid.prefs.enactor.getTextSizeInPx",args:["{that}.container","{that}.options.fontSizeMap"]},getLineHeight:{funcName:"fluid.prefs.enactor.lineSpace.getLineHeight",args:"{that}.container"},getLineHeightMultiplier:{funcName:"fluid.prefs.enactor.lineSpace.getLineHeightMultiplier",args:[{expander:{func:"{that}.getLineHeight"}},{expander:{func:"{that}.getTextSizeInPx"}}]}},modelListeners:{value:{listener:"{that}.set",args:["{change}.value"]}}}),r.prefs.enactor.lineSpace.getLineHeight=function(e){return e.css("line-height")},r.prefs.enactor.lineSpace.getLineHeightMultiplier=function(e,t){return e?"normal"===e?1.2:e.match(/[0-9]$/)?Number(e):Math.round(parseFloat(e)/t*100)/100:0},r.prefs.enactor.lineSpace.set=function(e,t,n){if(t.initialSize||(t.initialSize=n()),t.initialSize){var r=e*t.initialSize;t.container.css("line-height",r)}},r.defaults("fluid.prefs.enactor.tableOfContents",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],preferenceMap:{"fluid.prefs.tableOfContents":{"model.toc":"default"}},tocTemplate:null,components:{tableOfContents:{type:"fluid.tableOfContents",container:"{fluid.prefs.enactor.tableOfContents}.container",createOnEvent:"onCreateTOCReady",options:{components:{levels:{type:"fluid.tableOfContents.levels",options:{resources:{template:{forceCache:!0,url:"{fluid.prefs.enactor.tableOfContents}.options.tocTemplate"}}}}},listeners:{"afterRender.boilAfterTocRender":"{fluid.prefs.enactor.tableOfContents}.events.afterTocRender"}}}},invokers:{applyToc:{funcName:"fluid.prefs.enactor.tableOfContents.applyToc",args:["{arguments}.0","{that}"]}},events:{onCreateTOCReady:null,afterTocRender:null,onLateRefreshRelay:null},modelListeners:{toc:{listener:"{that}.applyToc",args:["{change}.value"]}},distributeOptions:{source:"{that}.options.ignoreForToC",target:"{that tableOfContents}.options.ignoreForToC"}}),r.prefs.enactor.tableOfContents.applyToc=function(e,t){e?t.tableOfContents?t.tableOfContents.show():t.events.onCreateTOCReady.fire():t.tableOfContents&&t.tableOfContents.hide()}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,a){"use strict";a.defaults("fluid.prefs.enactor.speak",{gradeNames:"fluid.prefs.enactor",preferenceMap:{"fluid.prefs.speak":{"model.enabled":"default"}},components:{tts:{type:"fluid.textToSpeech",options:{model:"{speak}.model",invokers:{queueSpeech:{funcName:"fluid.prefs.enactor.speak.queueSpeech",args:["{that}","fluid.textToSpeech.queueSpeech","{arguments}.0","{arguments}.1","{arguments}.2"]}}}}}}),a.prefs.enactor.speak.queueSpeech=function(e,t,n,r,i){var o=n.toString();(o=o.trim()).replace(/\s{2,}/gi," "),e.model.enabled&&o&&("string"==typeof t?a.invokeGlobalFunction(t,[e,o,r,i]):t(e,o,r,i))},a.defaults("fluid.prefs.enactor.selfVoicing",{gradeNames:["fluid.prefs.enactor.speak","fluid.viewComponent"],modelListeners:{enabled:{listener:"{that}.handleSelfVoicing",args:["{change}.value"]}},invokers:{handleSelfVoicing:{funcName:"fluid.prefs.enactor.selfVoicing.handleSelfVoicing",args:["{that}.options.strings.welcomeMsg","{tts}.queueSpeech","{that}.readFromDOM","{tts}.cancel","{arguments}.0"]},readFromDOM:{funcName:"fluid.prefs.enactor.selfVoicing.readFromDOM",args:["{that}","{that}.container"]}},strings:{welcomeMsg:"text to speech enabled"}}),a.prefs.enactor.selfVoicing.handleSelfVoicing=function(e,t,n,r,i){i?(t(e,!0),n()):r()},a.prefs.enactor.selfVoicing.nodeType={ELEMENT_NODE:1,TEXT_NODE:3},a.prefs.enactor.selfVoicing.readFromDOM=function(n,e){var t=(e=r(e)).contents();a.each(t,function(e){if(e.nodeType===a.prefs.enactor.selfVoicing.nodeType.TEXT_NODE&&e.nodeValue&&n.tts.queueSpeech(e.nodeValue),e.nodeType===a.prefs.enactor.selfVoicing.nodeType.ELEMENT_NODE&&"none"!==window.getComputedStyle(e).display)if("IMG"===e.nodeName){var t=e.getAttribute("alt");t&&n.tts.queueSpeech(t)}else a.prefs.enactor.selfVoicing.readFromDOM(n,e)})}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.defaults("fluid.prefs.initialModel.starter",{gradeNames:["fluid.prefs.initialModel"],members:{initialModel:{preferences:{textFont:"default",theme:"default",textSize:1,lineSpace:1,toc:!1,links:!1,inputsLarger:!1}}}}),t.defaults("fluid.uiEnhancer.cssClassEnhancerBase",{gradeNames:["fluid.component"],classnameMap:{textFont:{default:"",times:"fl-font-times",comic:"fl-font-comic-sans",arial:"fl-font-arial",verdana:"fl-font-verdana"},theme:{default:"fl-theme-prefsEditor-default",bw:"fl-theme-bw",wb:"fl-theme-wb",by:"fl-theme-by",yb:"fl-theme-yb",lgdg:"fl-theme-lgdg"},links:"fl-link-enhanced",inputsLarger:"fl-text-larger"}}),t.defaults("fluid.uiEnhancer.browserTextEnhancerBase",{gradeNames:["fluid.component"],fontSizeMap:{"xx-small":"9px","x-small":"11px",small:"13px",medium:"15px",large:"18px","x-large":"23px","xx-large":"30px"}}),t.defaults("fluid.uiEnhancer.starterEnactors",{gradeNames:["fluid.uiEnhancer","fluid.uiEnhancer.cssClassEnhancerBase","fluid.uiEnhancer.browserTextEnhancerBase"],model:"{fluid.prefs.initialModel}.initialModel.preferences",components:{textSize:{type:"fluid.prefs.enactor.textSize",container:"{uiEnhancer}.container",options:{fontSizeMap:"{uiEnhancer}.options.fontSizeMap",model:{value:"{uiEnhancer}.model.textSize"}}},textFont:{type:"fluid.prefs.enactor.textFont",container:"{uiEnhancer}.container",options:{classes:"{uiEnhancer}.options.classnameMap.textFont",model:{value:"{uiEnhancer}.model.textFont"}}},lineSpace:{type:"fluid.prefs.enactor.lineSpace",container:"{uiEnhancer}.container",options:{fontSizeMap:"{uiEnhancer}.options.fontSizeMap",model:{value:"{uiEnhancer}.model.lineSpace"}}},contrast:{type:"fluid.prefs.enactor.contrast",container:"{uiEnhancer}.container",options:{classes:"{uiEnhancer}.options.classnameMap.theme",model:{value:"{uiEnhancer}.model.theme"}}},emphasizeLinks:{type:"fluid.prefs.enactor.emphasizeLinks",container:"{uiEnhancer}.container",options:{cssClass:"{uiEnhancer}.options.classnameMap.links",model:{value:"{uiEnhancer}.model.links"}}},inputsLarger:{type:"fluid.prefs.enactor.inputsLarger",container:"{uiEnhancer}.container",options:{cssClass:"{uiEnhancer}.options.classnameMap.inputsLarger",model:{value:"{uiEnhancer}.model.inputsLarger"}}},tableOfContents:{type:"fluid.prefs.enactor.tableOfContents",container:"{uiEnhancer}.container",options:{tocTemplate:"{uiEnhancer}.options.tocTemplate",model:{toc:"{uiEnhancer}.model.toc"}}}}}),t.defaults("fluid.prefs.starterPanels",{gradeNames:["fluid.prefs.prefsEditor"],selectors:{textSize:".flc-prefsEditor-text-size",textFont:".flc-prefsEditor-text-font",lineSpace:".flc-prefsEditor-line-space",contrast:".flc-prefsEditor-contrast",textControls:".flc-prefsEditor-text-controls",layoutControls:".flc-prefsEditor-layout-controls",linksControls:".flc-prefsEditor-links-controls"},components:{textSize:{type:"fluid.prefs.panel.textSize",container:"{prefsEditor}.dom.textSize",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",model:{textSize:"{prefsEditor}.model.preferences.textSize"},messageBase:"{messageLoader}.resources.textSize.resourceText",resources:{template:"{templateLoader}.resources.textSize"}}},lineSpace:{type:"fluid.prefs.panel.lineSpace",container:"{prefsEditor}.dom.lineSpace",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",model:{lineSpace:"{prefsEditor}.model.preferences.lineSpace"},messageBase:"{messageLoader}.resources.lineSpace.resourceText",resources:{template:"{templateLoader}.resources.lineSpace"}}},textFont:{type:"fluid.prefs.panel.textFont",container:"{prefsEditor}.dom.textFont",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",classnameMap:"{uiEnhancer}.options.classnameMap",model:{value:"{prefsEditor}.model.preferences.textFont"},messageBase:"{messageLoader}.resources.textFont.resourceText",resources:{template:"{templateLoader}.resources.textFont"}}},contrast:{type:"fluid.prefs.panel.contrast",container:"{prefsEditor}.dom.contrast",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",classnameMap:"{uiEnhancer}.options.classnameMap",model:{value:"{prefsEditor}.model.preferences.theme"},messageBase:"{messageLoader}.resources.contrast.resourceText",resources:{template:"{templateLoader}.resources.contrast"}}},layoutControls:{type:"fluid.prefs.panel.layoutControls",container:"{prefsEditor}.dom.layoutControls",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",model:{toc:"{prefsEditor}.model.preferences.toc"},messageBase:"{messageLoader}.resources.layoutControls.resourceText",resources:{template:"{templateLoader}.resources.layoutControls"}}},linksControls:{type:"fluid.prefs.panel.linksControls",container:"{prefsEditor}.dom.linksControls",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",selectors:{emphasizeLinks:".flc-prefsEditor-emphasizeLinks",inputsLarger:".flc-prefsEditor-inputsLarger"},selectorsToIgnore:["emphasizeLinks","inputsLarger"],model:{fluid_prefs_emphasizeLinks:"{prefsEditor}.model.preferences.links",fluid_prefs_inputsLarger:"{prefsEditor}.model.preferences.inputsLarger"},components:{emphasizeLinks:{type:"fluid.prefs.panel.emphasizeLinks",container:"{that}.dom.emphasizeLinks",createOnEvent:"initSubPanels",options:{messageBase:"{messageLoader}.resources.emphasizeLinks.resourceText"}},inputsLarger:{type:"fluid.prefs.panel.inputsLarger",container:"{that}.dom.inputsLarger",createOnEvent:"initSubPanels",options:{messageBase:"{messageLoader}.resources.inputsLarger.resourceText"}}},messageBase:"{messageLoader}.resources.linksControls.resourceText",resources:{template:"{templateLoader}.resources.linksControls",emphasizeLinks:"{templateLoader}.resources.emphasizeLinks",inputsLarger:"{templateLoader}.resources.inputsLarger"}}}}}),t.defaults("fluid.prefs.starterTemplateLoader",{gradeNames:["fluid.resourceLoader","fluid.contextAware"],resources:{textFont:"%templatePrefix/PrefsEditorTemplate-textFont.html",contrast:"%templatePrefix/PrefsEditorTemplate-contrast.html",layoutControls:"%templatePrefix/PrefsEditorTemplate-layout.html",linksControls:"%templatePrefix/PrefsEditorTemplate-linksControls.html",emphasizeLinks:"%templatePrefix/PrefsEditorTemplate-emphasizeLinks.html",inputsLarger:"%templatePrefix/PrefsEditorTemplate-inputsLarger.html"},contextAwareness:{startTemplateLoaderPrefsWidgetType:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.starterTemplateLoader.jQuery"}},defaultGradeNames:"fluid.prefs.starterTemplateLoader.native"}}}),t.defaults("fluid.prefs.starterTemplateLoader.native",{resources:{textSize:"%templatePrefix/PrefsEditorTemplate-textSize-nativeHTML.html",lineSpace:"%templatePrefix/PrefsEditorTemplate-lineSpace-nativeHTML.html"}}),t.defaults("fluid.prefs.starterTemplateLoader.jQuery",{resources:{textSize:"%templatePrefix/PrefsEditorTemplate-textSize-jQueryUI.html",lineSpace:"%templatePrefix/PrefsEditorTemplate-lineSpace-jQueryUI.html"}}),t.defaults("fluid.prefs.starterSeparatedPanelTemplateLoader",{gradeNames:["fluid.prefs.starterTemplateLoader"],resources:{prefsEditor:"%templatePrefix/SeparatedPanelPrefsEditor.html"}}),t.defaults("fluid.prefs.starterFullPreviewTemplateLoader",{gradeNames:["fluid.prefs.starterTemplateLoader"],resources:{prefsEditor:"%templatePrefix/FullPreviewPrefsEditor.html"}}),t.defaults("fluid.prefs.starterFullNoPreviewTemplateLoader",{gradeNames:["fluid.prefs.starterTemplateLoader"],resources:{prefsEditor:"%templatePrefix/FullNoPreviewPrefsEditor.html"}}),t.defaults("fluid.prefs.starterMessageLoader",{gradeNames:["fluid.resourceLoader"],resources:{prefsEditor:"%messagePrefix/prefsEditor.json",textSize:"%messagePrefix/textSize.json",textFont:"%messagePrefix/textFont.json",lineSpace:"%messagePrefix/lineSpace.json",contrast:"%messagePrefix/contrast.json",layoutControls:"%messagePrefix/tableOfContents.json",linksControls:"%messagePrefix/linksControls.json",emphasizeLinks:"%messagePrefix/emphasizeLinks.json",inputsLarger:"%messagePrefix/inputsLarger.json"}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,a){"use strict";a.registerNamespace("fluid.dom"),a.dom.getDocumentHeight=function(e){return r("body",e)[0].offsetHeight},a.defaults("fluid.prefs.separatedPanel",{gradeNames:["fluid.prefs.prefsEditorLoader","fluid.contextAware"],events:{afterRender:null,onReady:null,onCreateSlidingPanelReady:{events:{iframeRendered:"afterRender",onPrefsEditorMessagesLoaded:"onPrefsEditorMessagesLoaded"}},templatesAndIframeReady:{events:{iframeReady:"afterRender",templatesLoaded:"onPrefsEditorTemplatesLoaded",messagesLoaded:"onPrefsEditorMessagesLoaded"}}},lazyLoad:!1,contextAwareness:{lazyLoad:{checks:{lazyLoad:{contextValue:"{fluid.prefs.separatedPanel}.options.lazyLoad",gradeNames:"fluid.prefs.separatedPanel.lazyLoad"}}},separatedPanelPrefsWidgetType:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.separatedPanel.jQueryUI"}},defaultGradeNames:"fluid.prefs.separatedPanel.nativeHTML"}},selectors:{reset:".flc-prefsEditor-reset",iframe:".flc-prefsEditor-iframe"},listeners:{"onReady.bindEvents":{listener:"fluid.prefs.separatedPanel.bindEvents",args:["{separatedPanel}.prefsEditor","{iframeRenderer}.iframeEnhancer","{separatedPanel}"]},"onCreate.hideReset":{listener:"fluid.prefs.separatedPanel.hideReset",args:["{separatedPanel}"]}},invokers:{bindReset:{funcName:"fluid.bind",args:["{separatedPanel}.dom.reset","click","{arguments}.0"]}},components:{slidingPanel:{type:"fluid.slidingPanel",container:"{separatedPanel}.container",createOnEvent:"onCreateSlidingPanelReady",options:{gradeNames:["fluid.prefs.msgLookup"],strings:{showText:"{that}.msgLookup.slidingPanelShowText",hideText:"{that}.msgLookup.slidingPanelHideText",showTextAriaLabel:"{that}.msgLookup.showTextAriaLabel",hideTextAriaLabel:"{that}.msgLookup.hideTextAriaLabel",panelLabel:"{that}.msgLookup.slidingPanelPanelLabel"},invokers:{operateShow:{funcName:"fluid.prefs.separatedPanel.showPanel",args:["{that}.dom.panel","{that}.events.afterPanelShow.fire"],this:null,method:null},operateHide:{funcName:"fluid.prefs.separatedPanel.hidePanel",args:["{that}.dom.panel","{iframeRenderer}.iframe","{that}.events.afterPanelHide.fire"],this:null,method:null}},components:{msgResolver:{type:"fluid.messageResolver",options:{messageBase:"{messageLoader}.resources.prefsEditor.resourceText"}}}}},iframeRenderer:{type:"fluid.prefs.separatedPanel.renderIframe",container:"{separatedPanel}.dom.iframe",options:{events:{afterRender:"{separatedPanel}.events.afterRender"},components:{iframeEnhancer:{type:"fluid.uiEnhancer",container:"{iframeRenderer}.renderPrefsEditorContainer",createOnEvent:"afterRender",options:{gradeNames:["{pageEnhancer}.uiEnhancer.options.userGrades"],jQuery:"{iframeRenderer}.jQuery",tocTemplate:"{pageEnhancer}.uiEnhancer.options.tocTemplate"}}}}},prefsEditor:{createOnEvent:"templatesAndIframeReady",container:"{iframeRenderer}.renderPrefsEditorContainer",options:{gradeNames:["fluid.prefs.uiEnhancerRelay"],model:"{separatedPanel}.model",events:{onSignificantDOMChange:null,updateEnhancerModel:"{that}.events.modelChanged"},listeners:{"modelChanged.save":"{that}.save","onCreate.bindReset":{listener:"{separatedPanel}.bindReset",args:["{that}.reset"]},"afterReset.applyChanges":"{that}.applyChanges","onReady.boilOnReady":{listener:"{separatedPanel}.events.onReady",args:"{separatedPanel}"}}}}},outerEnhancerOptions:"{originalEnhancerOptions}.options.originalUserOptions",distributeOptions:[{source:"{that}.options.slidingPanel",removeSource:!0,target:"{that > slidingPanel}.options"},{source:"{that}.options.iframeRenderer",removeSource:!0,target:"{that > iframeRenderer}.options"},{source:"{that}.options.iframe",removeSource:!0,target:"{that}.options.selectors.iframe"},{source:"{that}.options.outerEnhancerOptions",removeSource:!0,target:"{that iframeEnhancer}.options"},{source:"{that}.options.terms",target:"{that > iframeRenderer}.options.terms"}]}),a.defaults("fluid.prefs.separatedPanel.nativeHTML",{components:{iframeRenderer:{options:{markupProps:{src:"%templatePrefix/SeparatedPanelPrefsEditorFrame-nativeHTML.html"}}}}}),a.defaults("fluid.prefs.separatedPanel.jQueryUI",{components:{iframeRenderer:{options:{markupProps:{src:"%templatePrefix/SeparatedPanelPrefsEditorFrame-jQueryUI.html"}}}}}),a.prefs.separatedPanel.hideReset=function(e){e.locate("reset").hide()},a.defaults("fluid.prefs.separatedPanel.renderIframe",{gradeNames:["fluid.viewComponent"],events:{afterRender:null},styles:{container:"fl-prefsEditor-separatedPanel-iframe"},terms:{templatePrefix:"."},markupProps:{class:"flc-iframe",src:"%templatePrefix/prefsEditorIframe.html"},listeners:{"onCreate.startLoadingIframe":"fluid.prefs.separatedPanel.renderIframe.startLoadingIframe"}}),a.prefs.separatedPanel.renderIframe.startLoadingIframe=function(t){var e=t.options.styles;t.options.markupProps.src=a.stringTemplate(t.options.markupProps.src,t.options.terms),t.iframeSrc=t.options.markupProps.src,t.iframe=r("<iframe/>"),t.iframe.on("load",function(){var e=t.iframe[0].contentWindow;t.iframeDocument=e.document,t.jQuery=e.jQuery||r,t.renderPrefsEditorContainer=t.jQuery("body",t.iframeDocument),t.jQuery(t.iframeDocument).ready(t.events.afterRender.fire)}),t.iframe.attr(t.options.markupProps),t.iframe.addClass(e.container),t.iframe.hide(),t.iframe.appendTo(t.container)},a.prefs.separatedPanel.updateView=function(e){e.events.onPrefsEditorRefresh.fire(),e.events.onSignificantDOMChange.fire()},a.prefs.separatedPanel.bindEvents=function(i,e,o){var t=o.slidingPanel.panelId;o.locate("reset").attr({"aria-controls":t,role:"button"}),o.slidingPanel.events.afterPanelShow.addListener(function(){a.prefs.separatedPanel.updateView(i)},"updateView","after:openPanel"),i.events.onPrefsEditorRefresh.addListener(function(){e.updateModel(i.model.preferences)},"updateModel"),i.events.afterReset.addListener(function(e){a.prefs.separatedPanel.updateView(e)},"updateView"),i.events.onSignificantDOMChange.addListener(function(){var e=i.container[0].ownerDocument,t=a.dom.getDocumentHeight(e),n=o.iframeRenderer.iframe,r={height:t+15};o.slidingPanel.locate("panel").css({height:""}),n.animate(r,400)},"adjustHeight"),o.slidingPanel.events.afterPanelHide.addListener(function(){o.iframeRenderer.iframe.height(0),o.iframeRenderer.iframe.hide()},"collapseFrame"),o.slidingPanel.events.afterPanelShow.addListener(function(){o.iframeRenderer.iframe.show(),o.locate("reset").show()},"openPanel"),o.slidingPanel.events.onPanelHide.addListener(function(){o.locate("reset").hide()},"hideReset")},a.prefs.separatedPanel.hidePanel=function(e,t,n){t.clearQueue(),r(e).animate({height:0},{duration:400,complete:n})},a.prefs.separatedPanel.showPanel=function(e,t){a.invokeLater(t)},a.defaults("fluid.prefs.separatedPanel.lazyLoad",{events:{onLazyLoad:null,onPrefsEditorMessagesPreloaded:null,onCreateSlidingPanelReady:{events:{onPrefsEditorMessagesLoaded:"onPrefsEditorMessagesPreloaded"}},templatesAndIframeReady:{events:{onLazyLoad:"onLazyLoad"}}},components:{templateLoader:{createOnEvent:"onLazyLoad"},messageLoader:{options:{events:{onResourcesPreloaded:"{separatedPanel}.events.onPrefsEditorMessagesPreloaded"},preloadResources:"prefsEditor",listeners:{"onCreate.loadResources":{listener:"fluid.prefs.separatedPanel.lazyLoad.preloadResources",args:["{that}",{expander:{func:"{that}.resolveResources"}},"{that}.options.preloadResources"]},"{separatedPanel}.events.onLazyLoad":{listener:"fluid.resourceLoader.loadResources",args:["{messageLoader}",{expander:{func:"{messageLoader}.resolveResources"}}]}}}},slidingPanel:{options:{invokers:{operateShow:{funcName:"fluid.prefs.separatedPanel.lazyLoad.showPanel",args:["{separatedPanel}","{that}.events.afterPanelShow.fire"]}}}}}}),a.prefs.separatedPanel.lazyLoad.showPanel=function(e,t){e.prefsEditor?a.invokeLater(t):(e.events.onReady.addListener(function(e){e.events.onReady.removeListener("showPanelCallBack"),a.invokeLater(t)},"showPanelCallBack"),e.events.onLazyLoad.fire())},a.prefs.separatedPanel.lazyLoad.preloadResources=function(e,t,n){n=a.makeArray(n);var r={};a.each(n,function(e){r[e]=t[e]}),a.fetchResources(r,function(){e.resources=r,e.events.onResourcesPreloaded.fire(r)})}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";fluid_2_0_0.defaults("fluid.prefs.fullNoPreview",{gradeNames:["fluid.prefs.prefsEditorLoader"],components:{prefsEditor:{container:"{that}.container",options:{listeners:{"afterReset.applyChanges":{listener:"{that}.applyChanges"},"afterReset.save":{listener:"{that}.save",priority:"after:applyChanges"},"onReady.boilOnReady":{listener:"{fullNoPreview}.events.onReady",args:"{fullNoPreview}"}}}}},events:{onReady:null}})}(jQuery);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";fluid_2_0_0.defaults("fluid.prefs.fullPreview",{gradeNames:["fluid.prefs.prefsEditorLoader"],outerUiEnhancerOptions:"{originalEnhancerOptions}.options.originalUserOptions",outerUiEnhancerGrades:"{originalEnhancerOptions}.uiEnhancer.options.userGrades",components:{prefsEditor:{container:"{that}.container",options:{components:{preview:{type:"fluid.prefs.preview",createOnEvent:"onReady",container:"{prefsEditor}.dom.previewFrame",options:{listeners:{"onReady.boilOnPreviewReady":"{fullPreview}.events.onPreviewReady"}}}},listeners:{"onReady.boilOnPrefsEditorReady":"{fullPreview}.events.onPrefsEditorReady"},distributeOptions:{source:"{that}.options.preview",removeSource:!0,target:"{that > preview}.options"}}}},events:{onPrefsEditorReady:null,onPreviewReady:null,onReady:{events:{onPrefsEditorReady:"onPrefsEditorReady",onPreviewReady:"onPreviewReady"},args:"{that}"}},distributeOptions:[{source:"{that}.options.outerUiEnhancerOptions",target:"{that enhancer}.options"},{source:"{that}.options.preview",target:"{that preview}.options"},{source:"{that}.options.previewEnhancer",target:"{that enhancer}.options"},{source:"{that}.options.outerUiEnhancerGrades",target:"{that enhancer}.options.gradeNames"}]})}(jQuery);fluid_2_0_0=fluid_2_0_0||{};!function(n,o){"use strict";o.registerNamespace("fluid.prefs.schemas"),o.prefs.schemas.merge=function(e,t){return e||(e={type:"object",properties:{}}),t=t.properties||t,n.extend(!0,e.properties,t),e},o.defaults("fluid.prefs.primaryBuilder",{gradeNames:["fluid.component","{that}.buildPrimary"],schemaIndex:{expander:{func:"fluid.indexDefaults",args:["schemaIndex",{gradeNames:"fluid.prefs.schemas",indexFunc:"fluid.prefs.primaryBuilder.defaultSchemaIndexer"}]}},primarySchema:{},typeFilter:[],invokers:{buildPrimary:{funcName:"fluid.prefs.primaryBuilder.buildPrimary",args:["{that}.options.schemaIndex","{that}.options.typeFilter","{that}.options.primarySchema"]}}}),o.prefs.primaryBuilder.buildPrimary=function(n,e,t){var r="fluid.prefs.schemas.suppliedPrimary"+o.allocateGuid();o.defaults(r,{gradeNames:["fluid.prefs.schemas"],schema:o.filterKeys(t.properties||t,e,!1)});var i=[];return o.each(e,function(e){var t=n[e];t&&i.push.apply(i,t)}),i.push(r),i},o.prefs.primaryBuilder.defaultSchemaIndexer=function(e){if(e.schema)return o.keys(e.schema.properties)},o.defaults("fluid.prefs.schemas",{gradeNames:["fluid.component"],mergePolicy:{schema:o.prefs.schemas.merge}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(E,_){"use strict";_.registerNamespace("fluid.prefs"),_.defaults("fluid.prefs.auxSchema",{gradeNames:["fluid.component"],auxiliarySchema:{loaderGrades:["fluid.prefs.separatedPanel"]}}),_.prefs.expandSchemaValue=function(e,t){return"@"!==t.charAt(0)?t:_.get(e,t.substring(1))},_.prefs.addAtPath=function(e,t,n){var r=_.get(e,t);return _.set(e,t,E.extend(!0,{},r,n)),e},_.prefs.removeKey=function(e,t){var n=e[t];return delete e[t],n},_.prefs.rearrangeDirect=function(e,t,n){var r={},i=_.prefs.removeKey(e,n);return i&&_.set(r,t,i),r},_.prefs.addCommonOptions=function(i,o,e,a){a=a||{};var t=_.get(i,o);if(!t)return i;var s={},l={};return _.each(e,function(e,t){if("container"===t){var n=_.get(i,[o,"type"]),r=_.defaults(n);if(void 0===_.get(r,["argumentMap","container"]))return!1}-1!==t.indexOf("gradeNames")&&(l[t]=_.arrayConcatPolicy),t=_.stringTemplate(t,a),e="string"==typeof e?_.stringTemplate(e,a):e,_.set(s,t,e)}),_.set(i,o,_.merge(l,t,s)),i},_.prefs.containerNeeded=function(e,t){var n=_.get(e,[t,"type"]),r=_.defaults(n);return _.hasGrade(r,"fluid.viewComponent")||_.hasGrade(r,"fluid.rendererComponent")},_.prefs.checkPrimarySchema=function(e,t){return e||_.fail("The primary schema for "+t+" is not defined."),!!e},_.prefs.expandSchemaComponents=function(e,t,i,n,r,o,a,s){var l=_.copy(n)||{},u={},d={},c=_.prefs.removeKey(l,"type"),p=new RegExp("\\.","g"),f=c.replace(p,"_"),h=i.replace(p,"_");if(c){u[f]={type:c,options:l};var m=_.prefs.rearrangeDirect(l,f,"container"),g=_.prefs.rearrangeDirect(l,f,"template"),v=_.prefs.rearrangeDirect(l,f,"message"),y=_.defaults(c).preferenceMap[i],b=s[i];_.each(y,function(e,t){if(_.prefs.checkPrimarySchema(b,i)){var n={};if(0===t.indexOf("model.")){var r=t.slice(6);_.set(n,"model",_.get(n,"model")||{}),_.prefs.addCommonOptions(n,"model",a,{internalModelName:r,externalModelName:h}),_.set(d,["members","initialModel","preferences",h],b[e])}else _.set(n,t,b[e]);E.extend(!0,l,n)}}),_.prefs.addCommonOptions(u,f,o,{prefKey:f}),_.prefs.addAtPath(e,[t,"components"],u),_.prefs.addAtPath(e,[t,"selectors"],m),_.prefs.addAtPath(e,["templateLoader","resources"],g),_.prefs.addAtPath(e,["messageLoader","resources"],v),_.prefs.addAtPath(e,"initialModel",d)}return e},_.prefs.expandSchemaImpl=function(e,r){var i=_.copy(e);return r=r||i,_.each(i,function(e,t){if("object"==typeof e)i[t]=_.prefs.expandSchemaImpl(e,r);else if("string"==typeof e){var n=_.prefs.expandSchemaValue(r,e);void 0!==n?i[t]=n:delete i[t]}}),i},_.prefs.expandCompositePanels=function(g,e,t,o,v,y,b,x){var C=[];return _.each(e,function(e,l){var t,u,d,c={},n={},p={},f=[],r=_.copy(e);_.set(c,"type",r.type),delete r.type,t=_.prefs.rearrangeDirect(r,l,"container"),u=_.prefs.rearrangeDirect(r,l,"template"),d=_.prefs.rearrangeDirect(r,l,"message");var i=[],h={},m={};_.isPlainObject(r.panels)&&!_.isArrayable(r.panels)?_.each(r.panels,function(e,t){i=i.concat(e),"always"!==t&&_.each(e,function(e){_.set(m,e,t)})}):i=r.panels,_.each(i,function(e){C.push(e);var r=_.get(g,[e,"type"]),i=_.prefs.subPanel.safePrefKey(r);f.push(i);var t=_.copy(_.get(g,[e,"panel"])),n=_.get(t,"type");_.set(h,[i,"type"],n);var o=_.get(m,e);o&&_.set(h,[i,"options","renderOnPreference"],o);var a=_.defaults(n).preferenceMap[r],s=x[r];_.each(a,function(e,t){var n;_.prefs.checkPrimarySchema(s,r)&&(0===t.indexOf("model.")?(_.set(c,["options","model"],_.get(c,["options","model"])||{}),_.prefs.addCommonOptions(c,["options","model"],b,{internalModelName:i,externalModelName:i}),_.set(p,["members","initialModel","preferences",i],s[e])):(n=n||{options:{}},_.set(n,"options."+t,s[e])),E.extend(!0,h[i],n))}),_.set(u,i,_.get(t,"template")),_.set(d,i,_.get(t,"message")),_.set(c,["options","selectors",i],_.get(t,"container")),_.set(c,["options","resources"],_.get(c,["options","resources"])||{}),_.prefs.addCommonOptions(c.options,"resources",y,{subPrefKey:i}),delete t.type,delete t.template,delete t.message,delete t.container,_.set(h,[i,"options"],E.extend(!0,{},_.get(h,[i,"options"]),t)),_.prefs.addCommonOptions(h,i,v,{compositePanel:l,prefKey:i})}),delete r.panels,_.set(c,["options"],E.extend(!0,{},c.options,r)),_.set(c,["options","selectorsToIgnore"],f),_.set(c,["options","components"],h),n[l]=c,_.prefs.addCommonOptions(n,l,o,{prefKey:l}),_.prefs.addAtPath(g,["panels","components"],n),_.prefs.addAtPath(g,["panels","selectors"],t),_.prefs.addAtPath(g,["templateLoader","resources"],u),_.prefs.addAtPath(g,["messageLoader","resources"],d),_.prefs.addAtPath(g,"initialModel",p),E.extend(!0,g,{panelsToIgnore:C})}),g},_.prefs.expandSchema=function(e,r,t,i,o){var a=_.prefs.expandSchemaImpl(e);a.namespace=a.namespace||"fluid.prefs.created_"+_.allocateGuid();var n=_.get(a,"terms");n&&(delete a.terms,_.set(a,["terms","terms"],n));var s=_.get(a,"groups");return s&&_.prefs.expandCompositePanels(a,s,_.get(r,"panel"),_.get(i,"panel"),_.get(i,"subPanel"),_.get(i,"compositePanelBasedOnSub"),_.get(i,"panelModel"),o),_.each(a,function(e,t){var n="panel";e[n]&&!_.contains(a.panelsToIgnore,t)&&_.prefs.expandSchemaComponents(a,"panels",e.type,e[n],_.get(r,n),_.get(i,n),_.get(i,n+"Model"),o),e[n="enactor"]&&_.prefs.expandSchemaComponents(a,"enactors",e.type,e[n],_.get(r,n),_.get(i,n),_.get(i,n+"Model"),o),_.each(["template","message"],function(e){t===e&&(_.set(a,[e+"Loader","resources","prefsEditor"],a[e]),delete a[e])})}),a.panelsToIgnore&&delete a.panelsToIgnore,_.each(t,function(e,t){_.prefs.addCommonOptions(a,t,e)}),a},_.defaults("fluid.prefs.auxBuilder",{gradeNames:["fluid.prefs.auxSchema"],mergePolicy:{elementCommonOptions:"noexpand"},topCommonOptions:{panels:{gradeNames:["fluid.prefs.prefsEditor"]},enactors:{gradeNames:["fluid.uiEnhancer"]},templateLoader:{gradeNames:["fluid.resourceLoader"]},messageLoader:{gradeNames:["fluid.resourceLoader"]},initialModel:{gradeNames:["fluid.prefs.initialModel"]},terms:{gradeNames:["fluid.component"]}},elementCommonOptions:{panel:{createOnEvent:"onPrefsEditorMarkupReady",container:"{prefsEditor}.dom.%prefKey","options.gradeNames":"fluid.prefs.prefsEditorConnections","options.resources.template":"{templateLoader}.resources.%prefKey","options.messageBase":"{messageLoader}.resources.%prefKey.resourceText"},panelModel:{"%internalModelName":"{prefsEditor}.model.preferences.%externalModelName"},compositePanelBasedOnSub:{"%subPrefKey":"{templateLoader}.resources.%subPrefKey"},subPanel:{container:"{%compositePanel}.dom.%prefKey","options.messageBase":"{messageLoader}.resources.%prefKey.resourceText"},enactor:{container:"{uiEnhancer}.container"},enactorModel:{"%internalModelName":"{uiEnhancer}.model.%externalModelName"}},indexes:{panel:{expander:{func:"fluid.indexDefaults",args:["panelsIndex",{gradeNames:"fluid.prefs.panel",indexFunc:"fluid.prefs.auxBuilder.prefMapIndexer"}]}},enactor:{expander:{func:"fluid.indexDefaults",args:["enactorsIndex",{gradeNames:"fluid.prefs.enactor",indexFunc:"fluid.prefs.auxBuilder.prefMapIndexer"}]}}},mappedDefaults:{},expandedAuxSchema:{expander:{func:"fluid.prefs.expandSchema",args:["{that}.options.auxiliarySchema","{that}.options.indexes","{that}.options.topCommonOptions","{that}.options.elementCommonOptions","{that}.options.mappedDefaults"]}}}),_.prefs.auxBuilder.prefMapIndexer=function(e){return _.keys(e.preferenceMap)}}(jQuery,fluid_2_0_0),function(e){"use strict";e.defaults("fluid.prefs.termsAware"),e.defaults("fluid.prefs.auxSchema.starter.textSize",{gradeNames:["fluid.contextAware"],auxiliarySchema:{textSize:{type:"fluid.prefs.textSize",enactor:{type:"fluid.prefs.enactor.textSize"},panel:{type:"fluid.prefs.panel.textSize",container:".flc-prefsEditor-text-size",message:"%messagePrefix/textSize.json"}}},contextAwareness:{textSizeSliderVariety:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.auxSchema.starter.textSize.jQueryUI"}},defaultGradeNames:"fluid.prefs.auxSchema.starter.textSize.nativeHTML"}}}),e.defaults("fluid.prefs.auxSchema.starter.textSize.nativeHTML",{auxiliarySchema:{textSize:{panel:{template:"%templatePrefix/PrefsEditorTemplate-textSize-nativeHTML.html"}}}}),e.defaults("fluid.prefs.auxSchema.starter.textSize.jQueryUI",{auxiliarySchema:{textSize:{panel:{template:"%templatePrefix/PrefsEditorTemplate-textSize-jQueryUI.html"}}}}),e.defaults("fluid.prefs.auxSchema.starter.lineSpace",{gradeNames:["fluid.contextAware"],auxiliarySchema:{lineSpace:{type:"fluid.prefs.lineSpace",enactor:{type:"fluid.prefs.enactor.lineSpace",fontSizeMap:{"xx-small":"9px","x-small":"11px",small:"13px",medium:"15px",large:"18px","x-large":"23px","xx-large":"30px"}},panel:{type:"fluid.prefs.panel.lineSpace",container:".flc-prefsEditor-line-space",message:"%messagePrefix/lineSpace.json"}}},contextAwareness:{lineSpaceSliderVariety:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.auxSchema.starter.lineSpace.jQueryUI"}},defaultGradeNames:"fluid.prefs.auxSchema.starter.lineSpace.nativeHTML"}}}),e.defaults("fluid.prefs.auxSchema.starter.lineSpace.nativeHTML",{auxiliarySchema:{lineSpace:{panel:{template:"%templatePrefix/PrefsEditorTemplate-lineSpace-nativeHTML.html"}}}}),e.defaults("fluid.prefs.auxSchema.starter.lineSpace.jQueryUI",{auxiliarySchema:{lineSpace:{panel:{template:"%templatePrefix/PrefsEditorTemplate-lineSpace-jQueryUI.html"}}}}),e.defaults("fluid.prefs.auxSchema.starter",{gradeNames:["fluid.prefs.auxSchema","fluid.prefs.auxSchema.starter.lineSpace","fluid.prefs.auxSchema.starter.textSize"],auxiliarySchema:{loaderGrades:["fluid.prefs.separatedPanel"],namespace:"fluid.prefs.constructed",terms:{templatePrefix:"../../framework/preferences/html",messagePrefix:"../../framework/preferences/messages"},template:"%templatePrefix/SeparatedPanelPrefsEditor.html",message:"%messagePrefix/prefsEditor.json",textFont:{type:"fluid.prefs.textFont",classes:{default:"",times:"fl-font-times",comic:"fl-font-comic-sans",arial:"fl-font-arial",verdana:"fl-font-verdana"},enactor:{type:"fluid.prefs.enactor.textFont",classes:"@textFont.classes"},panel:{type:"fluid.prefs.panel.textFont",container:".flc-prefsEditor-text-font",classnameMap:{textFont:"@textFont.classes"},template:"%templatePrefix/PrefsEditorTemplate-textFont.html",message:"%messagePrefix/textFont.json"}},contrast:{type:"fluid.prefs.contrast",classes:{default:"fl-theme-prefsEditor-default",bw:"fl-theme-bw",wb:"fl-theme-wb",by:"fl-theme-by",yb:"fl-theme-yb",lgdg:"fl-theme-lgdg"},enactor:{type:"fluid.prefs.enactor.contrast",classes:"@contrast.classes"},panel:{type:"fluid.prefs.panel.contrast",container:".flc-prefsEditor-contrast",classnameMap:{theme:"@contrast.classes"},template:"%templatePrefix/PrefsEditorTemplate-contrast.html",message:"%messagePrefix/contrast.json"}},tableOfContents:{type:"fluid.prefs.tableOfContents",enactor:{type:"fluid.prefs.enactor.tableOfContents",tocTemplate:"../../components/tableOfContents/html/TableOfContents.html"},panel:{type:"fluid.prefs.panel.layoutControls",container:".flc-prefsEditor-layout-controls",template:"%templatePrefix/PrefsEditorTemplate-layout.html",message:"%messagePrefix/tableOfContents.json"}},emphasizeLinks:{type:"fluid.prefs.emphasizeLinks",enactor:{type:"fluid.prefs.enactor.emphasizeLinks",cssClass:"fl-link-enhanced"},panel:{type:"fluid.prefs.panel.emphasizeLinks",container:".flc-prefsEditor-emphasizeLinks",template:"%templatePrefix/PrefsEditorTemplate-emphasizeLinks.html",message:"%messagePrefix/emphasizeLinks.json"}},inputsLarger:{type:"fluid.prefs.inputsLarger",enactor:{type:"fluid.prefs.enactor.inputsLarger",cssClass:"fl-text-larger"},panel:{type:"fluid.prefs.panel.inputsLarger",container:".flc-prefsEditor-inputsLarger",template:"%templatePrefix/PrefsEditorTemplate-inputsLarger.html",message:"%messagePrefix/inputsLarger.json"}},groups:{linksControls:{container:".flc-prefsEditor-links-controls",template:"%templatePrefix/PrefsEditorTemplate-linksControls.html",message:"%messagePrefix/linksControls.json",type:"fluid.prefs.panel.linksControls",panels:["emphasizeLinks","inputsLarger"]}}}}),e.defaults("fluid.prefs.schemas.textSize",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.textSize":{type:"number",default:1,minimum:1,maximum:2,divisibleBy:.1}}}),e.defaults("fluid.prefs.schemas.lineSpace",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.lineSpace":{type:"number",default:1,minimum:1,maximum:2,divisibleBy:.1}}}),e.defaults("fluid.prefs.schemas.textFont",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.textFont":{type:"string",default:"default",enum:["default","times","comic","arial","verdana"]}}}),e.defaults("fluid.prefs.schemas.contrast",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.contrast":{type:"string",default:"default",enum:["default","bw","wb","by","yb","lgdg"]}}}),e.defaults("fluid.prefs.schemas.tableOfContents",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.tableOfContents":{type:"boolean",default:!1}}}),e.defaults("fluid.prefs.schemas.emphasizeLinks",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.emphasizeLinks":{type:"boolean",default:!1}}}),e.defaults("fluid.prefs.schemas.inputsLarger",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.inputsLarger":{type:"boolean",default:!1}}})}(fluid_2_0_0=fluid_2_0_0||{}),function(e){"use strict";e.defaults("fluid.prefs.auxSchema.speak",{gradeNames:["fluid.prefs.auxSchema"],auxiliarySchema:{namespace:"fluid.prefs.constructed",terms:{templatePrefix:"../../framework/preferences/html/",messagePrefix:"../../framework/preferences/messages/"},template:"%templatePrefix/SeparatedPanelPrefsEditor.html",message:"%messagePrefix/prefsEditor.json",speak:{type:"fluid.prefs.speak",enactor:{type:"fluid.prefs.enactor.selfVoicing",container:"body"},panel:{type:"fluid.prefs.panel.speak",container:".flc-prefsEditor-speak",template:"%templatePrefix/PrefsEditorTemplate-speak.html",message:"%messagePrefix/speak.json"}}}}),e.defaults("fluid.prefs.schemas.speak",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.speak":{type:"boolean",default:!1}}})}(fluid_2_0_0=fluid_2_0_0||{});fluid_2_0_0=fluid_2_0_0||{};!function(e,i){"use strict";i.registerNamespace("fluid.prefs"),i.defaults("fluid.prefs.builder",{gradeNames:["fluid.component","fluid.prefs.auxBuilder"],mergePolicy:{auxSchema:"expandedAuxSchema"},assembledPrefsEditorGrade:{expander:{func:"fluid.prefs.builder.generateGrade",args:["prefsEditor","{that}.options.auxSchema.namespace",{gradeNames:["fluid.prefs.assembler.prefsEd","fluid.viewComponent"],componentGrades:"{that}.options.constructedGrades",loaderGrades:"{that}.options.auxSchema.loaderGrades"}]}},assembledUIEGrade:{expander:{func:"fluid.prefs.builder.generateGrade",args:["uie","{that}.options.auxSchema.namespace",{gradeNames:["fluid.viewComponent","fluid.prefs.assembler.uie"],componentGrades:"{that}.options.constructedGrades"}]}},constructedGrades:{expander:{func:"fluid.prefs.builder.constructGrades",args:["{that}.options.auxSchema",["enactors","messages","panels","initialModel","templateLoader","messageLoader","terms"]]}},mappedDefaults:"{primaryBuilder}.options.schema.properties",components:{primaryBuilder:{type:"fluid.prefs.primaryBuilder",options:{typeFilter:{expander:{func:"fluid.prefs.builder.parseAuxSchema",args:"{builder}.options.auxiliarySchema"}}}}},distributeOptions:[{source:"{that}.options.primarySchema",removeSource:!0,target:"{that > primaryBuilder}.options.primarySchema"}]}),i.defaults("fluid.prefs.assembler.uie",{gradeNames:["fluid.viewComponent"],components:{store:{type:"fluid.prefs.globalSettingsStore",options:{distributeOptions:{target:"{that fluid.prefs.store}.options.contextAwareness.strategy.checks.user",record:{contextValue:"{fluid.prefs.assembler.uie}.options.storeType",gradeNames:"{fluid.prefs.assembler.uie}.options.storeType"}}}},enhancer:{type:"fluid.component",options:{gradeNames:"{that}.options.enhancerType",enhancerType:"fluid.pageEnhancer",components:{uiEnhancer:{options:{gradeNames:["{fluid.prefs.assembler.uie}.options.componentGrades.enactors"]}}}}}},distributeOptions:[{source:"{that}.options.enhancer",target:"{that uiEnhancer}.options",removeSource:!0},{source:"{that}.options.store",target:"{that fluid.prefs.store}.options"},{source:"{that}.options.enhancerType",target:"{that > enhancer}.options.enhancerType"}]}),i.defaults("fluid.prefs.assembler.prefsEd",{gradeNames:["fluid.viewComponent","fluid.prefs.assembler.uie"],components:{prefsEditorLoader:{type:"fluid.viewComponent",container:"{fluid.prefs.assembler.prefsEd}.container",priority:"last",options:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.terms","{fluid.prefs.assembler.prefsEd}.options.componentGrades.messages","{fluid.prefs.assembler.prefsEd}.options.componentGrades.initialModel","{that}.options.loaderGrades"],templateLoader:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.templateLoader"]},messageLoader:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.messageLoader"]},prefsEditor:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.panels","fluid.prefs.uiEnhancerRelay"]},events:{onReady:"{fluid.prefs.assembler.prefsEd}.events.onPrefsEditorReady"}}}},events:{onPrefsEditorReady:null,onReady:{events:{onPrefsEditorReady:"onPrefsEditorReady",onCreate:"onCreate"},args:["{that}"]}},distributeOptions:[{source:"{that}.options.loaderGrades",removeSource:!0,target:"{that > prefsEditorLoader}.options.loaderGrades"},{source:"{that}.options.prefsEditor",removeSource:!0,target:"{that prefsEditor}.options"},{source:"{that}.options.terms",removeSource:!0,target:"{that prefsEditorLoader}.options.terms"}]}),i.prefs.builder.generateGrade=function(e,t,n){var r=i.stringTemplate("%namespace.%name",{name:e,namespace:t});return i.defaults(r,n),r},i.prefs.builder.constructGrades=function(n,e){var r={};return i.each(e,function(e){var t=n[e];i.get(t,"gradeNames")&&(r[e]=i.prefs.builder.generateGrade(e,n.namespace,t))}),r},i.prefs.builder.parseAuxSchema=function(e){var n=[];return i.each(e,function(e){var t=e.type;t&&n.push(t)}),n},i.prefs.create=function(e,t){t=t||{};var n=i.prefs.builder(t.build);return i.invokeGlobalFunction(n.options.assembledPrefsEditorGrade,[e,t.prefsEditor])}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,t){"use strict";t.prefs.builder({gradeNames:["fluid.prefs.auxSchema.starter"]}),t.defaults("fluid.uiOptions.prefsEditor",{gradeNames:["fluid.prefs.constructed.prefsEditor"],lazyLoad:!1,distributeOptions:[{record:"{that}.options.lazyLoad",target:"{that separatedPanel}.options.lazyLoad"},{source:"{that}.options.tocTemplate",target:"{that uiEnhancer}.options.tocTemplate"},{source:"{that}.options.ignoreForToC",target:"{that uiEnhancer}.options.ignoreForToC"}],enhancer:{distributeOptions:[{source:"{that}.options.tocTemplate",target:"{that > fluid.prefs.enactor.tableOfContents}.options.tocTemplate"},{source:"{that}.options.ignoreForToC",target:"{that > fluid.prefs.enactor.tableOfContents}.options.ignoreForToC"}]}})}(jQuery,fluid_2_0_0),function(s){function e(e){return"object"==typeof e?e:{top:e,left:e}}var g=s.scrollTo=function(e,t,n){s(window).scrollTo(e,t,n)};g.defaults={axis:"xy",duration:1.3<=parseFloat(s.fn.jquery)?0:1},g.window=function(e){return s(window)._scrollable()},s.fn._scrollable=function(){return this.map(function(){if(!(!this.nodeName||-1!=s.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])))return this;var e=(this.contentWindow||this).document||this.ownerDocument||this;return s.browser.safari||"BackCompat"==e.compatMode?e.body:e.documentElement})},s.fn.scrollTo=function(t,n,m){return"object"==typeof n&&(m=n,n=0),"function"==typeof m&&(m={onAfter:m}),"max"==t&&(t=9e9),m=s.extend({},g.defaults,m),n=n||m.speed||m.duration,m.queue=m.queue&&1<m.axis.length,m.queue&&(n/=2),m.offset=e(m.offset),m.over=e(m.over),this._scrollable().each(function(){function l(e){c.animate(f,n,m.easing,e&&function(){e.call(this,t,m)})}var u,d=this,c=s(d),p=t,f={},h=c.is("html,body");switch(typeof p){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(p)){p=e(p);break}p=s(p,this);case"object":(p.is||p.style)&&(u=(p=s(p)).offset())}s.each(m.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",r=n.toLowerCase(),i="scroll"+n,o=d[i],a=g.max(d,t);if(u)f[i]=u[r]+(h?0:o-c.offset()[r]),m.margin&&(f[i]-=parseInt(p.css("margin"+n))||0,f[i]-=parseInt(p.css("border"+n+"Width"))||0),f[i]+=m.offset[r]||0,m.over[r]&&(f[i]+=p["x"==t?"width":"height"]()*m.over[r]);else{var s=p[r];f[i]=s.slice&&"%"==s.slice(-1)?parseFloat(s)/100*a:s}/^\d+$/.test(f[i])&&(f[i]=f[i]<=0?0:Math.min(f[i],a)),!e&&m.queue&&(o!=f[i]&&l(m.onAfterFirst),delete f[i])}),l(m.onAfter)}).end()},g.max=function(e,t){var n="x"==t?"Width":"Height",r="scroll"+n;if(!s(e).is("html,body"))return e[r]-s(e)[n.toLowerCase()]();var i="client"+n,o=e.ownerDocument.documentElement,a=e.ownerDocument.body;return Math.max(o[r],a[r])-Math.min(o[i],a[i])}}(jQuery);fluid_2_0_0=fluid_2_0_0||{};!function(t,s){"use strict";s.enhance.supportsBinaryXHR=function(){return window.FormData||window.XMLHttpRequest&&window.XMLHttpRequest.prototype&&window.XMLHttpRequest.prototype.sendAsBinary},s.enhance.supportsFormData=function(){return!!window.FormData},s.contextAware.makeChecks({"fluid.browser.supportsBinaryXHR":{funcName:"fluid.enhance.supportsBinaryXHR"},"fluid.browser.supportsFormData":{funcName:"fluid.enhance.supportsFormData"}}),s.registerNamespace("fluid.uploader"),s.uploader.fileOrFiles=function(e,t){return 1===t?e.options.strings.progress.singleFile:e.options.strings.progress.pluralFiles},s.uploader.enableElement=function(e,t){t.prop("disabled",!1),t.removeClass(e.options.styles.dim)},s.uploader.disableElement=function(e,t){t.prop("disabled",!0),t.addClass(e.options.styles.dim)},s.uploader.showElement=function(e,t){t.removeClass(e.options.styles.hidden)},s.uploader.hideElement=function(e,t){t.addClass(e.options.styles.hidden)},s.uploader.maxFilesUploaded=function(e){return e.queue.getUploadedFiles().length+e.queue.getReadyFiles().length+e.queue.getErroredFiles().length===e.options.queueSettings.fileUploadLimit},s.uploader.setTotalProgressStyle=function(e,t){t=t||!1;var n=e.totalProgress.indicator;n.toggleClass(e.options.styles.totalProgress,!t),n.toggleClass(e.options.styles.totalProgressError,t)},s.uploader.setStateEmpty=function(e){s.uploader.disableElement(e,e.locate("uploadButton")),0===e.queue.files.length&&(e.locate("browseButtonText").text(e.options.strings.buttons.browse),e.locate("browseButton").removeClass(e.options.styles.browseButton),s.uploader.showElement(e,e.locate("instructions")))},s.uploader.enableBrowseButton=function(e){s.uploader.maxFilesUploaded(e)||(s.uploader.enableElement(e,e.locate("browseButton")),e.strategy.local.enableBrowseButton())},s.uploader.setStateDone=function(e){s.uploader.disableElement(e,e.locate("uploadButton")),s.uploader.hideElement(e,e.locate("pauseButton")),s.uploader.showElement(e,e.locate("uploadButton")),s.uploader.enableBrowseButton(e)},s.uploader.setStateLoaded=function(e){e.locate("browseButtonText").text(e.options.strings.buttons.addMore),e.locate("browseButton").addClass(e.options.styles.browseButton),s.uploader.hideElement(e,e.locate("pauseButton")),s.uploader.showElement(e,e.locate("uploadButton")),s.uploader.enableElement(e,e.locate("uploadButton")),s.uploader.hideElement(e,e.locate("instructions")),e.totalProgress.hide(),s.uploader.enableBrowseButton(e)},s.uploader.setStateUploading=function(e){e.totalProgress.hide(!1,!1),s.uploader.setTotalProgressStyle(e),s.uploader.hideElement(e,e.locate("uploadButton")),s.uploader.disableElement(e,e.locate("browseButton")),e.strategy.local.disableBrowseButton(),s.uploader.enableElement(e,e.locate("pauseButton")),s.uploader.showElement(e,e.locate("pauseButton"))},s.uploader.setStateFull=function(e){e.locate("browseButtonText").text(e.options.strings.buttons.addMore),e.locate("browseButton").addClass(e.options.styles.browseButton),s.uploader.hideElement(e,e.locate("pauseButton")),s.uploader.showElement(e,e.locate("uploadButton")),s.uploader.enableElement(e,e.locate("uploadButton")),s.uploader.disableElement(e,e.locate("browseButton")),e.strategy.local.disableBrowseButton(),s.uploader.hideElement(e,e.locate("instructions")),e.totalProgress.hide()},s.uploader.renderUploadTotalMessage=function(e){var t=e.queue.getReadyFiles().length,n=e.queue.sizeOfReadyFiles(),r=s.uploader.fileOrFiles(e,t),i=e.queue.files.length,o=e.options.strings.progress.noFiles,a=s.stringTemplate(e.options.strings.progress.toUploadLabel,{fileCount:t,fileLabel:r,totalBytes:s.uploader.formatFileSize(n),uploadedCount:e.queue.getUploadedFiles().length,uploadedSize:s.uploader.formatFileSize(e.queue.sizeOfUploadedFiles()),totalCount:i,totalSize:s.uploader.formatFileSize(e.queue.totalBytes())});!i&&o&&(a=o),e.locate("totalFileStatusText").html(a)},s.uploader.renderFileUploadLimit=function(e){if(0<e.options.queueSettings.fileUploadLimit){var t=s.stringTemplate(e.options.strings.progress.fileUploadLimitLabel,{fileUploadLimit:e.options.queueSettings.fileUploadLimit,fileLabel:s.uploader.fileOrFiles(e,e.options.queueSettings.fileUploadLimit)});e.locate("fileUploadLimitText").html(t)}},s.uploader.formatFileSize=function(e){if("number"==typeof e){if(0===e)return"0.0 KB";if(0<e)return e<1048576?(Math.ceil(e/1024*10)/10).toFixed(1)+" KB":(Math.ceil(e/1048576*10)/10).toFixed(1)+" MB"}return""},s.uploader.derivePercent=function(e,t){return Math.round(100*e/t)},s.uploader.updateTotalProgress=function(e){var t=e.queue.currentBatch,n=s.uploader.derivePercent(t.totalBytesUploaded,t.totalBytes),r=t.files.length,i=s.uploader.fileOrFiles(e,r),o=t.totalBytesUploaded+e.queue.sizeOfUploadedFiles(),a=s.stringTemplate(e.options.strings.progress.totalProgressLabel,{curFileN:t.fileIdx,totalFilesN:r,fileLabel:i,currBytes:s.uploader.formatFileSize(t.totalBytesUploaded),totalBytes:s.uploader.formatFileSize(t.totalBytes),uploadedCount:e.queue.getUploadedFiles().length,uploadedSize:s.uploader.formatFileSize(o),totalCount:e.queue.files.length,totalSize:s.uploader.formatFileSize(e.queue.totalBytes())});e.totalProgress.update(n,a)},s.uploader.updateTotalAtCompletion=function(e){var t=e.queue.getErroredFiles().length,n=e.queue.files.length,r=s.uploader.fileOrFiles(e,n),i="";if(0<t){var o=1===t?e.options.strings.progress.singleError:e.options.strings.progress.pluralErrors;s.uploader.setTotalProgressStyle(e,!0),i=s.stringTemplate(e.options.strings.progress.numberOfErrors,{errorsN:t,errorLabel:o})}var a=s.stringTemplate(e.options.strings.progress.completedLabel,{curFileN:e.queue.getUploadedFiles().length,totalFilesN:n,errorString:i,fileLabel:r,totalCurrBytes:s.uploader.formatFileSize(e.queue.sizeOfUploadedFiles()),uploadedCount:e.queue.getUploadedFiles().length,uploadedSize:s.uploader.formatFileSize(e.queue.sizeOfUploadedFiles()),totalCount:e.queue.files.length,totalSize:s.uploader.formatFileSize(e.queue.totalBytes())});e.totalProgress.update(100,a)},s.uploader.updateStateAfterFileDialog=function(e){var t=e.queue.getReadyFiles().length;0<t&&(s.uploader[t===e.options.queueSettings.fileUploadLimit?"setStateFull":"setStateLoaded"](e),s.uploader.renderUploadTotalMessage(e),e.locate(e.options.focusWithEvent.afterFileDialog).focus())},s.uploader.updateStateAfterFileRemoval=function(e){s.uploader[0===e.queue.getReadyFiles().length?"setStateEmpty":"setStateLoaded"](e),s.uploader.renderUploadTotalMessage(e)},s.uploader.updateStateAfterCompletion=function(e){s.uploader[0===e.queue.getReadyFiles().length?"setStateDone":"setStateLoaded"](e),s.uploader.updateTotalAtCompletion(e)},s.uploader.uploadNextOrFinish=function(e){e.queue.shouldUploadNextFile()?e.strategy.remote.uploadNextFile():(e.events.afterUploadComplete.fire(e.queue.currentBatch.files),e.queue.clearCurrentBatch())},s.uploader.onFileStart=function(e,t){e.filestatus=s.uploader.fileStatusConstants.IN_PROGRESS,t.startFile()},s.uploader.onFileProgress=function(e,t){e.queue.updateBatchStatus(t),s.uploader.updateTotalProgress(e)},s.uploader.onFileComplete=function(e,t){t.queue.finishFile(e),t.events.afterFileComplete.fire(e),s.uploader.uploadNextOrFinish(t)},s.uploader.onFileSuccess=function(e,t){e.filestatus=s.uploader.fileStatusConstants.COMPLETE,0===t.queue.currentBatch.bytesUploadedForFile&&(t.queue.currentBatch.totalBytesUploaded+=e.size),s.uploader.updateTotalProgress(t)},s.uploader.onFileError=function(e,t,n){t===s.uploader.errorConstants.UPLOAD_STOPPED?e.filestatus=s.uploader.fileStatusConstants.CANCELLED:(e.filestatus=s.uploader.fileStatusConstants.ERROR,n.queue.isUploading&&(n.queue.currentBatch.totalBytesUploaded+=e.size,n.queue.currentBatch.numFilesErrored++,s.uploader.uploadNextOrFinish(n)))},s.uploader.afterUploadComplete=function(e){e.queue.isUploading=!1,s.uploader.updateStateAfterCompletion(e)},s.defaults("fluid.uploader",{gradeNames:["fluid.viewComponent","fluid.contextAware"],contextAwareness:{technology:{defaultGradeNames:"fluid.uploader.singleFile"},liveness:{priority:"before:technology",checks:{localDemoOption:{contextValue:"{uploader}.options.demo",gradeNames:"fluid.uploader.demo"}},defaultGradeNames:"fluid.uploader.live"}}}),s.defaults("fluid.uploader.builtinStrategyDistributor",{gradeNames:["fluid.component"],distributeOptions:{record:{contextValue:"{fluid.browser.supportsBinaryXHR}",gradeNames:"fluid.uploader.html5"},target:"{/ fluid.uploader}.options.contextAwareness.technology.checks.supportsBinaryXHR"}}),s.constructSingle([],"fluid.uploader.builtinStrategyDistributor"),s.uploader.browse=function(e,t){e.isUploading||t.browse()},s.uploader.removeFile=function(e,t,n,r){e.removeFile(r),t.removeFile(r),n.fire(r)},s.uploader.start=function(e,t,n){e.start(),n.fire(e.currentBatch.files),t.uploadNextFile()},s.uploader.stop=function(e,t){t.fire(),e.stop()},s.uploader.defaultQueueSettings={uploadURL:"",postParams:{},fileSizeLimit:"20480",fileTypes:null,fileTypesDescription:null,fileUploadLimit:0,fileQueueLimit:0},s.uploader.bindFocus=function(e,n,r,i){s.each(e,function(e,t){n[t]||r[t].addListener(function(){i.locate(e).focus()})})},s.defaults("fluid.uploader.multiFileUploader",{gradeNames:["fluid.viewComponent"],members:{totalFileStatusTextId:{expander:{funcName:"fluid.allocateSimpleId",args:"{that}.dom.totalFileStatusText"}}},invokers:{browse:{funcName:"fluid.uploader.browse",args:["{that}.queue","{that}.strategy.local"]},removeFile:{funcName:"fluid.uploader.removeFile",args:["{that}.queue","{that}.strategy.local","{that}.events.afterFileRemoved","{arguments}.0"]},start:{funcName:"fluid.uploader.start",args:["{that}.queue","{that}.strategy.remote","{that}.events.onUploadStart"]},stop:{funcName:"fluid.uploader.stop",args:["{that}.strategy.remote","{that}.events.onUploadStop"]}},components:{queue:{type:"fluid.uploader.fileQueue"},strategy:{type:"fluid.uploader.strategy"},errorPanel:{type:"fluid.uploader.errorPanel",container:"{uploader}.dom.errorsPanel",options:{gradeNames:"fluid.uploader.errorPanel.bindUploader"}},fileQueueView:{type:"fluid.uploader.fileQueueView",container:"{uploader}.dom.fileQueue",options:{gradeNames:"fluid.uploader.fileQueueView.bindUploader",members:{queueFiles:"{uploader}.queue.files"},uploaderContainer:"{uploader}.container",strings:{buttons:{remove:"{uploader}.options.strings.buttons.remove"}}}},totalProgress:{type:"fluid.progress",container:"{uploader}.container",options:{selectors:{progressBar:".flc-uploader-queue-footer",displayElement:".flc-uploader-total-progress",label:".flc-uploader-total-progress-text",indicator:".flc-uploader-total-progress",ariaElement:".flc-uploader-total-progress"}}}},queueSettings:s.uploader.defaultQueueSettings,demo:!1,selectors:{fileQueue:".flc-uploader-queue",browseButton:".flc-uploader-button-browse",browseButtonText:".flc-uploader-button-browse-text",uploadButton:".flc-uploader-button-upload",pauseButton:".flc-uploader-button-pause",totalFileStatusText:".flc-uploader-total-progress-text",fileUploadLimitText:".flc-uploader-upload-limit-text",instructions:".flc-uploader-browse-instructions",errorsPanel:".flc-uploader-errorsPanel"},noAutoFocus:{afterFileDialog:!0},focusWithEvent:{afterFileDialog:"uploadButton",onUploadStart:"pauseButton",onUploadStop:"uploadButton"},styles:{disabled:"fl-uploader-disabled",hidden:"fl-uploader-hidden",dim:"fl-uploader-dim",totalProgress:"fl-uploader-total-progress-okay",totalProgressError:"fl-uploader-total-progress-errored",browseButton:"fl-uploader-browseMore"},events:{afterReady:null,onFileDialog:null,onFilesSelected:null,onFileQueued:null,afterFileQueued:null,onFileRemoved:null,afterFileRemoved:null,afterFileDialog:null,onUploadStart:null,onUploadStop:null,onFileStart:null,onFileProgress:null,onFileError:null,onQueueError:null,onFileSuccess:null,onFileComplete:null,afterFileComplete:null,afterUploadComplete:null},listeners:{onCreate:[{listener:"fluid.uploader.bindFocus",args:["{that}.options.focusWithEvent","{that}.options.noAutoFocus","{that}.events","{that}.dom"]},{funcName:"fluid.uploader.multiFileUploader.setupMarkup",namespace:"setupMarkup"},{this:"{that}.dom.uploadButton",method:"click",args:"{that}.start"},{this:"{that}.dom.pauseButton",method:"click",args:"{that}.stop"},{this:"{that}.dom.totalFileStatusText",method:"attr",args:[{role:"log","aria-live":"assertive","aria-relevant":"text","aria-atomic":"true"}]},{this:"{that}.dom.fileQueue",method:"attr",args:[{"aria-controls":"{that}.totalFileStatusTextId","aria-labelledby":"{that}.totalFileStatusTextId"}]}],"afterFileDialog.uploader":{listener:"fluid.uploader.updateStateAfterFileDialog",args:"{that}"},"afterFileQueued.uploader":{listener:"{that}.queue.addFile",args:"{arguments}.0"},"onFileRemoved.uploader":{listener:"{that}.removeFile",args:"{arguments}.0"},"afterFileRemoved.uploader":{listener:"fluid.uploader.updateStateAfterFileRemoval",args:"{that}"},"onUploadStart.uploader":{listener:"fluid.uploader.setStateUploading",args:"{that}"},"onFileStart.uploader":{listener:"fluid.uploader.onFileStart",args:["{arguments}.0","{that}.queue"]},"onFileProgress.uploader":{listener:"fluid.uploader.onFileProgress",args:["{that}","{arguments}.1"]},"onFileComplete.uploader":{listener:"fluid.uploader.onFileComplete",args:["{arguments}.0","{that}"]},"onFileSuccess.uploader":{listener:"fluid.uploader.onFileSuccess",args:["{arguments}.0","{that}"]},"onFileError.uploader":{listener:"fluid.uploader.onFileError",args:["{arguments}.0","{arguments}.1","{that}"]},"afterUploadComplete.uploader":{listener:"fluid.uploader.afterUploadComplete",args:"{that}"}},strings:{progress:{fileUploadLimitLabel:"%fileUploadLimit %fileLabel maximum",noFiles:"0 files",toUploadLabel:"%uploadedCount out of %totalCount files uploaded (%uploadedSize of %totalSize)",totalProgressLabel:"%uploadedCount out of %totalCount files uploaded (%uploadedSize of %totalSize)",completedLabel:"%uploadedCount out of %totalCount files uploaded (%uploadedSize of %totalSize)%errorString",numberOfErrors:", %errorsN %errorLabel",singleFile:"file",pluralFiles:"files",singleError:"error",pluralErrors:"errors"},buttons:{browse:"Browse Files",addMore:"Add More",stopUpload:"Stop Upload",cancelRemaning:"Cancel remaining Uploads",resumeUpload:"Resume Upload",remove:"Remove"}}}),s.uploader.multiFileUploader.setupMarkup=function(e){s.uploader.disableElement(e,e.locate("uploadButton")),s.uploader.renderFileUploadLimit(e);var t=e.options.strings.progress.noFiles;t&&e.locate("totalFileStatusText").text(t)},s.defaults("fluid.uploader.strategy",{gradeNames:["fluid.component"],components:{local:{type:"fluid.uploader.local"},remote:{type:"fluid.uploader.remote"}}}),s.defaults("fluid.uploader.local",{gradeNames:["fluid.component"],queueSettings:"{uploader}.options.queueSettings",members:{queue:"{uploader}.queue"},events:{onFileDialog:"{uploader}.events.onFileDialog",onFilesSelected:"{uploader}.events.onFilesSelected",afterFileDialog:"{uploader}.events.afterFileDialog",afterFileQueued:"{uploader}.events.afterFileQueued",onQueueError:"{uploader}.events.onQueueError"},invokers:{enableBrowseButton:"fluid.uploader.local.enableBrowseButton",disableBrowseButton:"fluid.uploader.local.disableBrowseButton"}}),s.defaults("fluid.uploader.remote",{gradeNames:["fluid.component"],members:{queue:"{uploader}.queue",queueSettings:"{uploader}.options.queueSettings"},events:{onFileStart:"{uploader}.events.onFileStart",onFileProgress:"{uploader}.events.onFileProgress",onFileSuccess:"{uploader}.events.onFileSuccess",onFileError:"{uploader}.events.onFileError",onFileComplete:"{uploader}.events.onFileComplete",onUploadStop:"{uploader}.events.onUploadStop",afterFileComplete:"{uploader}.events.afterFileComplete",afterUploadComplete:"{uploader}.events.afterUploadComplete"},invokers:{uploadNextFile:"fluid.uploader.uploadNextFile",stop:"fluid.uploader.stop"}}),s.uploader.queueErrorConstants={QUEUE_LIMIT_EXCEEDED:"queue limit exceeded",FILE_EXCEEDS_SIZE_LIMIT:"file exceeds size limit",ZERO_BYTE_FILE:"zero byte file",INVALID_FILETYPE:"invalid filetype"},s.uploader.errorConstants={HTTP_ERROR:"HTTP error",MISSING_UPLOAD_URL:"Missing upload URL",IO_ERROR:"I/O error",SECURITY_ERROR:"Security error",UPLOAD_LIMIT_EXCEEDED:"Upload limit exceeded",UPLOAD_FAILED:"Uploader failed",SPECIFIED_FILE_ID_NOT_FOUND:"Specified file ID not found",FILE_VALIDATION_FAILED:"File validation failed",FILE_CANCELLED:"File cancelled",UPLOAD_STOPPED:"Upload stopped"},s.uploader.fileStatusConstants={QUEUED:"queued",IN_PROGRESS:"in progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled"},s.defaults("fluid.uploader.singleFile",{gradeNames:["fluid.viewComponent"],selectors:{basicUpload:".fl-progEnhance-basic"},listeners:{"onCreate.showMarkup":"fluid.uploader.singleFile.showMarkup"}}),s.uploader.singleFile.toggleVisibility=function(e,t){window.opera?(e.show().removeClass("hideUploaderForOpera"),t.show().addClass("hideUploaderForOpera")):(e.show(),t.hide())},s.uploader.singleFile.showMarkup=function(e){s.uploader.singleFile.toggleVisibility(t(e.options.selectors.basicUpload),e.container)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,r){"use strict";r.registerNamespace("fluid.uploader"),r.defaults("fluid.uploader.fileQueue",{gradeNames:["fluid.component"],members:{files:[],isUploading:!1},invokers:{start:{funcName:"fluid.uploader.fileQueue.start",args:"{that}"},startFile:{funcName:"fluid.uploader.fileQueue.startFile",args:"{that}.currentBatch"},finishFile:{funcName:"fluid.uploader.fileQueue.finishFile",args:"{that}.currentBatch"},shouldUploadNextFile:{funcName:"fluid.uploader.fileQueue.shouldUploadNextFile",args:"{that}"},addFile:{funcName:"fluid.uploader.fileQueue.addFile",args:["{that}.files","{arguments}.0"]},removeFile:{funcName:"fluid.uploader.fileQueue.removeFile",args:["{that}.files","{arguments}.0"]},totalBytes:{funcName:"fluid.uploader.fileQueue.sizeOfFiles",args:"{that}.files"},getReadyFiles:{funcName:"fluid.uploader.fileQueue.filesByStatus",args:["{that}.files",["QUEUED","CANCELLED"]]},getErroredFiles:{funcName:"fluid.uploader.fileQueue.filesByStatus",args:["{that}.files","ERROR"]},getUploadedFiles:{funcName:"fluid.uploader.fileQueue.filesByStatus",args:["{that}.files","COMPLETE"]},sizeOfReadyFiles:{funcName:"fluid.uploader.fileQueue.sizeOfFilesByStatus",args:["{that}.files",["QUEUED","CANCELLED"]]},sizeOfUploadedFiles:{funcName:"fluid.uploader.fileQueue.sizeOfFilesByStatus",args:["{that}.files","COMPLETE"]},setupCurrentBatch:{funcName:"fluid.uploader.fileQueue.setupCurrentBatch",args:"{that}"},clearCurrentBatch:{funcName:"fluid.uploader.fileQueue.clearCurrentBatch",args:"{that}"},updateCurrentBatch:{funcName:"fluid.uploader.fileQueue.updateCurrentBatch",args:[{expander:{func:"{that}.getReadyFiles"}},"{that}.currentBatch"]},updateBatchStatus:{funcName:"fluid.uploader.fileQueue.updateBatchStatus",args:["{arguments}.0","{that}.currentBatch"]}}}),r.uploader.fileQueue.start=function(e){e.setupCurrentBatch(),e.isUploading=!0,e.shouldStop=!1},r.uploader.fileQueue.startFile=function(e){e.fileIdx++,e.bytesUploadedForFile=0,e.previousBytesUploadedForFile=0},r.uploader.fileQueue.finishFile=function(e){e.numFilesCompleted++},r.uploader.fileQueue.shouldUploadNextFile=function(e){return!e.shouldStop&&e.isUploading&&e.currentBatch.numFilesCompleted+e.currentBatch.numFilesErrored<e.currentBatch.files.length},r.uploader.fileQueue.addFile=function(e,t){e.push(t)},r.uploader.fileQueue.removeFile=function(e,t){r.remove_if(e,function(e){return t===e})},r.uploader.fileQueue.sizeOfFiles=function(e){return r.accumulate(e,function(e,t){return t+e.size},0)},r.uploader.fileQueue.filterFiles=function(e,t){return r.remove_if(r.makeArray(e),t,[])},r.uploader.fileQueue.filesByStatus=function(e,n){return n=r.makeArray(n),r.uploader.fileQueue.filterFiles(e,function(t){return r.find_if(n,function(e){return t.filestatus===r.uploader.fileStatusConstants[e]})})},r.uploader.fileQueue.sizeOfFilesByStatus=function(e,t){return e=r.uploader.fileQueue.filesByStatus(e,t),r.uploader.fileQueue.sizeOfFiles(e)},r.uploader.fileQueue.setupCurrentBatch=function(e){e.clearCurrentBatch(),e.updateCurrentBatch()},r.uploader.fileQueue.clearCurrentBatch=function(e){e.currentBatch={fileIdx:0,files:[],totalBytes:0,numFilesCompleted:0,numFilesErrored:0,bytesUploadedForFile:0,previousBytesUploadedForFile:0,totalBytesUploaded:0}},r.uploader.fileQueue.updateCurrentBatch=function(e,t){t.files=e,t.totalBytes=r.uploader.fileQueue.sizeOfFiles(e)},r.uploader.fileQueue.updateBatchStatus=function(e,t){var n=e-t.previousBytesUploadedForFile;t.totalBytesUploaded+=n,t.bytesUploadedForFile+=n,t.previousBytesUploadedForFile=e}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(i,a){"use strict";a.registerNamespace("fluid.uploader.fileQueueView"),a.uploader.fileQueueView.rowForFile=function(e,t){return e.container.find("#"+t.id)},a.uploader.fileQueueView.errorRowForFile=function(e,t){return i("#"+t.id+"_error",e.container)},a.uploader.fileQueueView.fileForRow=function(e,t){return a.find_if(e.queueFiles,function(e){return e.id.toString()===t.prop("id")})},a.uploader.fileQueueView.progressorForFile=function(e,t){var n=t.id+"_progress";return e.fileProgressors[n]},a.uploader.fileQueueView.startFileProgress=function(e,t){var n=a.uploader.fileQueueView.rowForFile(e,t);e.scroller.scrollTo(n);var r=a.uploader.fileQueueView.progressorForFile(e,t);r.refreshView(),r.show()},a.uploader.fileQueueView.updateFileProgress=function(e,t,n,r){var i=a.uploader.derivePercent(n,r),o=i+"%";a.uploader.fileQueueView.progressorForFile(e,t).update(i,o)},a.uploader.fileQueueView.hideFileProgress=function(e,t){var n=a.uploader.fileQueueView.rowForFile(e,t);a.uploader.fileQueueView.progressorForFile(e,t).hide(),t.filestatus===a.uploader.fileStatusConstants.COMPLETE&&e.locate("fileIconBtn",n).removeClass(e.options.styles.dim)},a.uploader.fileQueueView.removeFileProgress=function(e,t){var n=a.uploader.fileQueueView.progressorForFile(e,t);n&&n.displayElement.remove()},a.uploader.fileQueueView.animateRowRemoval=function(e,t){t.fadeOut("fast",function(){t.remove(),e.refreshView()})},a.uploader.fileQueueView.removeFileErrorRow=function(e,t){t.filestatus===a.uploader.fileStatusConstants.ERROR&&a.uploader.fileQueueView.animateRowRemoval(e,a.uploader.fileQueueView.errorRowForFile(e,t))},a.uploader.fileQueueView.removeFileAndRow=function(e,t,n){a.uploader.fileQueueView.removeFileProgress(e,t),a.uploader.fileQueueView.removeFileErrorRow(e,t),e.events.onFileRemoved.fire(t),a.uploader.fileQueueView.animateRowRemoval(e,n)},a.uploader.fileQueueView.removeFileForRow=function(e,t){var n=a.uploader.fileQueueView.fileForRow(e,t);n&&n.filestatus!==a.uploader.fileStatusConstants.COMPLETE&&a.uploader.fileQueueView.removeFileAndRow(e,n,t)},a.uploader.fileQueueView.removeRowForFile=function(e,t){var n=a.uploader.fileQueueView.rowForFile(e,t);a.uploader.fileQueueView.removeFileAndRow(e,t,n)},a.uploader.fileQueueView.bindHover=function(e,t){e.hover(function(){e.hasClass(t.ready)&&!e.hasClass(t.uploading)&&e.addClass(t.hover)},function(){e.hasClass(t.ready)&&!e.hasClass(t.uploading)&&e.removeClass(t.hover)})},a.uploader.fileQueueView.bindDeleteKey=function(e,t){a.activatable(t,null,{additionalBindings:[{key:i.ui.keyCode.DELETE,activateHandler:function(){a.uploader.fileQueueView.removeFileForRow(e,t)}}]})},a.uploader.fileQueueView.bindRowHandlers=function(e,t){i.browser.msie&&i.browser.version<7&&a.uploader.fileQueueView.bindHover(t,e.options.styles),e.locate("fileIconBtn",t).click(function(){a.uploader.fileQueueView.removeFileForRow(e,t)}),a.uploader.fileQueueView.bindDeleteKey(e,t)},a.uploader.fileQueueView.renderRowFromTemplate=function(e,t){var n=e.rowTemplate.clone(),r=t.name,i=a.uploader.formatFileSize(t.size);n.removeClass(e.options.styles.hiddenTemplate),e.locate("fileName",n).text(r),e.locate("fileSize",n).text(i);var o=e.locate("fileIconBtn",n);return o.addClass(e.options.styles.remove),a.updateAriaLabel(o,e.options.strings.buttons.remove),n.prop("id",t.id),n.addClass(e.options.styles.ready),a.uploader.fileQueueView.bindRowHandlers(e,n),a.updateAriaLabel(n,r+" "+i),n},a.uploader.fileQueueView.createProgressorFromTemplate=function(e,t){var n=e.rowProgressorTemplate.clone(),r=t.prop("id"),i=r+"_progress";n.prop("id",i),n.css("top",t.position().top),n.height(t.height()).width(5),e.container.after(n),e.fileProgressors[i]=a.progress(e.options.uploaderContainer,{selectors:{progressBar:"#"+r,displayElement:"#"+i,label:"#"+i+" .fl-uploader-file-progress-text",indicator:"#"+i}})},a.uploader.fileQueueView.addFile=function(e,t){var n=a.uploader.fileQueueView.renderRowFromTemplate(e,t);i.browser.msie&&8<=i.browser.version||n.hide(),e.container.append(n),n.attr("title",e.options.strings.status.remove),n.fadeIn("slow"),a.uploader.fileQueueView.createProgressorFromTemplate(e,n),e.refreshView(),e.scroller.scrollTo("100%")},a.uploader.fileQueueView.enableRows=function(e,t){for(var n=0;n<e.length;n++)a.enabled(e[n],t)},a.uploader.fileQueueView.prepareForUpload=function(e){var t=e.locate("fileIconBtn",e.locate("fileRows"));t.prop("disabled",!0),t.addClass(e.options.styles.dim),a.uploader.fileQueueView.enableRows(e.locate("fileRows"),!1)},a.uploader.fileQueueView.refreshAfterUpload=function(n){var r=n.locate("fileRows"),e=n.locate("fileIconBtn",r);e.each(function(e,t){i(t).prop("disabled",r.eq(e).hasClass(n.options.styles.uploaded))}),e.removeClass(n.options.styles.dim),a.uploader.fileQueueView.enableRows(n.locate("fileRows"),!0)},a.uploader.fileQueueView.changeRowState=function(e,t,n){t.removeClass(e.options.styles.ready).removeClass(e.options.styles.error).addClass(n)},a.uploader.fileQueueView.markRowAsComplete=function(e,t){var n=a.uploader.fileQueueView.rowForFile(e,t);a.uploader.fileQueueView.changeRowState(e,n,e.options.styles.uploaded),n.attr("title",e.options.strings.status.success),a.enabled(n,!1);var r=e.locate("fileIconBtn",n);r.off("click"),r.removeClass(e.options.styles.remove),r.attr("title",e.options.strings.status.success)},a.uploader.fileQueueView.renderErrorInfoFromTemplate=function(e,t,n){var r=e.errorInfoTemplate.clone();r.prop("id",t.prop("id")+"_error");var i=a.keyForValue(a.uploader.errorConstants,n),o=e.options.strings.errors[i];e.locate("errorText",r).text(o),e.locate("fileName",t).after(r),e.scroller.scrollTo(r)},a.uploader.fileQueueView.showErrorForFile=function(e,t,n){if(a.uploader.fileQueueView.hideFileProgress(e,t),t.filestatus===a.uploader.fileStatusConstants.ERROR){var r=a.uploader.fileQueueView.rowForFile(e,t);a.uploader.fileQueueView.changeRowState(e,r,e.options.styles.error),a.uploader.fileQueueView.renderErrorInfoFromTemplate(e,r,n)}},a.uploader.fileQueueView.addKeyboardNavigation=function(t){a.tabbable(t.container),t.selectableContext=a.selectable(t.container,{selectableSelector:t.options.selectors.fileRows,onSelect:function(e){i(e).addClass(t.options.styles.selected)},onUnselect:function(e){i(e).removeClass(t.options.styles.selected)}})},a.uploader.fileQueueView.prepareTemplateElements=function(e){e.errorInfoTemplate=e.locate("errorInfoTemplate").remove(),e.errorInfoTemplate.removeClass(e.options.styles.hiddenTemplate),e.rowTemplate=e.locate("rowTemplate").remove(),e.rowProgressorTemplate=e.locate("rowProgressorTemplate",e.options.uploaderContainer).remove()},a.uploader.fileQueueView.markFileComplete=function(e,t){a.uploader.fileQueueView.progressorForFile(e,t).update(100,"100%"),a.uploader.fileQueueView.markRowAsComplete(e,t)},a.uploader.fileQueueView.refreshView=function(e){e.selectableContext.refresh(),e.scroller.refreshView()},a.defaults("fluid.uploader.fileQueueView",{gradeNames:["fluid.viewComponent"],mergePolicy:{},members:{fileProgressors:{}},invokers:{addFile:{funcName:"fluid.uploader.fileQueueView.addFile",args:["{that}","{arguments}.0"]},removeFile:{funcName:"fluid.uploader.fileQueueView.removeRowForFile",args:["{that}","{arguments}.0"]},prepareForUpload:{funcName:"fluid.uploader.fileQueueView.prepareForUpload",args:"{that}"},refreshAfterUpload:{funcName:"fluid.uploader.fileQueueView.refreshAfterUpload",args:"{that}"},showFileProgress:{funcName:"fluid.uploader.fileQueueView.startFileProgress",args:["{that}","{arguments}.0"]},updateFileProgress:{funcName:"fluid.uploader.fileQueueView.updateFileProgress",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]},markFileComplete:{funcName:"fluid.uploader.fileQueueView.markFileComplete",args:["{that}","{arguments}.0"]},showErrorForFile:{funcName:"fluid.uploader.fileQueueView.showErrorForFile",args:["{that}","{arguments}.0","{arguments}.1"]},hideFileProgress:{funcName:"fluid.uploader.fileQueueView.hideFileProgress",args:["{that}","{arguments}.0"]},refreshView:{funcName:"fluid.uploader.fileQueueView.refreshView",args:"{that}"}},components:{scroller:{type:"fluid.scrollableTable",container:"{fileQueueView}.container"}},selectors:{fileRows:".flc-uploader-file",fileName:".flc-uploader-file-name",fileSize:".flc-uploader-file-size",fileIconBtn:".flc-uploader-file-action",errorText:".flc-uploader-file-error",rowTemplate:".flc-uploader-file-tmplt",errorInfoTemplate:".flc-uploader-file-error-tmplt",rowProgressorTemplate:".flc-uploader-file-progressor-tmplt"},styles:{hover:"fl-uploader-file-hover",selected:"fl-uploader-file-focus",ready:"fl-uploader-file-state-ready",uploading:"fl-uploader-file-state-uploading",uploaded:"fl-uploader-file-state-uploaded",error:"fl-uploader-file-state-error",remove:"fl-uploader-file-action-remove",dim:"fl-uploader-dim",hiddenTemplate:"fl-uploader-hidden-templates"},strings:{progress:{toUploadLabel:"To upload: %fileCount %fileLabel (%totalBytes)",singleFile:"file",pluralFiles:"files"},status:{success:"File Uploaded",error:"File Upload Error",remove:"Press Delete key to remove file"},errors:{HTTP_ERROR:"File upload error: a network error occured or the file was rejected (reason unknown).",IO_ERROR:"File upload error: a network error occured.",UPLOAD_LIMIT_EXCEEDED:"File upload error: you have uploaded as many files as you are allowed during this session",UPLOAD_FAILED:"File upload error: the upload failed for an unknown reason.",QUEUE_LIMIT_EXCEEDED:"You have as many files in the queue as can be added at one time. Removing files from the queue may allow you to add different files.",FILE_EXCEEDS_SIZE_LIMIT:"One or more of the files that you attempted to add to the queue exceeded the limit of %fileSizeLimit.",ZERO_BYTE_FILE:"One or more of the files that you attempted to add contained no data.",INVALID_FILETYPE:"One or more files were not added to the queue because they were of the wrong type."},buttons:{remove:"Remove"}},events:{onFileRemoved:null},listeners:{"onCreate.prepareTemplateElement":"fluid.uploader.fileQueueView.prepareTemplateElements","onCreate.addKeyboardNavigation":"fluid.uploader.fileQueueView.addKeyboardNavigation","onCreate.addAriaRole":{this:"{that}.container",method:"attr",args:{role:"application"}}}}),a.defaults("fluid.uploader.fileQueueView.bindUploader",{events:{onFileRemoved:"{uploader}.events.onFileRemoved"},listeners:{"{uploader}.events.afterFileQueued":"{fileQueueView}.addFile","{uploader}.events.onUploadStart":"{fileQueueView}.prepareForUpload","{uploader}.events.onFileStart":"{fileQueueView}.showFileProgress","{uploader}.events.onFileProgress":"{fileQueueView}.updateFileProgress","{uploader}.events.onFileSuccess":"{fileQueueView}.markFileComplete","{uploader}.events.onFileError":"{fileQueueView}.showErrorForFile","{uploader}.events.afterFileComplete":"{fileQueueView}.hideFileProgress","{uploader}.events.afterUploadComplete":"{fileQueueView}.refreshAfterUpload"}}),a.registerNamespace("fluid.scrollable"),a.scrollable.makeSimple=function(e){return a.container(e)},a.scrollable.makeTable=function(e,t){return e.wrap(t),e.closest(".fl-scrollable-scroller")},a.defaults("fluid.scrollable",{gradeNames:["fluid.viewComponent"],makeScrollableFn:a.scrollable.makeSimple,members:{scrollable:{expander:{func:"{that}.options.makeScrollableFn",args:["{that}.container","{that}.options.wrapperMarkup"]}},maxHeight:{expander:{this:"{that}.scrollable",method:"css",args:"max-height"}}},invokers:{scrollTo:{this:"{that}.scrollable",method:"scrollTo",args:"{arguments}.0"},refreshView:{funcName:"fluid.scrollable.refreshView",args:"{that}"}},listeners:{onCreate:"{that}.refreshView"}}),a.scrollable.refreshView=function(e){i.browser.msie&&"6.0"===i.browser.version&&(e.scrollable.css("height",""),e.scrollable.height()>=parseInt(e.maxHeight,10)&&e.scrollable.css("height",e.maxHeight))},a.defaults("fluid.scrollableTable",{gradeNames:["fluid.scrollable"],makeScrollableFn:a.scrollable.makeTable,wrapperMarkup:"<div class='fl-scrollable-scroller'><div class='fl-scrollable-inner'></div></div>"})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,n){"use strict";n.defaults("fluid.uploader.errorPanel",{gradeNames:["fluid.viewComponent","fluid.contextAware"],invokers:{refreshView:"fluid.uploader.errorPanel.refreshView({that})"},events:{afterRender:null},components:{fileSizeErrorSection:{type:"fluid.uploader.errorPanel.section",createOnEvent:"afterRender",container:"{errorPanel}.dom.fileSizeErrorSection",options:{model:{errorCode:n.uploader.queueErrorConstants.FILE_EXCEEDS_SIZE_LIMIT},strings:{header:"{errorPanel}.options.strings.exceedsFileSize"}}},numFilesErrorSection:{type:"fluid.uploader.errorPanel.section",createOnEvent:"afterRender",container:"{errorPanel}.dom.numFilesErrorSection",options:{model:{errorCode:n.uploader.queueErrorConstants.QUEUE_LIMIT_EXCEEDED},strings:{header:"{errorPanel}.options.strings.exceedsNumFilesLimit"}}}},selectors:{header:".flc-uploader-errorPanel-header",sectionTemplate:".flc-uploader-errorPanel-section-tmplt",fileSizeErrorSection:".flc-uploader-errorPanel-section-fileSize",numFilesErrorSection:".flc-uploader-errorPanel-section-numFiles"},strings:{headerText:"Warning(s)",exceedsNumFilesLimit:"Too many files were selected. %numFiles were not added to the queue.",exceedsFileSize:"%numFiles files were too large and were not added to the queue."},listeners:{"onCreate.renderSectionTemplates":{funcName:"fluid.uploader.errorPanel.renderSectionTemplates",args:"{that}",priority:"before:domComplete"},"onCreate.domComplete":{funcName:"fluid.uploader.errorPanel.domComplete",args:"{that}"}},styles:{hiddenTemplate:"fl-hidden-templates"}}),n.uploader.errorPanel.refreshView=function(e){for(var t=0;t<e.sections.length;t++)if(0<e.sections[t].model.files.length)return void e.container.show();e.container.hide()},n.uploader.errorPanel.renderSectionTemplates=function(e){var t=e.locate("sectionTemplate").remove().removeClass(e.options.styles.hiddenTemplate);e.locate("fileSizeErrorSection").append(t.clone()),e.locate("numFilesErrorSection").append(t.clone()),e.events.afterRender.fire(e)},n.uploader.errorPanel.domComplete=function(e){e.sections=[e.fileSizeErrorSection,e.numFilesErrorSection],e.locate("header").text(e.options.strings.headerText),e.container.hide()},n.defaults("fluid.uploader.errorPanel.bindUploader",{listeners:{"{uploader}.events.afterFileDialog":"{errorPanel}.refreshView"},distributeOptions:{target:"{that fluid.uploader.errorPanel.section}.options.listeners",record:{"{uploader}.events.onQueueError":"{section}.addFile","{uploader}.events.onFilesSelected":"{section}.clear","{uploader}.events.onUploadStart":"{section}.clear","{section}.events.afterErrorsCleared":"{errorPanel}.refreshView"}}}),n.defaults("fluid.uploader.errorPanel.section",{gradeNames:["fluid.viewComponent"],model:{errorCode:void 0,files:[],showingDetails:!1},events:{afterErrorsCleared:null},selectors:{errorTitle:".fl-uploader-errorPanel-section-title",deleteErrorButton:".flc-uploader-errorPanel-section-removeButton",errorDetails:".flc-uploader-errorPanel-section-details",erroredFiles:".flc-uploader-errorPanel-section-files",showHideFilesToggle:".flc-uploader-errorPanel-section-toggleDetails"},strings:{hideFiles:"Hide files",showFiles:"Show files",fileListDelimiter:", "},invokers:{toggleDetails:"fluid.uploader.errorPanel.section.toggleDetails({that})",showDetails:"fluid.uploader.errorPanel.section.showDetails({that})",hideDetails:"fluid.uploader.errorPanel.section.hideDetails({that})",addFile:"fluid.uploader.errorPanel.section.addFile({that}, {arguments}.0, {arguments}.1)",clear:"fluid.uploader.errorPanel.section.clear({that})",refreshView:"fluid.uploader.errorPanel.section.refreshView({that})"},listeners:{"onCreate.bindHandlers":{funcName:"fluid.uploader.errorPanel.section.bindHandlers",priority:"after:refreshView"},"onCreate.refreshView":"{that}.refreshView"}}),n.uploader.errorPanel.section.toggleDetails=function(e){(e.model.showingDetails?e.hideDetails:e.showDetails)()},n.uploader.errorPanel.section.showDetails=function(e){e.locate("errorDetails").show(),e.locate("showHideFilesToggle").text(e.options.strings.hideFiles),e.model.showingDetails=!0},n.uploader.errorPanel.section.hideDetails=function(e){e.locate("errorDetails").hide(),e.locate("showHideFilesToggle").text(e.options.strings.showFiles),e.model.showingDetails=!1},n.uploader.errorPanel.section.addFile=function(e,t,n){n===e.model.errorCode&&(e.model.files.push(t.name),e.refreshView())},n.uploader.errorPanel.section.clear=function(e){e.model.files=[],e.refreshView(),e.events.afterErrorsCleared.fire()},n.uploader.errorPanel.section.refreshView=function(e){n.uploader.errorPanel.section.renderHeader(e),n.uploader.errorPanel.section.renderErrorDetails(e),e.hideDetails(),e.model.files.length<=0?e.container.hide():e.container.show()},n.uploader.errorPanel.section.bindHandlers=function(e){e.locate("deleteErrorButton").click(e.clear),e.locate("showHideFilesToggle").click(e.toggleDetails)},n.uploader.errorPanel.section.renderHeader=function(e){var t=n.stringTemplate(e.options.strings.header,{numFiles:e.model.files.length});e.locate("errorTitle").text(t)},n.uploader.errorPanel.section.renderErrorDetails=function(e){var t=e.model.files,n=0<t.length?t.join(e.options.strings.fileListDelimiter):"";e.locate("erroredFiles").text(n)}}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(r,u){"use strict";u.defaults("fluid.uploader.html5",{gradeNames:"fluid.uploader.multiFileUploader",components:{strategy:{type:"fluid.uploader.html5Strategy"}}}),u.defaults("fluid.uploader.html5Strategy",{gradeNames:["fluid.uploader.strategy"],components:{local:{type:"fluid.uploader.html5Strategy.local"},remote:{type:"fluid.uploader.html5Strategy.remote"}}}),u.registerNamespace("fluid.uploader.html5.browser"),u.uploader.html5.browser.isMS=!!navigator.msLaunchUri,u.uploader.html5Strategy.fileSuccessHandler=function(e,t,n){t.onFileSuccess.fire(e,n.responseText,n),t.onFileComplete.fire(e)},u.uploader.html5Strategy.fileErrorHandler=function(e,t,n){t.onFileError.fire(e,u.uploader.errorConstants.UPLOAD_FAILED,n.status,n),t.onFileComplete.fire(e)},u.uploader.html5Strategy.fileStopHandler=function(e,t,n){t.onFileError.fire(e,u.uploader.errorConstants.UPLOAD_STOPPED,n.status,n),t.onFileComplete.fire(e)},u.uploader.html5Strategy.monitorFileUploadXHR=function(t,n,r){r.onreadystatechange=function(){if(4===r.readyState){var e=r.status;200<=e&&e<=204?u.uploader.html5Strategy.fileSuccessHandler(t,n,r):0===e?u.uploader.html5Strategy.fileStopHandler(t,n,r):u.uploader.html5Strategy.fileErrorHandler(t,n,r)}},r.upload.onprogress=function(e){n.onFileProgress.fire(t,e.loaded,e.total)}},u.uploader.html5Strategy.uploadNextFile=function(e,t){var n=e.currentBatch;t(n.files[n.fileIdx])},u.uploader.html5Strategy.uploadFile=function(e,t){e.events.onFileStart.fire(t),e.currentXHR=e.createXHR(),u.uploader.html5Strategy.monitorFileUploadXHR(t,e.events,e.currentXHR),e.fileSender.send(t,e.queueSettings,e.currentXHR)},u.uploader.html5Strategy.stop=function(e){e.queue.isUploading=!1,e.currentXHR.abort(),e.events.onUploadStop.fire()},u.defaults("fluid.uploader.html5Strategy.remote",{gradeNames:["fluid.uploader.remote"],components:{fileSender:{type:"fluid.uploader.html5Strategy.fileSender"}},invokers:{createXHR:"fluid.uploader.html5Strategy.createXHR",uploadNextFile:{funcName:"fluid.uploader.html5Strategy.uploadNextFile",args:["{that}.queue","{that}.uploadFile"]},uploadFile:{funcName:"fluid.uploader.html5Strategy.uploadFile",args:["{that}","{arguments}.0"]},stop:{funcName:"fluid.uploader.html5Strategy.stop",args:["{that}"]}}}),u.uploader.html5Strategy.createXHR=function(){return new XMLHttpRequest},u.uploader.html5Strategy.createFormData=function(){return new FormData},u.uploader.html5Strategy.setPostParams=function(n,e){r.each(e,function(e,t){n.append(e,t)})},u.defaults("fluid.uploader.html5Strategy.fileSender",{gradeNames:["fluid.component","fluid.contextAware"],invokers:{send:{funcName:"fluid.fail",args:"Error instantiating HTML5 Uploader - browser does not support FormData feature. Please try version 1.4 or earlier of Uploader which has Firefox 3.x support"}},contextAwareness:{technology:{checks:{formData:{contextValue:"{fluid.browser.supportsFormData}",gradeNames:"fluid.uploader.html5Strategy.formDataSender"}}}}}),u.defaults("fluid.uploader.html5Strategy.formDataSender",{gradeNames:["fluid.component"],invokers:{createFormData:"fluid.uploader.html5Strategy.createFormData",send:{funcName:"fluid.uploader.html5Strategy.sendFormData",args:["{that}.createFormData","{arguments}.0","{arguments}.1","{arguments}.2"]}}}),u.uploader.html5Strategy.sendFormData=function(e,t,n,r){var i=e();return i.append("file",t),u.uploader.html5Strategy.setPostParams(i,n.postParams),r.open("POST",n.uploadURL,!0),r.send(i),i},u.defaults("fluid.uploader.html5Strategy.local",{gradeNames:["fluid.uploader.local"],invokers:{addFiles:{funcName:"fluid.uploader.html5Strategy.local.addFiles",args:["{that}","{arguments}.0"]},removeFile:"fluid.identity",enableBrowseButton:"{that}.browseButtonView.enable",disableBrowseButton:"{that}.browseButtonView.disable"},components:{browseButtonView:{type:"fluid.uploader.html5Strategy.browseButtonView",container:"{uploader}.container",options:{strings:"{uploader}.options.strings.buttons",queueSettings:"{uploader}.options.queueSettings",selectors:{browseButton:"{uploader}.options.selectors.browseButton"},events:{onBrowse:"{local}.events.onFileDialog"},listeners:{onFilesQueued:"{local}.addFiles"}}}}}),u.uploader.html5Strategy.local.addFiles=function(e,t){var n=e.options.queueSettings,r=1024*n.fileSizeLimit,i=n.fileUploadLimit,o=i-e.queue.getUploadedFiles().length-e.queue.getReadyFiles().length;e.events.onFilesSelected.fire(t.length);for(var a=0,s=0;s<t.length;s++){var l=t[s];i&&0===o?e.events.onQueueError.fire(l,u.uploader.queueErrorConstants.QUEUE_LIMIT_EXCEEDED):l.size>=r?(l.filestatus=u.uploader.fileStatusConstants.ERROR,e.events.onQueueError.fire(l,u.uploader.queueErrorConstants.FILE_EXCEEDS_SIZE_LIMIT)):(!i||0<o)&&(l.id="file-"+u.allocateGuid(),l.filestatus=u.uploader.fileStatusConstants.QUEUED,e.events.afterFileQueued.fire(l),o--,a++)}e.events.afterFileDialog.fire(a)},u.uploader.bindEventsToFileInput=function(t,n){n.click(function(){t.events.onBrowse.fire()}),u.uploader.html5.browser.isMS&&n.on("keydown",function(e){e.keyCode===r.ui.keyCode.ENTER&&(e.preventDefault(),n.trigger("click"))}),n.change(function(){var e=n[0].files;t.renderFreshMultiFileInput(),t.events.onFilesQueued.fire(e)}),n.focus(function(){t.browseButton.addClass("focus"),t.events.onFocusFileInput.fire(t,n,!0)}),n.blur(function(){t.browseButton.removeClass("focus"),t.events.onFocusFileInput.fire(t,n,!1)})},u.uploader.renderMultiFileInput=function(e){var t=r(e.options.multiFileInputMarkup),n=e.options.queueSettings.fileTypes;return u.isArrayable(n)&&(n=n.join(),t.attr("accept",n)),t},u.uploader.renderFreshMultiFileInput=function(e){var t=e.locate("fileInputs").last();t.hide(),t.prop("tabindex",-1);var n=u.uploader.renderMultiFileInput(e);n.attr("aria-label",e.options.strings.addMore),t.after(n),u.uploader.bindEventsToFileInput(e,n)},u.uploader.setupBrowseButtonView=function(e){var t=u.uploader.renderMultiFileInput(e);t.attr("aria-label",e.options.strings.browse),e.browseButton.append(t),u.uploader.bindEventsToFileInput(e,t),e.browseButton.prop("tabindex",-1)},u.uploader.isEnabled=function(e){return!e.prop("disabled")},u.defaults("fluid.uploader.html5Strategy.browseButtonView",{gradeNames:["fluid.viewComponent"],strings:{browse:"Browse files",addMore:"Add more"},multiFileInputMarkup:"<input type='file' multiple='' class='flc-uploader-html5-input' />",queueSettings:{},members:{browseButton:"{that}.dom.browseButton"},invokers:{enable:{this:"{that}.dom.fileInputs",method:"prop",args:["disabled",!1]},disable:{this:"{that}.dom.fileInputs",method:"prop",args:["disabled",!0]},isEnabled:{funcName:"fluid.uploader.isEnabled",args:"{that}.dom.fileInputs"},renderFreshMultiFileInput:{funcName:"fluid.uploader.renderFreshMultiFileInput",args:"{that}"}},selectors:{browseButton:".flc-uploader-button-browse",fileInputs:".flc-uploader-html5-input"},events:{onFocusFileInput:null,onBrowse:null,onFilesQueued:null},listeners:{onCreate:{funcName:"fluid.uploader.setupBrowseButtonView",args:"{that}"}}})}(jQuery,fluid_2_0_0);fluid_2_0_0=fluid_2_0_0||{};!function(e,n){"use strict";n.registerNamespace("fluid.uploader.demo"),n.defaults("fluid.uploader.demo",{distributeOptions:{record:"fluid.uploader.demo.remote",target:"{that strategy remote}.type"}}),n.uploader.demo.uploadNextFile=function(e){e.demoState.currentFile=e.queue.files[e.demoState.fileIdx],e.demoState.chunksForCurrentFile=Math.ceil(e.demoState.currentFile/e.demoState.chunkSize),e.demoState.bytesUploaded=0,e.queue.isUploading=!0,e.events.onFileStart.fire(e.demoState.currentFile),n.uploader.demo.simulateUpload(e)},n.uploader.demo.updateProgress=function(e,t,n,r){if(r){var i=Math.min(n.chunkSize,e.size);n.bytesUploaded=Math.min(n.bytesUploaded+i,e.size),t.onFileProgress.fire(e,n.bytesUploaded,e.size)}},n.uploader.demo.finishAndContinueOrCleanup=function(e,t){e.queue.finishFile(t),e.events.afterFileComplete.fire(t),e.queue.shouldUploadNextFile()?n.uploader.demo.uploadNextFile(e):(e.events.afterUploadComplete.fire(e.queue.currentBatch.files),t.status!==n.uploader.fileStatusConstants.CANCELLED&&e.queue.clearCurrentBatch())},n.uploader.demo.finishUploading=function(e){if(e.queue.isUploading){var t=e.demoState.currentFile;e.events.onFileSuccess.fire(t),e.demoState.fileIdx++,n.uploader.demo.finishAndContinueOrCleanup(e,t)}},n.uploader.demo.simulateUpload=function(e){if(e.queue.isUploading){var t=e.demoState.currentFile;e.demoState.bytesUploaded<t.size?n.invokeAfterRandomDelay(function(){n.uploader.demo.updateProgress(t,e.events,e.demoState,e.queue.isUploading),n.uploader.demo.simulateUpload(e)}):n.uploader.demo.finishUploading(e)}},n.uploader.demo.stop=function(e){var t=e.demoState.currentFile;t.filestatus=n.uploader.fileStatusConstants.CANCELLED,e.queue.shouldStop=!0,e.events.onFileError.fire(t,n.uploader.errorConstants.UPLOAD_STOPPED,"The demo upload was paused by the user."),n.uploader.demo.finishAndContinueOrCleanup(e,t),e.events.onUploadStop.fire()},n.invokeAfterRandomDelay=function(e){var t=Math.floor(200*Math.random()+100);setTimeout(e,t)},n.defaults("fluid.uploader.demo.remote",{gradeNames:["fluid.uploader.remote"],members:{demoState:{fileIdx:0,chunkSize:2e5}},invokers:{uploadNextFile:{funcName:"fluid.uploader.demo.uploadNextFile",args:"{that}"},stop:{funcName:"fluid.uploader.demo.stop",args:"{that}"}}})}(jQuery,fluid_2_0_0),function(e){"use strict";e.registerNamespace("fluid.uploader"),e.uploader.mimeTypeRegistry={jpg:"image/jpeg",jpeg:"image/jpeg",bmp:"image/bmp",png:"image/png",tif:"image/tiff",tiff:"image/tiff",mp3:"audio/mpeg",m4a:"audio/mp4a-latm",ogg:"audio/ogg",wav:"audio/x-wav",aiff:"audio/x-aiff",mpg:"video/mpeg",mpeg:"video/mpeg",m4v:"video/x-m4v",ogv:"video/ogg",mov:"video/quicktime",avi:"video/x-msvideo",html:"text/html",htm:"text/html",text:"text/plain",doc:"application/msword",docx:"application/msword",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.ms-powerpoint"}}(fluid_2_0_0=fluid_2_0_0||{});